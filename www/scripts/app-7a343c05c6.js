!function(){"use strict";angular.module("starter",["ionic","formlyIonic","ngCookies","pascalprecht.translate","tmh.dynamicLocale","angularMoment","ngFacebook","uiGmapgoogle-maps","angular-cache","ngParse","ngCordova","ionic.components","app.loading","app.intro","app.user","app.photogram"])}(),function(){"use strict";angular.module("ionic.components",["ionic-loading","ion-language","onesignal","ion-dao","ion-href","ion-photo","ion-location","ion-notify","ngParse"])}(),function(){"use strict";angular.module("ion-dao",[]).factory("DAO",["$interval","$q",function(e,t){function o(e){c||(c=void 0!==window.sqlitePlugin?window.sqlitePlugin.openDatabase({name:e.name,location:2,createFromLocation:1}):window.openDatabase(e.name,"1.0","Database",2e5));var o=[];return angular.forEach(e.tables,function(e){var t=[];angular.forEach(e.columns,function(e,o){t.push(o+" "+e)}),a("DROP TABLE "+e.name);var n="CREATE TABLE IF NOT EXISTS "+e.name+" ("+t.join(",")+")";o.push(a(n)),u.push(e)}),t.all(o)}function n(e,o){var n=t.defer();return a("SELECT MAX("+o+") as lastSync FROM "+e).then(function(e){var t=e.rows.item[0].lastSync;n.resolve(t)}),n.promise}function i(e){var o=t.defer(),n=[],i=[];angular.forEach(e.columns,function(e,t){n.push(t),"number"==typeof e?i.push(e):i.push("'"+e+"'")});var r="INSERT OR REPLACE INTO "+e.table+" ("+n.join(",")+") VALUES ("+i.join(",")+")";return a(r).then(o.resolve)["catch"](o.reject),o.promise}function a(e,o){o="undefined"!=typeof o?o:[];var n=t.defer();return c.transaction(function(t){t.executeSql(e,o,function(e,t){var o={rows:[]};if(t&&t.rows)for(var i=0;i<t.rows.length;i++)o.rows.push(angular.copy(t.rows[i]));n.resolve(o)},function(e,t){console.log(e,t),n.reject(t)})}),n.promise}function r(e,o,n,i,r,l,s){var c=t.defer();void 0===s&&(s=-1);var u=o,d=l?l:10,m="SELECT SUM(id) as TOTAL FROM "+e+"  "+n,g="SELECT "+u+" FROM "+e+"  "+n+" "+i+" "+r+" LIMIT "+d+" OFFSET "+s;return console.log("query",m),console.log("query",g),a(m).then(function(e){var t={page:s,total:e.rows[0].TOTAL,rows:[]};a(g).then(function(e){console.log(e),t.rows=e.rows,c.resolve(t)})}),c.promise}function l(e){for(var t=[],o=0;o<e.rows.length;o++)t.push(e.rows.item(o));return t}function s(e){return e.rows.item(0)}var c,u=[];return{init:o,insert:i,query:a,getLastSync:n,paginate:r,fetch:s,fetchAll:l}}])}(),function(){"use strict";function e(e){return{restrict:"A",template:"",link:function(e,t,o){function n(){var e=o.href;return window.cordova?window.cordova.ThemeableBrowser.open(e,"_blank",{statusbar:{color:"#ffffffff"},toolbar:{height:44,color:"#f0f0f0ff"},title:{color:"#000",showPageTitle:!0},backButtonCanClose:!0}):window.open(e),!1}t.bind("click",n)}}}e.$inject=["$cordovaInAppBrowser"],angular.module("ion-href",[]).directive("href",e)}(),function(){"use strict";function e(e,o,n,i){o.useLoader("$translatePartialLoader",{urlTemplate:"{part}/i18n/{lang}.json"}),o.useSanitizeValueStrategy(null),o.useMissingTranslationHandlerLog(),o.useLocalStorage(),i.localeLocationPattern("../bower_components/angular-i18n/angular-locale_{{locale}}.js");var a=navigator.language||navigator.userlanguage,r=a.split("-")[0],l=n.preferredLocale,s=_.some(n.locales,{code:r});s&&(l=n.locales.filter(function(e){return l==e.code})[0].code),o.preferredLanguage(l),moment.locale(l),e.addPart(t)}e.$inject=["$translatePartialLoaderProvider","$translateProvider","AppConfig","tmhDynamicLocaleProvider"];var t="app/component/ion-language";angular.module("ion-language",["ngCookies","pascalprecht.translate","tmh.dynamicLocale"]).config(e)}(),function(){"use strict";function e(e,t){e.$on("ionicLoading:true",function(o){e.loading=!0,t.show(o)}),e.$on("ionicLoading:false",function(){e.loading=!1,t.hide()})}e.$inject=["$rootScope","$ionicLoading"],angular.module("ionic-loading",["ionic"]).run(e)}(),function(){"use strict";angular.module("ion-location",["ionic"])}(),function(){"use strict";function e(e){function t(t){return e.alert({title:t.title,template:t.text})}function o(t,o){return e.confirm({title:t,template:o})}return{alert:t,confirm:o}}e.$inject=["$ionicPopup"],angular.module("ion-notify",["ionic"]).factory("Notify",e)}(),function(){"use strict";function e(e,t){e.addPart(t.path)}e.$inject=["$translatePartialLoaderProvider","config"],angular.module("ion-photo",["ionic","ngCordova","jrCrop"]).constant("config",{path:"app/component/ion-photo"}).config(e)}(),function(){"use strict";angular.module("onesignal",[]).factory("OneSignal",["$q",function(e){function t(t,o){var n=e.defer();return window.cordova?(window.plugins.OneSignal.setLogLevel({logLevel:4,visualLevel:4}),window.plugins.OneSignal.init(t,{googleProjectNumber:o},function(e){console.log("didReceiveRemoteNotificationCallBack: "+JSON.stringify(e)),n.resolve(e)}),window.plugins.OneSignal.enableInAppAlertNotification(!0)):n.reject("not cordova app"),n.promise}return{init:t}}])}(),function(){"use strict";angular.module("ngParse",[])}(),function(){"use strict";function e(e){e.state("router",{url:"/",templateUrl:"app/module/loading/loading.html",controller:"LoadingCtrl",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("app.loading",[]).config(e)}(),function(){"use strict";function e(e,t){var o="app/module/intro";e.state("intro",{url:"/intro",templateUrl:o+"/intro.html",controller:"IntroCtrl",controllerAs:"vm"}),t.addPart(o)}e.$inject=["$stateProvider","$translatePartialLoaderProvider"],angular.module("app.intro",[]).config(e)}(),function(){"use strict";function e(e,t){e.state("photogram",{url:"/photogram","abstract":!0,controller:"PhotogramTabsCtrl",controllerAs:"vm",templateUrl:"app/module/photogram/module/tabs/photogram-tabs.html",resolve:{init:["DAO","$q","User","PhotogramSetting","AppConfig",function(e,t,o,n,i){var a=t.defer();return e.init(i.DAO).then(function(e){var o=[n.init()];t.all(o).then(function(e){console.log(e),a.resolve(e)})}),a.promise}]}}),t.addPart("app/module/photogram")}e.$inject=["$stateProvider","$translatePartialLoaderProvider"],angular.module("app.photogram",["ionic","ngCordova","app.account","app.activity","app.direct","app.direct-message","app.share","app.home","app.search"]).config(e)}(),function(){"use strict";function e(e,t,o){var n="app/module/user";e.state("user",{url:"/user","abstract":!0,templateUrl:n+"/module/layout/user-layout.html"}).state("user.intro",{url:"/intro",templateUrl:n+"/module/intro/user-intro.html",controller:"UserIntroCtrl",controllerAs:"vm"}).state("user.register",{url:"/register",templateUrl:n+"/module/register/user-register.html",controller:"UserRegisterCtrl",controllerAs:"vm"}).state("user.login",{url:"/login",templateUrl:n+"/module/login/user-login.html",controller:"UserLoginCtrl",controllerAs:"vm"}).state("user.merge",{url:"/merge",controller:"UserMergeCtrl",controllerAs:"vm",templateUrl:n+"/module/merge/merge.html"}).state("logout",{url:"/logout",template:'<ion-view view-title="Logout" cache-view="false"><ion-content></ion-content></ion-view>',controller:"UserLogoutCtrl",controllerAs:"vm"}),t.otherwise("/"),o.addPart(n)}e.$inject=["$stateProvider","$urlRouterProvider","$translatePartialLoaderProvider"],angular.module("app.user",[]).config(e)}(),function(){"use strict";function e(e){e.state("photogram.account",{url:"/account",views:{tabProfile:{controller:"PhotogramAccountCtrl",controllerAs:"vm",templateUrl:"app/module/photogram/module/account/account.html"}}})}e.$inject=["$stateProvider"],angular.module("app.account",[]).config(e)}(),function(){"use strict";angular.module("account-friend-list",[])}(),function(){"use strict";function e(e,t){var o="app/module/photogram/module/activity";e.state("photogram.activity",{url:"/activity",views:{tabActivity:{controller:"PhotogramActivityCtrl",controllerAs:"vm",templateUrl:o+"/activity.html"}}})}e.$inject=["$stateProvider","$translatePartialLoaderProvider"],angular.module("app.activity",[]).config(e)}(),function(){"use strict";function e(e){e.state("photogram.direct",{url:"/direct",views:{tabHome:{controller:"DirectHomeCtrl",controllerAs:"vm",templateUrl:t+"/direct.home.html"}}})}e.$inject=["$stateProvider"],angular.module("app.direct",[]).config(e);var t="app/module/photogram/module/direct"}(),function(){"use strict";function e(e){e.state("photogram.message",{url:"/message/:channelId",views:{tabHome:{controller:"DirectMessageCtrl",controllerAs:"vm",templateUrl:t+"/direct-message.html"}}})}e.$inject=["$stateProvider"],angular.module("app.direct-message",[]).config(e);var t="app/module/photogram/module/direct-message"}(),function(){"use strict";function e(e){e.state("photogram.home",{url:"/home",views:{tabHome:{controller:"PhotogramHomeCtrl",controllerAs:"vm",templateUrl:t+"/home.html"}}})}e.$inject=["$stateProvider"],angular.module("app.home",[]).config(e);var t="app/module/photogram/module/home"}(),function(){"use strict";function e(e){e.state("photogram.search",{url:"/search",views:{tabSearch:{controller:"PhotogramSearchCtrl",controllerAs:"vm",templateUrl:t+"/search.html"}}}).state("photogram.search.map",{url:"/map",templateUrl:"app/module/photogram/module/search-map/search-map.html",controller:"SearchMapCtrl",controllerAs:"vm"}).state("photogram.search.list",{url:"/list",templateUrl:"app/module/photogram/module/search-list/search-list.html",controller:"SearchListCtrl",controllerAs:"vm"})}e.$inject=["$stateProvider"],angular.module("app.search",[]).config(e);var t="app/module/photogram/module/search"}(),function(){"use strict";angular.module("app.share",[])}(),function(){"use strict";function e(e){e.debugInfoEnabled(!1)}function t(e){Parse.initialize(e.parse.appId),Parse.serverURL=e.parse.server}function o(e,t){t.init(),window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(r.plugins.Keyboard.hideKeyboardAccessoryBar(!0),r.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()}function n(e){e.backButton.text(" ").icon("ion-ios-arrow-left"),e.platform.android.tabs.position("bottom"),e.platform.android.tabs.style("standard"),e.views.maxCache(1)}function i(e,t){e.setAppId(t.facebook),e.setPermissions("id,name,email,user_likes,bio")}function a(){if(!window.cordova){var e=window.navigator.language||window.navigator.userLanguage,t=e.substring(0,2)+"_"+e.substring(3,5).toUpperCase();!function(e,o,n){var i,a=e.getElementsByTagName(o)[0];e.getElementById(n)||(i=e.createElement(o),i.id=n,i.src="http//connect.facebook.net/"+t+"/sdk.js",a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk")}}t.$inject=["AppConfig"],o.$inject=["$ionicPlatform","User"],e.$inject=["$compileProvider"],i.$inject=["$facebookProvider","AppConfig"],n.$inject=["$ionicConfigProvider"];var r=window.cordova;angular.module("starter").run(t).run(o).run(a).config(e).config(i).config(n)}(),function(){"use strict";function e(){return{path:"app/module/photogram",app:{name:"Photogram",url:"http://photogramapp.com",image:"http://photogramapp.com/social-share.jpg"},routes:{home:"photogram.home",login:"user.intro"},color:"#00796B",facebook:"1024016557617380",parse:{appId:"myAppId",server:"https://photogramserver.herokuapp.com/parse/"},onesignal:{id:"d13d00d0-013f-406f-9811-66ce0737d7bc",google:"AIzaSyCEBeAMSs4nrAC-2cvG6N6Q_KqJpnUrnh0"},locales:[{translation:"LANG.PORTUGUES",code:"pt"},{translation:"LANG.ENGLISH",code:"en"},{translation:"LANG.TURKISH",code:"tr"},{translation:"LANG.PERSIAN",code:"fa"},{translation:"LANG.GERMAN",code:"de"}],preferredLocale:"en",DAO:{name:"photogram_db",tables:[{name:"User",columns:{id:"TEXT PRIMARY KEY",name:"TEXT",username:"TEXT",email:"TEXT",language:"TEXT",facebookimg:"TEXT",gender:"TEXT",img:"TEXT",facebook:"INTEGER",qtdFollow:"INTEGER",status:"TEXT",createdAt:"INTEGER",attributes:"TEXT"}},{name:"UserFollow",columns:{id:"TEXT PRIMARY KEY",user_id:"TEXT",followId:"TEXT"}},{name:"Gallery",columns:{id:"TEXT PRIMARY KEY",img:"TEXT",title:"TEXT",user_id:"TEXT",location:"TEXT",qtdLike:"INTEGER",liked:"BOOLEAN",likes:"INTEGER",createdAt:"INTEGER"}},{name:"GalleryActivity",columns:{id:"TEXT PRIMARY KEY",action:"TEXT",img:"TEXT",userAvatar:"TEXT",userName:"TEXT",user_id:"TEXT",gallery_id:"TEXT",createdAt:"INTEGER"}},{name:"GalleryComment",columns:{id:"TEXT PRIMARY KEY",name:"TEXT",user_id:"TEXT",userName:"TEXT",gallery_id:"TEXT",createdAt:"INTEGER"}},{name:"GallerySetting",columns:{key:"TEXT",value:"TEXT"}}]}}}angular.module("ionic").constant("AppConfig",e())}(),function(e,t,o,n,i,a,r){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),r=t.getElementsByTagName(o)[0],a.async=1,a.src=n,r.parentNode.insertBefore(a,r)}(window,document,"script","http://www.google-analytics.com/analytics.js","ga"),ga("create","UA-53950213-5",{cookieDomain:"none"}),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],ERANAMES:["Antes de Cristo","Ano do Senhor"],ERAS:["a.C.","d.C."],FIRSTDAYOFWEEK:6,MONTH:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","sáb"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],STANDALONEMONTH:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss","short":"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"pt-br",pluralCat:function(e,o){return e>=0&&2>=e&&2!=e?t.ONE:t.OTHER}})}]),function(){"use strict";var e=window.moment.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segs",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"});return e}(),function(){"use strict";function e(e,o,n,i,a){function r(r,l,s){function c(){r.closeModal=function(){r.modal.hide()},r.searchValue="",r.selectLanguage=function(e){console.log(e),o.use(e.code),moment.locale(e.code),r.language=e,i.start(),r.closeModal(),n(function(){i.end()},1e3)},a.fromTemplateUrl(t+"/modal-language.html",{scope:r,focusFirstInput:!0}).then(function(e){r.modal=e,r.modal.show()})}r.languages=e.locales,r.language=r.languages.filter(function(e){return e.code===o.use()})[0],console.log(r.language),l.bind("click",c)}return{restrict:"E",link:r,templateUrl:t+"/ion-language.html"}}e.$inject=["AppConfig","$translate","$timeout","Loading","$ionicModal"];var t="app/component/ion-language";angular.module("ion-language").directive("ionLanguage",e)}(),function(){"use strict";function e(e,t){function o(t){e.$broadcast("ionicLoading:true",t)}function n(){t(function(){e.$broadcast("ionicLoading:false")},parseInt(i+"000"))}var i=0;return{start:o,end:n}}e.$inject=["$rootScope","$timeout"],angular.module("ionic-loading").factory("Loading",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{icon:"@",loading:"="},template:'<div class="padding text-center loading" ng-show="loading"><ion-spinner icon="{{ icon }}"></ion-spinner></div>'}}angular.module("ionic-loading").directive("ionLoading",e)}(),function(){"use strict";function e(e,t,o,n,i,a){function r(){var e=a.defer();if(T.location)i(function(){e.resolve(T.location)},1e3);else{var t={timeout:1e4,enableHighAccuracy:!1};o.getCurrentPosition(t).then(function(t){T.location={latitude:t.coords.latitude,longitude:t.coords.longitude},e.resolve(T.location)},function(t){n.alert({title:"Geo Error",template:t.message}),e.reject(t)})}return e.promise}function l(){var e=a.defer();return r().then(function(t){console.log(t),c(t.latitude,t.longitude).success(function(o){o.geolocation=t,console.log(o),e.resolve(o)}).error(s)}),e.promise}function s(e){console.log(e)}function c(t,o){return e.get("http://maps.google.com/maps/api/geocode/json?latlng="+t+","+o+"&sensor=true").success(function(e){e.address_normal=e.results[0].formatted_address,e.address=u(e.results[0].address_components),e.src=d(t,o,18,500,300)})}function u(e){return e?{numero:e[0].short_name,rua:e[1].long_name,bairro:e[2].short_name,cidade:e[3].short_name,estado:e[5].long_name,uf:e[5].short_name,pais:e[6].long_name,paisCode:e[6].short_name,cep:e[7].short_name}:!1}function d(e,t,o,n,i){return"http://maps.google.com/maps/api/staticmap?center="+e+","+t+"&zoom="+o+"&size="+n+"x"+i+"&maptype=roadmap&sensor=true"}function m(e){console.log("parseAddress",e);for(var t={resume:"",geo:{latitude:e.geometry.location.H,longitude:e.geometry.location.L}},o=f(t.geo.latitude,t.geo.longitude,16,900,200),n=0;n<e.address_components.length;n++){var i=e.address_components[n].types[0];if(w[i]){var a=e.address_components[n][w[i]];t[y[i]]=a}}return t.street=t.street+", "+t.number,t.image=o,t.resume=t.street+" - "+t.city+", "+t.state+", "+t.country,t}function g(e){var t=a.defer();return v.getQueryPredictions({input:e},function(e){t.resolve(e)}),t.promise}function p(e){var t=a.defer();return b.getDetails({placeId:e},function(e){t.resolve(e)}),t.promise}function f(e,t,o,n,i){console.log("src latitude",e,t,o,n,i);var a="http://maps.googleapis.com/maps/api/staticmap?center="+e+","+t+"&zoom="+o+"&scale=1&size="+n+"x"+i+"&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C"+e+","+t+"&sensor=true";return console.log(a),a}var h={types:["geocode"]},v=new t.google.maps.places.AutocompleteService,b=new t.google.maps.places.PlacesService(t.document.createElement("input"),h),w={street_number:"long_name",route:"long_name",locality:"long_name",sublocality:"long_name",neighborhood:"long_name",political:"long_name",administrative_area_level_1:"long_name",country:"long_name",postal_code:"long_name"},y={street_number:"number",route:"street",locality:"city",administrative_area_level_1:"state",country:"country",postal_code:"zipcode",neighborhood:"district"},T={coords:{},src:""};return{src:f,getDetails:p,searchAddress:g,parseAddress:m,findMe:l}}e.$inject=["$http","$window","$cordovaGeolocation","$ionicPopup","$timeout","$q"],angular.module("ion-location").factory("GeoService",e)}(),function(){"use strict";function e(e,t){function o(o,n){function i(){o.search={},o.search.suggestions=[],o.search.query=""}function a(e){t.getDetails(e).then(function(e){console.info(e);var n=t.parseAddress(e);o.location={number:n.number,street:n.street,district:n.district,city:n.city,state:n.state,country:n.country,zipcode:n.zipcode,coords:n.geo,image:n.image,resume:n.resume},console.log(o.location),o.closeModalLocation()})}n.bind("focus",function(){function n(){t.findMe().then(function(e){console.log(e),a(e.results[0].place_id)})}function r(e){a(e.place_id)}i(),console.log("Start"),o.findMe=n,o.choosePlace=r,o.modalLocation=e.fromTemplate('<ion-modal-view><ion-header-bar class="bar bar-positive item-input-inset"><button class="button button-clear button-icon ion-pinpoint" ng-click="findMe()"></button><label class="item-input-wrapper"><input type="search" ng-model="search.query" placeholder="{{ \'Search\' | translate }}"></label><button class="button button-clear button-icon ion-ios-close-empty" ng-click="closeModalLocation()"></button></ion-header-bar><ion-content padding="false"><ion-list><ion-item ng-repeat="suggestion in search.suggestions" ng-click="choosePlace(suggestion)" ng-bind="suggestion.description"></ion-item><ion-item class="item-divider"><img src="https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png"alt=""/></ion-item></ion-list></ion-content></ion-modal-view>',{scope:o,focusFirstInput:!0}),o.modalLocation.show(),o.closeModalLocation=function(){o.modalLocation.hide(),o.modalLocation.remove()},t.searchAddress("São Paulo").then(function(e){console.log(e),o.search.suggestions=e}),o.$watch("search.query",function(e){e&&t.searchAddress(e).then(function(e){console.log(e),o.search.suggestions=e})})})}return{restrict:"A",scope:{location:"="},link:o}}e.$inject=["$ionicModal","GeoService"],angular.module("ion-location").directive("ionLocation",e)}(),function(){"use strict";function e(e){angular.extend(e.defaults,{maxAge:9e5})}function t(e){function t(t,o){return e.get(t)||e.createCache(t,{deleteOnExpire:o.deleteOnExpire||"aggressive",recycleFreq:o.recycleFreq||6e4,storageMode:o.mode||"localStorage"}),e.get(t)}function o(e,o){var n=t(e),o=n.keys(),i=[];return o.map(function(e){i.push(n.get(e))}),i}return{model:t,data:o}}e.$inject=["CacheFactoryProvider"],t.$inject=["CacheFactory"],angular.module("ngCache",["angular-cache"]).config(e).factory("Cache",t)}(),function(){"use strict";function e(e){function t(t){var o=e.defer(),n=Parse.Object.extend(t.object||"Gallery");if(""===t.photo){var i=new n;return i.set("caption",t.caption),i.save()}var a=new Parse.File(t.filename||"mypic.jpg",{base64:t.photo});return a.save().then(function(){t.photo=null;var e=new n;e.set("title",t.title),e.set("user",Parse.User.current()),e.set("img",a),void 0!==t.geo&&e.set(t.geo["class"]||"location",new Parse.GeoPoint(t.geo.lat,t.geo.lng)),e.save().then(o.resolve)},o.reject),o.promise}return{upload:t}}e.$inject=["$q"],angular.module("ngParse").factory("ParseFile",e)}(),function(){"use strict";function e(e){function t(){var e=new Parse.Query("ImageInfo");return e.descending("createdAt"),e.find()}function o(e){var t=new Parse.Query("ImageInfo");return t.get(e).then(function(e){return e.destroy()})}function n(e){var t=new Parse.Query("ImageInfo");return t.get(e)}function i(e){var t=Parse.Object.extend("Gallery");if(""!==e.photo){console.log("_params.photo "+e.photo);var o=new Parse.File("mypic.jpg",{base64:e.photo});return o.save().then(function(){e.photo=null;var n=new t;return n.set("title",e.title),n.set("img",o),n.set("user",Parse.User.current()),n.set("thumbBase64",e.thumbBase64),n.set("location",new Parse.GeoPoint(e.coords.latitude,e.coords.longitude)),n.save()},function(e){console.log("Error"),console.log(e)})}var n=new t;return n.set("caption",e.caption),n.save()}function a(){var t=e.localStorage.getItem("application.image.props")||null;return null!==t?JSON.parse(t):{quality:50,dimensions:250,saveToAlbum:!1}}function r(t){e.localStorage.setItem("application.image.props",JSON.stringify(t))}return{all:t,save:i,get:n,"delete":o,imageSettings:a,saveImageSettings:r}}e.$inject=["$window"],angular.module("ngParse").factory("ParseImageService",e)}(),function(){"use strict";function e(e){var i=e.Parse;return i.transform=n,i.count=t,i.paginate=o,i}function t(e){var t=$q.defer();return new Parse.Query(e).count().then(function(e){t.resolve(e)}),t.promise}function o(e,o){var n=$q.defer(),i=new Parse.Query(e);if(i.skip(o.pageNumber),i.limit(o.pageSize),o.sort){var a=o.sort;"asc"===a.order?i.ascending(o.sort.field):i.descending(o.sort.field)}return i.find().then(function(o){var i={results:[],total:0};o.map(function(e){var t=e.attributes;t.id=e.id,i.results.push(t)}),t(e).then(function(e){i.total=e,n.resolve(i)})}),n.promise}function n(e){var t=[];return e.map(function(e){var o=e.attributes;o.id=e,t.push(o)}),t}e.$inject=["$window"],angular.module("ngParse").factory("Parse",e)}(),function(){"use strict";function e(e,t,o){var n=e.currentUser,i=window.localStorage.intro;"true"!==i?o.go("intro",{clear:!0}):n?(console.log(n),n.name?o.go(t.routes.home,{clear:!0}):o.go("user.avatar",{clear:!0})):o.go(t.routes.login,{clear:!0})}e.$inject=["$rootScope","AppConfig","$state"],angular.module("app.loading").controller("LoadingCtrl",e)}(),function(){"use strict";function e(e,t){function o(e){n.slideIndex=e}var n=this,i=window.ionic.Platform.platform();n.slideIndex=0,n.slideChanged=o,n.next=function(){e.next()},n.previous=function(){e.previous()},i?n.device="android"===i?"android":"iphone":n.device="android",console.log(t.instant("INTRO.STEP1")),n.slides=[{top:t.instant("INTRO.STEP1"),img:"img/intro1.jpg"},{top:t.instant("INTRO.STEP2"),img:"img/intro2.jpg"},{top:t.instant("INTRO.STEP3"),img:"img/intro3.jpg"},{top:t.instant("INTRO.STEP4"),img:"img/intro4.jpg"},{top:t.instant("INTRO.STEP5"),img:"img/intro5.jpg"}],window.localStorage.intro=!0}e.$inject=["$ionicSlideBoxDelegate","$translate"],angular.module("app.intro").controller("IntroCtrl",e)}(),function(){"use strict";function e(e,t){function o(o){o.loading=!0,t(function(){e.effect(o.name,o.filter).then(function(){o.loading=!1})},500)}return{restrict:"A",scope:{name:"=",image:"=",filter:"=",loading:"="},template:'<img ng-src="{{ image }}" id="{{ name }}">',link:o}}e.$inject=["CamanJs","$timeout"],angular.module("ion-photo").directive("caman",e)}(),function(){"use strict";function e(e,t,o){function n(t,n){function i(){document.getElementById("browseBtn").click()}function a(){o.show({buttons:[{text:'<i class="icon ion-camera"></i>Photo Camera'},{text:'<i class="icon ion-images"></i> Photo Album'}],titleText:"Change Image",cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return 0===e&&console.log("Photo Camera"),1===e&&document.getElementById("browseBtn").click(),!0}})}function r(e){var o=e.target.files[0],n=new FileReader;n.readAsDataURL(o),n.onload=function(e){var o=e.target.result;t.crop(o)},angular.element(document.getElementById("browseBtn")).val("")}function l(o){console.log(t.option),e.crop({url:o,width:t.option?t.option.width:200,height:t.option?t.option.height:200,cancelText:"Cancel",chooseText:"Save"}).then(function(e){var o=e.toDataURL();console.log(o),t.ngModel=o})}t.action=a,n.bind("click",i),t.crop=l,angular.element(document.getElementById("browseBtn")).on("change",r)}return{restrict:"A",scope:{ngModel:"=",option:"=",cropSave:"&"},template:'<div><input type="file" id="browseBtn" image="image" accept="image/*" style="display: none"/></div>',link:n}}e.$inject=["$jrCrop","$translate","$ionicActionSheet"],angular.module("ion-photo").directive("ionCrop",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r,l){function s(s,c,u){function d(){console.log("Open share");var e={crop:r.get("imageCrop"),allowEdit:r.get("imageEdit"),filter:!0,allowRotation:r.get("imageRotation"),quality:r.get("imageQuality"),correctOrientation:r.get("imageEdit"),targetWidth:r.get("imageWidth"),targetHeight:r.get("imageHeight"),saveToPhotoAlbum:r.get("imageSaveAlbum")};console.log(e),l.open(e).then(g)["catch"](m)}function m(){console.warn("Deu erro"),e.go("photogram.home")}function g(e){function t(){$scope.modalPost.hide(),$scope.modalPost.remove(),a.end()}function r(e){var i=angular.copy(e);console.log(i),a.start(),n.post(i).then(function(){t(),o.$emit("filterModal:close"),o.$emit("PhotogramHome:reload")})}$scope.closePost=t,$scope.submitPost=r,$scope.form={title:"",location:"",photo:e,geo:!1},i.fromTemplateUrl(p+"/module/share/photogram.post.modal.html",{scope:$scope,focusFirstInput:!0}).then(function(t){$scope.form.photo=e,$scope.modalPost=t,$scope.modalPost.show()})}var p=t.path;c.bind("click",d)}return{restrict:"A",link:s,template:""}}e.$inject=["$state","AppConfig","$rootScope","Photogram","$ionicModal","Loading","PhotogramSetting","PhotoService"],angular.module("ion-photo").directive("photoShare",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{image:"=",apply:"="},templateUrl:t.path+"/view/photo.filter.carousel.html",link:function(t){t.filters=e.filters,t.applyFilter=t.apply}}}e.$inject=["CamanJs","config"],angular.module("ion-photo").directive("photoFilterCarousel",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{image:"="},templateUrl:e.path+"/view/photo.filter.html",link:function(e,o){e.applyFilter=function(o,n){e.loading=!0,n&&t.effect(o,n,!0).then(function(t){e.loading=!1})}}}}e.$inject=["config","CamanJs"],angular.module("ion-photo").directive("photoFilter",e)}(),function(){"use strict";function e(e){function t(t,o,i){var a=e.defer(),r=window.document.getElementById(t);return r?n(r,function(){"normal"===o&&(this.revert(),this.render(function(){a.resolve(o)})),o in this&&(this[o](),i&&this.revert(),this.render(function(){a.resolve(o)}))}):a.reject(),a.promise}function o(t){var o=e.defer(),i=window.document.getElementById(t);return n(i,function(){this.revert(),o.resolve(!0)}),o.promise}var n=window.Caman,i=["normal","vintage","lomo","clarity","sinCity","sunrise","crossProcess","orangePeel","love","grungy","jarques","pinhole","oldBoot","glowingSun","hazyDays","herMajesty","nostalgia","hemingway","concentrate"];return{filters:i,effect:t,reset:o}}e.$inject=["$q"],angular.module("ion-photo").factory("CamanJs",e)}(),function(){"use strict";function e(e,t,o){function n(t,n){function i(){var e=window.document.getElementById("image"),t=e.toDataURL();console.log(t),n(t),a()}function a(){l.modal.hide()}var r='<ion-modal-view class="modal-capture"><ion-header-bar class="bar-light"><button class="button button-clear button-icon ion-ios-arrow-thin-left"ng-click="closeCapture()"></button><div class="title text-left">{{ \'ION-PHOTO.FILTERS\' | translate }}</div><button class="button button-clear button-icon ion-ios-arrow-thin-right"ng-click="submitCapture()"></button></ion-header-bar><ion-content scroll="false"><photo-filter image="form.photo"></photo-filter></ion-content></ion-modal-view>',t=t.toDataURL(),l=e.$new(!0);l.closeCapture=a,l.submitCapture=i,l.form={photo:t},l.modal=o.fromTemplate(r,{scope:l}),l.modal.show()}return{load:n}}e.$inject=["$rootScope","$q","$ionicModal"],angular.module("ion-photo").factory("PhotoFilter",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r,l,s,c){function u(o){function n(e){console.log(e),s(),p(e,r).then(d).then(g).then(function(e){console.log("Final rest"),a.resolve(e)})["catch"](i)}function i(e){s(e)}var a=c.defer(),r={jrCrop:o.jrCrop?o.jrCrop:v.jrCrop,filter:o.filter?o.filter:v.filter,quality:o.quality?o.quality:v.quality,aspectRatio:o.aspectRatio?o.aspectRatio:v.aspectRatio,allowRotation:o.allowRotation?o.allowRotation:v.allowRotation,allowEdit:o.allowEdit?o.allowEdit:v.allowEdit,correctOrientation:o.correctOrientation?o.correctOrientation:v.correctOrientation,targetWidth:o.width?o.width:v.targetWidth,targetHeight:o.height?o.height:v.targetHeight,saveToPhotoAlbum:o.saveToPhotoAlbum?o.saveToPhotoAlbum:v.saveToPhotoAlbum,destinationType:window.cordova?Camera.DestinationType.DATA_URL:null,encodingType:window.cordova?Camera.EncodingType.JPEG:null,popoverOptions:window.cordova?CameraPopoverOptions:null},l=[{text:'<i class="icon ion-ios-camera"></i>'+t.instant("ION-PHOTO.CAMERA")},{text:'<i class="icon ion-images"></i>'+t.instant("ION-PHOTO.GALLERY")}],s=e.show({buttons:l,titleText:t.instant("ION-PHOTO.SHARE"),cancelText:t.instant("ION-PHOTO.CANCEL"),cancel:i,buttonClicked:n});return a.promise}function d(e){var o=c.defer();return window.cordova&&(e="data:image/jpeg;base64,"+e),v.jrCrop?i.crop({url:e,aspectRatio:v.aspectRatio?v.aspectRatio:!1,allowRotation:v.allowRotation?v.allowRotation:!1,
width:v.width?v.width:v.targetWidth,height:v.height?v.height:v.targetHeight,cancelText:t.instant("ION-PHOTO.CANCEL"),chooseText:t.instant("ION-PHOTO.CROP")}).then(function(e){o.resolve(e.toDataURL())})["catch"](o.reject):o.resolve(e),o.promise}function m(e){function t(e,t){console.log("share",e,t),n.share(e,{text:t.title,image:t.photo,link:o.app.url})}var i='<ion-modal-view class="modal-share"> <ion-header-bar class="bar-dark"> <div class="title">{{ \'ION-PHOTO.SHARE\' | translate }}</div> <button class="button button-positive" ng-click="modal.hide()"> <i class="icon ion-arrow-right-b"></i> </button> </ion-header-bar> <ion-content ng-cloak> <div id="image"> <img ng-src="{{form.photo}}"> <div class="title">{{ form.title }}</div></div> <ul class="list"> <li class="padding"> <button ng-repeat="social in sociais" ng-click="share(form, social)"class="button button-block button-{{ social }}"><i class="icon ion-social-{{ social }}"></i>{{ social | uppercase }} </button> </li> </ul> </ion-content> </ion-modal-view>';if(void 0===e)return!1;var l=a.$new(!0),s=["facebook","instagram","whatsapp","twitter"];l.sociais=s,l.share=t,l.form={title:"",photo:e},l.modal=r.fromTemplate(i,{scope:l}),l.modal.show()}function g(e){function t(e){function n(){o.reject(),s.modalFilter.hide()}function i(){var e=window.document.getElementById("image"),t=e.toDataURL();s.modalFilter.remove(),o.resolve(t)}var l='<ion-modal-view class="modal-capture"><ion-header-bar class="bar-light"><button class="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="cropImage()"></button><div class="title">{{ \'ION-PHOTO.FILTERS\' | translate }}</div><button class="button button-icon " ng-click="submitFilter()"><i class="icon ion-ios-arrow-thin-right"></i></button></ion-header-bar><ion-content><photo-filter image="form.photo"></photo-filter></ion-content></ion-modal-view>',s=a.$new(!0);s.closeFilter=n,s.submitFilter=i,f=e,s.form={photo:e},s.modalFilter=r.fromTemplate(l,{scope:s}),s.cropImage=function(){s.modalFilter.remove(),d(f).then(t)},s.modalFilter.show()}var o=c.defer();return t(e),o.promise}function p(e,t){function o(e){if(0===e&&h&&(t.sourceType=Camera.PictureSourceType.CAMERA),1===e&&h&&(t.sourceType=Camera.PictureSourceType.PHOTOLIBRARY),h)l.getPicture(t).then(i.resolve,i.reject);else{var o=angular.element('<input type="file"/>');o[0].click(),o.on("change",function(e){f=e.currentTarget.files[0];var t=new FileReader;t.onload=function(e){i.resolve(e.target.result)},t.readAsDataURL(f)})}}function n(){s.captureVideo({limit:1,duration:5}).then(function(e){f=e[0].fullPath,i.resolve(f)},i.reject)}var i=c.defer();return 0===e&&o(0),1===e&&o(1),2===e&&n(),i.promise}var f,h=window.cordova,v={jrCrop:!0,quality:90,allowEdit:!1,filter:!0,correctOrientation:!0,targetWidth:300,targetHeight:300,saveToPhotoAlbum:!1,allowRotation:!1,aspectRatio:0};return{open:u,crop:d,filter:g,share:m}}e.$inject=["$ionicActionSheet","$translate","AppConfig","PhotogramShare","$jrCrop","$rootScope","$ionicModal","$cordovaCamera","$cordovaCapture","$q"],angular.module("ion-photo").factory("PhotoService",e)}(),function(){"use strict";function e(e,t){function o(t){e.resolveLocalFileSystemURL(t,function(e){return n(e)},r)}function n(t){var o=t.fullPath.substr(t.fullPath.lastIndexOf("/")+1),n=l()+o;e.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(e){t.copyTo(e,n,function(e){return i(e)},r)},r)}function i(t){var o=t.nativeURL.slice(0,-4);e.PKVideoThumbnail.createThumbnail(t.nativeURL,o+".png",function(e){return a(e)},r)}function a(e){var t=e.slice(0,-4);t+=".MOV",s.resolve(t)}function r(e){console.log("FAIL: "+e.code),s.reject("ERROR")}function l(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;5>o;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var s=t.defer();return{saveVideo:function(e){return o(e[0].localURL),promise}}}e.$inject=["$window","$q"],angular.module("ion-photo").factory("Video",e)}(),function(){"use strict";function e(e,t){function o(){ionic.Platform.isWebView()?(e.onLine=t.isOnline(),e.$apply(),e.$on("$cordovaNetwork:online",function(t,o){console.log("went online"),e.onLine=!0,e.$apply()}),e.$on("$cordovaNetwork:offline",function(t,o){console.log("went offline"),e.onLine=!1,e.$apply()})):(e.onLine=navigator.onLine,e.$apply(),window.addEventListener("online",function(t){console.log("went online"),e.onLine=!0,e.$apply()},!1),window.addEventListener("offline",function(t){console.log("went offline"),e.onLine=!1,e.$apply()},!1))}return{watch:o}}e.$inject=["$rootScope","$cordovaNetwork"],angular.module("app.photogram").factory("ConnectMonitor",e)}(),function(){"use strict";function e(){function e(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function t(e){return new Date(e).toLocaleDateString()}function o(){var e=new Date,t="00",o=e.getFullYear(),n=(t+(e.getMonth()+1)).slice(-t.length),i=(t+e.getDate()).slice(-t.length);return o+"-"+n+"-"+i}function n(e){var t=new Date(e),o="00",n=t.getFullYear(),i=(o+(t.getMonth()+1)).slice(-o.length),a=(o+t.getDate()).slice(-o.length);return n+"-"+i+"-"+a}function i(e){var t=["Janeiro","Feveiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return t[e.getMonth()]}function a(e){var t=e.getFullYear(),o=e.getMonth();return new Date(t,o,1)}function r(e){var t=e.getFullYear(),o=e.getMonth()+1;return new Date(t,o,0)}return{parseData:e,parseString:t,getDate:o,formatDate:n,getMonthName:i,getFirstDay:a,getLastDay:r}}angular.module("app.photogram").factory("dataUtil",e)}(),function(){"use strict";function e(e,t,o,n,i,a){function r(o){var n=e.defer();return new t.Query("Gallery").get(o,function(e){e.destroy(),n.resolve(e)}),n.promise}function l(o){var n=e.defer(),i=t.Object.extend("Gallery");if(""===o.photo){var a=new i;return a.set("caption",o.caption),a.save()}var r=new t.File("mypic.jpg",{base64:o.photo});return r.save().then(function(){o.photo=null;var e=new i;e.set("title",o.title),e.set("user",t.User.current()),e.set("img",r),void 0!==o.location&&e.set("location",new t.GeoPoint(o.location.latitude,o.location.longitude)),e.save().then(function(e){console.log("Posted Photo",e),n.resolve(e)})},function(e){console.log("Error",e),n.reject(e)}),n.promise}function s(o){var n=e.defer(),i=new t.Query("Gallery").get(o,function(e){return console.log(e),e});return new t.Query("GalleryComment").equalTo("galery",i).descending("createdAt").find().then(function(e){var t=[];angular.forEach(e,function(e){var o=e.attributes;o.id=e.id,o.user=e.attributes.commentBy,t.push(o)}),a.end(),n.resolve(t)}),n.promise}function c(o){var n=e.defer();return new t.Query("Gallery").get(o).then(function(e){new t.Query("GalleryComment").equalTo("gallery",e).include("commentBy").ascending("createdAt").find().then(function(e){var t=[];e.map(function(e){console.warn(e);var o={id:e.id,text:e.attributes.text,created:e.createdAt,user:e.attributes.commentBy};o.userAvatar=i.avatar(o.user.attributes),t.push(o)}),n.resolve(t)})}),n.promise}function u(o){var n=e.defer();return console.log("updateComment",o),new t.Query("GalleryComment").get(o.id,function(e){console.log("updateComment comment",e),e.set("text",o.text),e.save(),n.resolve()}),n.promise}function d(o){function n(e){e.destroy(function(){i.resolve()})}var i=e.defer();return new t.Query("GalleryComment").get(o.id,n),i.promise}function m(o){var n=e.defer();return i.find(o).then(function(e){new t.Query("UserFollow").equalTo("user",e).include("follow").find().then(function(e){var t=[];angular.forEach(e,function(e){console.warn(e);var o={id:e.id,text:e.attributes.text,user:e.attributes.follow.attributes,created:e.createdAt};o.userAvatar=i.avatar(o.user.attributes),t.push(o.user)}),n.resolve(t)})}),n.promise}function g(o){var n=e.defer();return new t.Query("Gallery").get(o).then(function(e){e.length?new t.Query("GalleryLike").equalTo("gallery",e).include("user").ascending("createdAt").find().then(function(e){var t=[];angular.forEach(e,function(e){console.warn(e);var o={id:e.id,text:e.attributes.text,user:e.attributes.user.attributes,created:e.createdAt};o.userAvatar=i.avatar(o.user.attributes),t.push(o)}),console.log(t),n.resolve(t)}):n.reject(!0)}),n.promise}function p(o){var n=e.defer(),a=[],r=new t.GeoPoint(o),l=10;return new t.Query("Gallery").near("location",r).withinRadians("location",r,l).include("user").find().then(function(e){e.length?(e.map(function(e){var t=100,o=angular.copy(e.attributes);o.id=e.id,o.img=i.avatar(e.attributes),o.created=e.createdAt,o.icon={size:{width:100,height:100},scaledSize:{width:t/2,height:t/2},url:"img/icon.png"},o.icon.url=o.img,o.coords={latitude:o.location._latitude,longitude:o.location._longitude},a.push(o)}),n.resolve(a)):n.reject(!0)}),n.promise}function f(o,n){var i=e.defer(),a=[],r=15;return new t.Query("Gallery").limit(r).skip(n*r).matches("title","* "+o+".*").include("user").find().then(function(e){e.map(function(e){console.log("gallery search item",e);var t={id:e.id,item:e.attributes,src:e.attributes.img.url(),created:e.createdAt,user:e.attributes.user.id};a.push(t)}),i.resolve(a)}),i.promise}function h(t,n,i){var a,r=e.defer();return n&&(a='WHERE user_id ="'+n+'"'),o.paginate("Gallery","User.name as userName, User.status as userStatus, User.img as userAvatar, Gallery.*","","INNER JOIN User ON Gallery.user_id = User.id",a+" ORDER BY Gallery.createdAt DESC",i,t).then(function(e){console.log(e),r.resolve(e)}),r.promise}function v(n,a,r){function l(){return a?new t.Query("Gallery").descending("createdAt").equalTo("user",a):new t.Query("Gallery").descending("createdAt")}var s=e.defer(),c={total:0,rows:[]};return l().count().then(function(e){console.log("results",e),c.total=e,l().include("user").limit(r).skip(n*r).find().then(function(e){var n=e.length;n||s.reject(!0);var a=_.after(e.length,function(){s.resolve(c)});_.each(e,function(e){var n=e.relation("likes"),r=e.relation("comments");n.query().equalTo("gallery",e).equalTo("user",t.User.current()).count().then(function(t){t=t>0?!0:!1,r.query().include("commentBy").ascending("createdAt").limit(R).find().then(function(n){var r=[];n.map(function(e){var t=e.attributes.commentBy,n={id:e.id,text:e.attributes.text,user:t,created:e.attributes.createdAt,userAvatar:i.avatar(t.attributes),userName:t.attributes.name};i.cacheUser(n.user);var a={table:"GalleryComment",columns:{id:n.id,name:n.text,user_id:n.user.id,userName:n.user.attributes.name,gallery_id:e.id,createdAt:n.createdAt?new Date(n.createdAt).getTime():(new Date).getTime()}};o.insert(a),r.push(n)});var l={id:e.id,item:angular.copy(e.attributes),created:e.createdAt,likes:e.attributes.qtdLike||0,liked:t,img:e.attributes.img._url,comments:r,user_id:e.attributes.user.id,userName:e.attributes.user.attributes.name,userAvatar:i.avatar(e.attributes.user.attributes),userStatus:e.attributes.user.attributes.status},s={table:"Gallery",columns:{id:e.id,title:e.attributes.title,img:e.attributes.img._url,user_id:e.attributes.user.id,location:JSON.stringify(e.attributes.location),qtdLike:e.attributes.qtdLike||0,liked:t,likes:e.attributes.qtdLike||0,createdAt:new Date(e.createdAt).getTime()}};o.insert(s),c.rows.push(l),a()})})})})}),s.promise}function b(e,t){var o=15;return n.onLine?v(e,t,o):h(e,t,o)}function w(o,n,a){function r(){return n?new t.Query("Gallery").descending("createdAt").equalTo("user",n):new t.Query("Gallery").descending("createdAt")}var l=e.defer(),s=30,c={total:0,rows:[]};return r().count().then(function(e){console.log("results",e),c.total=e,r().include("user").limit(s).skip(o*s).find().then(function(e){var t=e.length;t||l.reject(!0);var o=_.after(e.length,function(){l.resolve(c)});_.each(e,function(e){var t={id:e.id,item:angular.copy(e.attributes),created:e.createdAt,likes:e.attributes.qtdLike||0,img:e.attributes.img.url(),user:e.attributes.user,user_id:e.attributes.user.id,userAvatar:i.avatar(e.attributes.user.attributes)};c.rows.push(t),o()})})}),l.promise}function y(o){var n=e.defer();return console.log(o),a.start(),T(o).then(function(e){console.log(e);var r=e.relation("likes"),l=e.relation("comments");r.query().equalTo("gallery",o).equalTo("user",t.User.current()).count().then(function(e){r.query().count().then(function(t){l.query().include("commentBy").descending("createdAt").limit(R).find().then(function(r){console.log(r);var l=[];angular.forEach(r,function(e){var t={id:e.id,text:e.attributes.text,user:e.attributes.commentBy.attributes};t.userAvatar=i.avatar(t.user),l.push(t)});var s={id:o.id,item:o.attributes,created:o.createdAt,likes:t,liked:e,user:o.attributes.user.attributes,comments:l};s.userAvatar=i.avatar(s.user),n.resolve(s),a.end()})})})}),n.promise}function T(o){var n=e.defer();return new t.Query("Gallery").include("user").get(o).then(function(e){n.resolve(e)}),n.promise}function k(o){var n=e.defer();return console.log("addComent",o),T(o.galleryId).then(function(e){var i=t.Object.extend("GalleryComment"),a=new i({});angular.forEach(o,function(e,t){a.set(t,e)}),a.set("commentBy",t.User.current()),a.set("gallery",e),a.save(null).then(function(t){console.log(t),M({galleryId:e.id,action:"add comment"}),e.relation("comments").add(t),e.save().then(function(e){console.log(e),n.resolve(e)})})}),n.promise}function E(o){var n=e.defer();return T(o).then(function(e){new t.Query("GalleryLike").equalTo("gallery",e).equalTo("user",t.User.current()).first().then(function(e){console.warn(e),void 0===e?n.reject(e):n.resolve(e)})}),n.promise}function P(o){var n=e.defer();return T(o).then(function(e){var o=new t.Object.extend("GalleryLike"),i=new o({});i.set("user",t.User.current()),i.set("gallery",e),console.log(e),i.save(null).then(function(t){console.log(t);var o=parseInt(e.attributes.qtdLike)?parseInt(e.attributes.qtdLike+1):1;console.log("Qtd Like",o),e.set("qtdLike",o),e.relation("likes").add(t),console.log("Save Gallery",e),e.save().then(function(e){console.log(e),n.resolve({liked:!0,likes:o})},function(e){console.error(e),n.reject(e)})})}),n.promise}function A(o){var n=e.defer();return T(o).then(function(e){new t.Query("GalleryLike").equalTo("gallery",e).equalTo("user",t.User.current()).first().then(function(t){var o=parseInt(e.attributes.qtdLike-1);0>o&&(o=0),console.log("Remove like",o,e),e.set("qtdLike",o),e.relation("likes").remove(t),t.destroy(function(t){t&&(console.log("Remove like"),e.save().then(function(e){console.log("New Gallery",e),n.resolve({liked:!1,likes:e.attributes.qtdLike})},function(e){console.error(e),n.reject(e)}))})})}),n.promise}function O(t){var o=e.defer();return E(t).then(function(e){console.warn(e);var n="";e?(console.log("Remove Like"),n=A(t),M({galleryId:t,action:"unlike like"})):(console.log("Add like"),n=P(t),M({galleryId:t,action:"add like"})),n.then(function(e){console.log(e),o.resolve(e)})})["catch"](function(e){console.log("Add like",e),M({galleryId:t,action:"add like"}),P(t).then(function(e){console.log(e),o.resolve(e)})}),o.promise}function $(o){var n=e.defer();return void 0===o&&(o=t.User.current().id),i.find(o).then(function(e){new t.Query("Gallery").equalTo("user",e).count().then(function(e){n.resolve(e)})}),n.promise}function F(o,n){var a=e.defer(),r=[],l=9;return void 0===o&&(o=t.User.current().id),i.find(o).then(function(e){new t.Query("Gallery").equalTo("user",e).descending("createdAt").include("user").limit(l).skip(n*l).find().then(function(e){if(e.length){var o=_.after(e.length,function(){a.resolve(r)});_.each(e,function(e){var n=e.relation("likes"),a=e.relation("comments");n.query().equalTo("gallery",e).equalTo("user",t.User.current()).count().then(function(t){n.query().count().then(function(n){a.query().include("commentBy").descending("createdAt").limit(R).find().then(function(a){var l=[];angular.forEach(a,function(e){var t={id:e.id,text:e.attributes.text,user:e.attributes.commentBy.attributes};t.userAvatar=i.avatar(t.user),l.push(t)});var s={id:e.id,item:e.attributes,src:e.attributes.img.url(),created:e.createdAt,likes:n,liked:t,comments:l,user:e.attributes.user.attributes};s.userAvatar=i.avatar(s.user),r.push(s),o()})})})})}else a.reject(!0)},function(){a.reject(!0)})}),a.promise}function U(n){var a=e.defer(),r=20,l="GalleryActivity";return console.info(n,r),o.query("SELECT * FROM "+l).then(function(e){e.rows.length?a.resolve(e.rows):new t.Query("GalleryActivity").include("user").include("gallery").descending("createdAt").limit(r).skip(n*r).find().then(function(e){if(e.length){var t=[];e.map(function(e){var n={table:l,columns:{id:e.id,action:e.attributes.action,user_id:e.attributes.user.id,userName:e.attributes.user.attributes.name,userAvatar:i.avatar(e.attributes.user.attributes),gallery_id:e.attributes.gallery?e.attributes.gallery.id:null,img:e.attributes.gallery?e.attributes.gallery.attributes.img._url:null,createdAt:new Date(e.attributes.createdAt).getTime()}};o.insert(n).then(console.log(t)),t.push(n.columns)}),a.resolve(t)}else a.reject(!0)})}),a.promise}function M(e){if(console.info(e),e.galleryId)T(e.galleryId).then(function(o){var n=t.Object.extend("GalleryActivity"),i=new n({});i.set("user",t.User.current()),i.set("gallery",o),i.set("action",e.action),i.save().then(function(e){console.warn(e)})});else{var o=t.Object.extend("GalleryActivity"),n=new o({});n.set("user",t.User.current()),n.set("action",e.action),n.save().then(function(e){console.warn(e)})}}var R=3;return{feed:b,getOfflineFeed:h,feedGrid:w,post:l,get:y,deletePhoto:r,find:T,nearby:p,addActivity:M,listActivity:U,getUserGallery:F,getUserGalleryQtd:$,allComment:s,addComment:k,getComments:c,updateComment:u,deleteComment:d,getLikes:g,likeGallery:O,getFollow:m,search:f}}e.$inject=["$q","Parse","DAO","$rootScope","User","Loading"],angular.module("app.photogram").factory("Photogram",e)}(),function(){"use strict";function e(e){var t=[{key:"title",type:"input",templateOptions:{type:"text",placeholder:e.instant("PHOTOGRAM.FORM.TITLE"),icon:"icon-envelope",required:!0,iconPlaceholder:!0,focus:!0}},{key:"geo",type:"toggle",templateOptions:{label:e.instant("PHOTOGRAM.FORM.GEOLOCATION"),toggleClass:"positive"}}],o=[{key:"text",type:"input",templateOptions:{placeholder:e.instant("PHOTOGRAM.FORM.ADDCOMMENT"),type:"text",required:!0,focus:!0}}],n=[{key:"facebook",type:"toggle",templateOptions:{label:"Facebook",toggleClass:"positive"}},{key:"twitter",type:"toggle",templateOptions:{label:"Twitter",toggleClass:"positive"}},{key:"whatsapp",type:"toggle",templateOptions:{label:"Whatsapp",toggleClass:"positive"}},{key:"SMS",type:"toggle",templateOptions:{label:"SMS",toggleClass:"positive"}},{key:"email",type:"toggle",templateOptions:{label:"Email",toggleClass:"positive"}}];return{form:t,formComment:o,formShare:n}}e.$inject=["$translate"],angular.module("app.photogram").factory("PhotogramForm",e)}(),function(){"use strict";function e(e,t){function o(){var o=t.defer(),i="GallerySetting";return e.query("SELECT * FROM "+i).then(function(t){console.log(t),t.rows.length?(a.rows=t.rows,o.resolve(a)):new Parse.Query(i).find().then(function(t){var n=[];t.map(function(t){var o={table:i,columns:{key:t.attributes.key,value:t.attributes.value}};e.insert(o),n.push(o.columns)}),o.resolve(n)},n)}),o.promise}function n(e){alert(e)}function i(e){return _.filter(a.rows,{key:e})[0]}var a={rows:[]};return{init:o,get:i}}e.$inject=["DAO","$q"],angular.module("app.photogram").factory("PhotogramSetting",e)}(),function(){"use strict";function e(e,t,o,n,i){function a(e,o){function a(e){n.alert({title:"Thanks",text:"Thank you for sharing!!"}),s.resolve(e)}function r(e){console.error(e),s.reject()}var s=t.defer(),c=o?o:l;switch(e){case"instagram":window.plugins.socialsharing.shareViaInstagram(l.text,l.image,l.link).then(a,r);break;case"facebook":i.shareViaFacebook(c.text,c.image,c.link).then(a,r);break;case"twitter":i.shareViaTwitter(c.text,c.image,c.link).then(a,r);break;case"whatsapp":i.shareViaWhatsApp(c.text,c.image,c.link).then(a,r);break;case"email":i.shareViaEmail(c.title,c.subject?c.subject:c.title).then(a,r)}return s.promise}function r(){var e=o.show({buttons:[{text:'<i class="icon ion-social-instagram"></i>Instagram'},{text:'<i class="icon ion-social-facebook"></i>Facebook'},{text:'<i class="icon ion-social-twitter"></i>Twitter'},{text:'<i class="icon ion-social-whatsapp"></i>Whatsapp'},{text:'<i class="icon ion-email"></i>Email'}],titleText:"Share",cancelText:"Cancel",cancel:function(){return!1},buttonClicked:function(t){switch(console.log(t),t){case 0:a("instagram");break;case 1:a("facebook");break;case 2:a("twitter");break;case 3:a("whatsapp");break;case 4:a("email")}e()}})}var l={title:"Join me from "+e.app.name+"!",subject:"I'm at "+e.app.name+"!. Install the application and follow me! "+e.app.url,image:e.app.image,link:e.app.url};return{share:a,open:r}}e.$inject=["AppConfig","$q","$ionicActionSheet","Notify","$cordovaSocialSharing"],angular.module("app.photogram").factory("PhotogramShare",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r,l,s,c,u,d){function m(){var t=e.defer();return n.User.current()?(B=n.User.current(),b(),t.resolve(B)):(console.log("Not logged user, go intro"),t.reject("Not user")),t.promise}function g(t){var o=e.defer();return console.log("SELECT * FROM User WHERE id = '"+t+"'"),u.query("SELECT * FROM User WHERE id = '"+t+"'").then(function(e){console.log(e),e.rows.length?o.resolve(e.rows[0]):o.reject(e)}),o.promise}function p(t){var o=e.defer();return new n.Query("User").get(t).then(function(e){C(e).then(function(e){o.resolve(e)})})["catch"](function(e){o.reject(e)}),o.promise}function f(t){var o=e.defer();return g(t).then(o.resolve)["catch"](function(){p(B.id).then(o.resolve)["catch"](o.reject)}),o.promise}function h(){var t=e.defer();return console.log("Init Follows",n.User.current().id),u.query("SELECT * FROM UserFollow WHERE userId = '"+n.User.current().id+"'").then(function(o){console.log(o),o.rows.length?t.resolve(o.rows):new n.Query("UserFollow").include("follow").equalTo("user",n.User.current()).find().then(function(o){var n=[];console.warn(o),o.map(function(e){var t={table:"UserFollow",columns:{id:e.id,userId:e.attributes.user.id,followId:e.attributes.follow.id}};n.push(C(e.attributes.follow)),n.push(u.insert(t))}),e.all(n).then(function(e){t.resolve(e)})["catch"](t.reject)},function(e){console.log("nenhum follow",e),t.resolve([])})})["catch"](function(e){console.error(e)}),t.promise}function v(){return B}function b(){return B=n.User.current(),B?(i.currentUser=B.attributes,console.log("load profile",B),B):(O(),!1)}function w(e){return e.facebookimg?e.facebookimg:e.img?e.img._url:"img/user.png"}function y(t){var o=e.defer();return n.User.logIn(t.email,t.password,{success:function(e){console.log(e),b(),o.resolve(i.currentUser)},error:function(e,t){console.error(e,t),o.reject(t)}}),o.promise}function T(t){var o=e.defer();return console.log("Facebook api"),X.api("me/?fields=id,name,email,gender,bio",["public_profile"]).then(function(e){console.log("facebook api",e);var a=new n.Query(n.User);a.equalTo("email",e.email).first({success:function(n){console.log(n),n?(console.log("Já existe um cadastro com esse email",n),n.get("facebook_complete")===Boolean(!0)?D(t).then(function(t){if(console.log("Logado",t),""===n.attributes.name){console.info("User sem nome",n,e);var i=n.attributes;i.name=e.name,$(i).then(function(){o.resolve({status:0})})}else b(n),o.resolve({status:0})}):(console.log("Se ainda não está completo, manda completar o perfil",e,t,n),i.tempUser=e,i.tempUser.facebookimg="https://graph.facebook.com/"+e.id+"/picture?width=250&height=250",console.log(i.tempUser),o.resolve({status:2}))):(console.log("Novo usuário"),D(t).then(function(t){console.log(t);var n={name:e.name,facebook:e.id,email:e.email,gender:e.gender,facebook_complete:Boolean(!0),facebookimg:"https://graph.facebook.com/"+e.id+"/picture?width=250&height=250"};$(n).then(function(e){console.warn("me response",e),o.resolve({status:1})})}))},error:function(e){alert("Sem conexão"),o.reject(e)}})},function(e){console.log("Facebook Error",e),o.reject(e)}),o.promise}function k(){var t=e.defer();return console.info("facebook login",Y,X),X.getLoginStatus().then(function(e){"connected"===e.status?T(e).then(function(e){t.resolve(e)}):X.login(["public_profile","email"]).then(function(e){console.warn("facebook login response",e),void 0===e.status&&t.reject("reject"),console.log("facebook status",e),T(e).then(function(e){t.resolve(e)})},function(e){console.log("Facebook Error",e),t.reject(JSON.stringify(e))})}),t.promise}function E(){var t=e.defer();return k().then(function(e){X.api("me","").then(function(o){t.resolve([e,o])},function(e){console.log(e),t.reject(e)})}),t.promise}function P(t){var o=e.defer(),i=t;return i.username=t.email,console.log(i),new n.User(i).signUp(null,{success:function(e){var t=b(e);console.log(e,t),c.end(),o.resolve(t)},error:function(e,t){console.log(t),125===t.code?o.reject("Please specify a valid email address"):202===t.code?o.reject("The email address is already registered"):o.reject(t)}}),o.promise}function A(t){var o=e.defer();return new n.User.requestPasswordReset(t,{success:function(e){o.resolve(e)},error:function(e){125===e.code?o.reject("Email address does not exist"):o.reject("An unknown error has occurred, please try again")}}),o.promise}function O(){new n.User.logOut,delete i.currentUser,d.go(o.routes.login,{clear:!0}),a.clearCache()}function $(t){var o=e.defer();c.start();var i=n.User.current();if(angular.forEach(t,function(e,t){console.log(t,e),i.set(t,e)}),Q){var a={device:r.getDevice(),cordova:r.getCordova(),model:r.getModel(),platform:r.getPlatform(),uuid:r.getUUID(),version:r.getVersion()};i.set("device",a.device),i.set("deviceCordova",a.cordova),i.set("deviceModel",a.model),i.set("devicePlatform",a.platform),i.set("deviceUuiid",a.uuid),i.set("deviceVersion",a.version)}return i.save().then(function(e){console.log(e),b(),c.end(),o.resolve(e)}),o.promise}function F(t){var o=e.defer();if(c.start(),""!==t){var i=new n.File("mypic.jpg",{base64:t});return i.save().then(function(){t=null;var e=n.User.current();e.set("img",i),e.save().then(function(e){b(),c.end(),o.resolve(e)})},function(e){c.end(),console.log(e),o.reject(e)})}return o.promise}function U(){var t=e.defer();return X.api("me/friends").then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}function M(t){var o=e.defer();return X.api(t).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function R(){var t=e.defer();return Y?X.showDialog({method:"apprequests",message:"Venha para o nosso clube!"}).then(function(e){t.resolve(e)}):X.ui({method:"apprequests",message:"Venha para o nosso clube!"}).then(function(e){t.resolve(e)}),t.promise}function S(){var t=e.defer();return new n.Query("User").notEqualTo("user",n.User.current()).find().then(function(e){var o=[];angular.forEach(e,function(e){var t=e.attributes;t.id=e.id,t=w(t),new n.Query("UserFollow").equalTo("user",n.User.current()).equalTo("follow",e).count().then(function(e){t.follow=e,console.log(t),o.push(t)})}),t.resolve(o)}),t.promise}function C(t){var o=e.defer(),n={table:"User",columns:{id:t.id,name:t.attributes.name,username:t.attributes.username,email:t.attributes.email,language:t.attributes.language,facebookimg:t.attributes.facebookimg,gender:t.attributes.gender,img:w(t.attributes),facebook:t.attributes.facebook,qtdFollow:t.attributes.qtdFollow,status:t.attributes.status,createdAt:t.attributes.createdAt?new Date(t.attributes.createdAt).getTime():0,attributes:JSON.stringify(t.attributes)}};return u.insert(n).then(function(){o.resolve(n.columns)})["catch"](o.reject),o.promise}function L(t){var o=e.defer();return u.query("SELECT * FROM User WHERE id='"+t+"'").then(function(e){e.rows.length?o.resolve(e.rows[0]):new n.Query("User").equalTo("objectId",t).first().then(function(e){C(e).then(function(e){o.resolve(e)})})}),o.promise}function I(t){var o=e.defer();return L(t).then(function(e){console.log(e);var t=b(e);new n.Query("Gallery").equalTo("user",e).count().then(function(i){t.galleries=i,new n.Query("UserFollow").equalTo("user",e).count().then(function(i){t.follow=i,new n.Query("UserFollow").equalTo("follow",e).count().then(function(e){t.follow2=e,o.resolve(t)})})})}),o.promise}function j(t){var o=e.defer();return console.log("isFollow start",t),L(t).then(function(e){new n.Query("UserFollow").equalTo("user",n.User.current()).equalTo("follow",e).count().then(function(e){o.resolve(e)})}),o.promise}function x(t){var o=e.defer();return t||(t=n.User.current().id),L(t).then(function(e){new n.Query("UserFollow").equalTo("follow",e).count().then(function(e){o.resolve(e)},function(e){o.reject(e)})}),o.promise}function N(t){var o=e.defer();return t||(t=n.User.current().id),L(t).then(function(e){new n.Query("UserFollow").equalTo("user",e).count().then(function(e){o.resolve(e)},function(e){o.reject(e)})}),o.promise}function _(t,o){var i=e.defer(),a=n.User.current().qtdFollow?parseInt(n.User.current().qtdFollow):0;return L(o.id).then(function(e){if(t){console.log("Follow User",e);var o=n.Object.extend("UserFollow"),r=new o;r.set("user",n.User.current()),r.set("follow",e),r.save().then(function(e){console.log("Follow User",e),$({qtdFollow:a+1}).then(function(e){console.log("Follow User Update",e),i.resolve(e)})},function(e){i.resolve(e)})}else console.log("Unfollow User",e),new n.Query("UserFollow").equalTo("user",n.User.current()).equalTo("follow",e).first().then(function(e){e.destroy().then(function(e){$({qtdFollow:a-1}).then(function(e){console.log("Follow User Update",e),i.resolve(e)})},function(e){i.resolve(e)})})}),i.promise}function q(t){console.log("addFollows",t);var o=[];return angular.forEach(t,function(e){o.push(_(!0,e.id))}),e.all(o)}function G(t){var o=e.defer();return c.start(),new n.Query("User").equalTo("email",t).first().then(function(e){c.end(),o.resolve(e)},function(e){c.end(),o.reject(e)}),o.promise}function D(t){var o=e.defer(),i=new Date((new Date).getTime()+1e3*t.authResponse.expiresIn);return n.FacebookUtils.logIn({id:t.authResponse.userID,access_token:t.authResponse.accessToken,expiration_date:i},{success:function(e){var t=b(e);console.log("User",t),o.resolve(t)}}),o.promise}function H(){var t=e.defer();return X.login(["email"]).then(function(e){console.log("facebook login",e);var o=new Date((new Date).getTime()+1e3*e.authResponse.expiresIn),i=n.User.current();console.log(i,e,o),n.FacebookUtils.link(i,{id:e.authResponse.userID,access_token:e.authResponse.accessToken,expiration_date:o},{success:function(o){console.log("User",o),o.set("facebook",e.authResponse.userID),o.set("facebookimg","https://graph.facebook.com/"+e.authResponse.userID+"/picture?width=250&height=250"),o.set("facebook_complete",Boolean(!0)),o.save().then(function(e){var o=b(e);console.info("User Update",o),t.resolve(o)})}})},function(e){alert(JSON.stringify(e))}),t.promise}var B,Q=t.cordova,Y=Q?!0:!1,X=Y?s:l;return{init:m,initFollows:h,addFollows:q,currentUser:v,register:P,get:f,cacheUser:C,login:y,profile:I,logout:O,update:$,updateAvatar:F,forgot:A,list:S,find:L,follow:_,avatar:w,getFollowers:x,getFollowing:N,isFollow:j,mail:G,facebookLogin:k,facebookLink:H,facebookProfile:E,facebookFriends:U,facebookInvite:R,facebookAPI:M}}e.$inject=["$q","$window","AppConfig","Parse","$rootScope","$ionicHistory","$cordovaDevice","$facebook","$cordovaFacebook","Loading","DAO","$state"],angular.module("app.user").factory("User",e)}(),function(){"use strict";function e(e){function t(){return[{type:"input",key:"email",templateOptions:{type:"email",placeholder:e.instant("USER.FORM.EMAIL"),icon:"icon-envelope",required:!0,iconPlaceholder:!0}},{type:"input",key:"password",templateOptions:{type:"password",placeholder:e.instant("USER.FORM.PASSWORD"),icon:"icon-lock",required:!0,iconPlaceholder:!0}}]}function o(){return[{type:"input",key:"email",templateOptions:{type:"email",placeholder:e.instant("USER.FORM.EMAIL"),icon:"icon-envelope",required:!0,iconPlaceholder:!0}},{type:"input",key:"password",templateOptions:{type:"password",placeholder:e.instant("USER.FORM.PASSWORD"),icon:"icon-lock",required:!0,iconPlaceholder:!0}}]}function n(){return[{
key:"name",type:"input",templateOptions:{type:"text",placeholder:e.instant("USER.FORM.NAME"),icon:"icon-user",required:!0,iconPlaceholder:!0}},{key:"status",type:"input",templateOptions:{type:"text",placeholder:e.instant("USER.FORM.STATUS"),icon:"ion-quote",required:!0,iconPlaceholder:!0}},{type:"select",key:"gender",templateOptions:{label:e.instant("USER.FORM.GENDER"),options:[{label:e.instant("USER.FORM.MAN"),id:"male"},{label:e.instant("USER.FORM.WOMAN"),id:"female"}],valueProp:"id",labelProp:"label",icon:"icon-list",iconPlaceholder:!0}}]}return{login:t(),register:o(),profile:n()}}e.$inject=["$translate"],angular.module("app.user").factory("UserForm",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r,l,s){var c=r.path;return{restrict:"A",scope:{ngModel:"="},link:function(r,u){function d(){r.currentUser=n.currentUser(),r.nocomments=!1,r.loading=!1,r.form={galleryId:r.ngModel.id,text:""}}function m(){console.log(r.ngModel),d(),r.formFields=s.formComment,r.submitComment=h,r.deleteComment=g,r.editComment=p,r.closeModal=function(){r.modal.hide(),r.modal.remove()},r.comments=r.ngModel.comments,a(function(){0===r.comments.length&&(r.nocomments=!0)},500),e.fromTemplateUrl(c+"/directive/comment/photogram.comment.directive.html",{scope:r,focusFirstInput:!0}).then(function(e){r.modal=e,r.modal.show()})}function g(e){console.log(e),i.confirm("Delete comment","You are sure?").then(function(t){console.log(t),t&&l.deleteComment(e).then(function(e){console.log(e),f()})})}function p(e){console.log(e),r.data=angular.copy(e),o.show({template:'<input type="text" ng-model="data.text">',title:"Edit comment",scope:r,buttons:[{text:"Cancel"},{text:"<b>OK</b>",type:"button-positive",onTap:function(e){return console.log(r.data),r.data.text?r.data:void e.preventDefault()}}]}).then(function(e){console.log(e),e&&l.updateComment(e).then(function(e){console.log(e),f()})})}function f(){r.loading=!0,l.getComments(r.ngModel.id).then(function(e){r.comments=e,r.ngModel.comments=e,r.loading=!1})}function h(e,o){if(e.$valid){var n=angular.copy(o);t.start(),l.addComment(n).then(function(e){console.log(e),f(),t.end(),r.closeModal()})}}u.bind("click",m)}}}e.$inject=["$ionicModal","Loading","$ionicPopup","User","Notify","$timeout","AppConfig","Photogram","PhotogramForm"],angular.module("app.photogram").directive("photogramComment",e)}(),function(){"use strict";function e(e){function t(e,t){t.bind("click",function(){var e="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S";window.cordova?cordova.ThemeableBrowser.open(e,"_blank",{statusbar:{color:"#ffffffff"},toolbar:{height:44,color:"#f0f0f0ff"},title:{color:"#333333",showPageTitle:!0},closeButton:{image:"close",imagePressed:"close_pressed",align:"left",event:"closePressed"},backButtonCanClose:!0}):window.open(e,"_blank")})}return{restrict:"A",link:t}}e.$inject=["$cordovaInAppBrowser"],angular.module("app.photogram").directive("buy",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r){function l(l,s,c){function u(){e.start(),t.facebookLogin().then(function(t){switch(console.log(t),e.end(),t.status){case 0:o.go(a.routes.home,{clear:!0});break;case 1:o.go("user.avatar",{clear:!0});break;case 2:o.go("user.merge",{clear:!0})}})["catch"](function(){e.end(),r.alert({title:"Ops",text:"Facebook error"})})}var d=window.cordova?n:i;console.log("Facebook login",d),d.getLoginStatus().then(function(e){console.log(e),d.api("/me").then(function(e){console.log(e),l.name=e.name})})["catch"](function(e){console.log("Not logged")}),s.bind("click",u)}return{restrict:"E",link:l,template:"<button class=\"button button-block button-facebook\"><i class=\"icon ion-social-facebook\"></i> <span>{{ 'USER.BUTTON.LOGIN_SOCIAL'| translate}} {{name || 'Facebook'}}</span> </button>"}}e.$inject=["Loading","User","$state","$cordovaFacebook","$facebook","AppConfig","Notify"],angular.module("app.photogram").directive("facebookLogin",e)}(),function(){function e(e,t,o,n,i,a,r){function l(e){function t(){var e=angular.copy(r.form);s(e).then(function(e){console.log(e),o()})}function o(){r.modal.hide(),r.modal.remove(),delete r.modal}var r=n.$new();r.formFields=i.form,r.submitFeedback=t,r.closeModal=o,r.form={photogramId:e.id,subject:"complaint"},a.fromTemplateUrl(c+"/directive/feedback/feedback-modal.html",{scope:r,focusFirstInput:!0}).then(function(e){r.modal=e,r.modal.show()})}function s(t){var n=e.defer();return console.log(t),o.find(t.photogramId).then(function(e){console.log(e);var o=Parse.Object.extend("PhotogramFeedback"),i=new o;delete t.PhotogramId,angular.forEach(t,function(e,t){i.set(t,e)}),i.set("user",Parse.User.current()),i.set("Gallery",e),i.save(null).then(function(e){r.alert({title:"Thanks",text:"Thanks for your Feedback"}),n.resolve(e)})}),n.promise}var c=t.path;return{modal:l,submit:s}}e.$inject=["$q","AppConfig","Photogram","$rootScope","PhotogramFeedbackForm","$ionicModal","Notify"],angular.module("app.photogram").factory("PhotogramFeedback",e)}(),function(){"use strict";function e(e){var t=[{key:"title",type:"input",templateOptions:{type:"text",placeholder:e.instant("FEEDBACK.TITLE"),required:!0}},{key:"subject",type:"select",templateOptions:{label:e.instant("FEEDBACK.SUBJECT"),options:[{label:e.instant("FEEDBACK.COMPLAINT"),id:"complaint"},{label:e.instant("FEEDBACK.BUG"),id:"bug"},{label:e.instant("FEEDBACK.SUGGESTION"),id:"suggestion"}],valueProp:"id",labelProp:"label",icon:"icon-list",iconPlaceholder:!0}},{key:"status",type:"textarea",templateOptions:{type:"text",placeholder:e.instant("FEEDBACK.MESSAGE"),icon:"ion-quote",required:!0,iconPlaceholder:!0}}];return{form:t}}e.$inject=["$translate"],angular.module("app.photogram").factory("PhotogramFeedbackForm",e)}(),function(){"use strict";function e(e,t,o,n,i){var a=t.path;return{restrict:"A",scope:{photogram:"@"},template:"",link:function(t,r,l){function s(){t.form={photogramId:t.photogram},t.formFields=n.form}function c(){s(),e.fromTemplateUrl(a+"/directive/feedback/feedback-modal.html",{scope:t,focusFirstInput:!0}).then(function(e){t.modal=e,t.modal.show()})}function u(e){i.go(e),t.closeModal()}function d(){var e=angular.copy(t.form);o.submit(e).then(function(e){console.log(e),s(),t.closeModal()})}function m(){t.modal.hide(),t.modal.remove()}t.link=u,t.submitFeedback=d,t.closeModal=m,r.bind("click",c)}}}e.$inject=["$ionicModal","AppConfig","PhotogramFeedback","PhotogramFeedbackForm","$state"],angular.module("app.photogram").directive("photogramPhotoFeedback",e)}(),function(){"use strict";function e(e,t,o){var n=t.path;return{restrict:"A",scope:{user:"="},link:function(t,i,a){function r(){e.fromTemplateUrl(n+"/directive/follow/photogram.follow.modal.html",{scope:t}).then(function(e){t.modalFollow=e,console.log("Open modal follow",t.user),o.getFollow(t.user).then(function(e){console.log(e),t.data=e,t.modalFollow.show()})})}function l(){t.modalFollow.hide(),t.modalFollow.remove()}i.bind("click",r),t.closeModal=l}}}e.$inject=["$ionicModal","AppConfig","Photogram"],angular.module("app.photogram").directive("photogramFollow",e)}(),function(){"use strict";function e(){function e(e,t,o){t.bind("click",function(){console.log(e.item),t.addClass("happy")})}return{restrict:"A",scope:{item:"="},link:e}}angular.module("app.photogram").directive("heart",e)}(),function(){"use strict";function e(e){return{restrict:"A",scope:{ngModel:"="},link:function(t,o){function n(){console.log("photogram",t.ngModel);var o=t.ngModel;o.progress=!0,o.liked=!o.liked,e.likeGallery(t.ngModel.id).then(function(e){o.likes=e.likes,o.progress=!1,console.log(o,e)}),t.$apply()}o.bind("click",n)}}}e.$inject=["Photogram"],angular.module("app.photogram").directive("photogramLike",e)}(),function(){"use strict";function e(e,t,o){var n=t.path;return{restrict:"A",scope:{photogram:"="},template:"",link:function(t,i,a){function r(){console.log(t.photogram),e.fromTemplateUrl(n+"/directive/like/photogram.like.directive.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.modal=e})}function l(e,n){if(e.$valid){var i=angular.copy(n);o.addComment(i).then(function(e){console.log(e),t.closeModal()})}}function s(){t.modal.hide(),t.modal.remove()}t.formFields=o.formComment,t.submitComment=l,t.closeModal=s,i.bind("click",r)}}}e.$inject=["$ionicModal","AppConfig","Photogram"],angular.module("app.photogram").directive("photogramLikeModal",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{loading:"=",icon:"@"},template:'<div class="padding text-center loading" ng-show="loading"><ion-spinner icon="{{ icon }}"></ion-spinner></div>'}}angular.module("app.photogram").directive("photogramLoading",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r){function l(o,n,l){function c(){o.loading=!0,o.comments=[],r.getComments(o.photogram).then(function(e){o.comments=e,o.loading=!1}),o.form={photogramId:o.photogram,text:""}}function u(){console.log(o.photogram),e.fromTemplateUrl(s+"/view/photogram.capture.modal.html",{scope:o}).then(function(e){o.modal=e,o.modal.show()})}function c(){o.active=!1,o.form={title:"",location:"",photo:"",geo:!1},o.map={center:{latitude:-23.5333333,longitude:-46.6166667},scrollwheel:!1,zoom:15},o.data="",o.loading=!1}function d(){var e={timeout:1e4,enableHighAccuracy:!1};""===o.form.location&&(o.loading=!1,t.getCurrentPosition(e).then(function(e){o.here={id:1,coords:{latitude:e.coords.latitude,longitude:e.coords.longitude},icon:"img/pin.png"},o.form.location={latitude:e.coords.latitude,longitude:e.coords.longitude},o.map.center=o.here.coords,o.loading=!1,console.log(o.form),console.log(o.here),console.log(e)},function(e){}))}function m(e){e&&d()}function g(){c(),a.open().then(function(e){o.loading=!1,o.active=!0,o.form.photo=e,o.data="data:image/jpeg;base64,"+e})["catch"](function(){i.go("photogram.home")})}function p(){var e=window.document.getElementById("image"),t=e.toDataURL();angular.copy(o.form);return console.log("submit",t),!1}function f(){o.modal.hide(),o.modal.remove()}o.getGeo=m,o.formFields=r.form,o.open=g,o.submitCapture=p,o.closeModal=f,n.bind("click",u)}var s=o.path;return{restrict:"A",scope:{photogram:"@"},transclude:!1,link:l}}e.$inject=["$ionicModal","$cordovaGeolocation","AppConfig","Loading","$state","PhotoService","Photogram"],angular.module("app.photogram").directive("photogramPhotoCapture",e)}(),function(){"use strict";function e(e,t,o,n,i,a){function r(e,r,l){function s(){e.data={total:-1,galleries:[]},e.page=0,e.empty=!1,e.more=!1,c(!1,!0)}function c(o,n){o&&s();var i=t.getOfflineFeed(e.page,e.user);n||(i=t.feedGrid(e.page,e.user)),i.then(function(t){console.log(t),t.rows.map(function(o){o.progress=!1,e.data.total=t.total,e.data.galleries.push(o)}),t.length?(e.more=!0,e.page++):(e.empty=!0,e.more=!1)}).then(function(){e.loading=!1,e.$broadcast("scroll.refreshComplete"),e.$broadcast("scroll.infiniteScrollComplete")})["catch"](function(){e.$broadcast("scroll.refreshComplete"),e.$broadcast("scroll.infiniteScrollComplete"),e.data.length?(e.loading=!1,e.page++):(e.empty=!0,e.loading=!1),e.more=!1})}function u(e){e.item.liked=!e.item.liked,t.likeGallery(e.id).then(function(t){e.item.qtdLike=t.likes})}function d(r){function l(a){switch(a){case 0:n.share(d);break;case 1:i.modal(r);break;case 2:o.confirm({title:"Delete photo",template:"Are you sure?"}).then(function(o){o&&t.deletePhoto(r.id).then(function(){console.log("Photo deleted"),e.$emit("PhotogramHome:reload")})})}return!0}var s=[{text:'<i class="icon ion-share"></i>Share'},{text:'<i class="icon ion-alert-circled"></i>Report'}],c=Parse.User.current();if(c.id===r.user.id){var u={text:'<i class="icon ion-trash-b"></i>Delete your photo'};s.push(u)}var d={image:r.src,text:r.item.title},m={buttons:s,titleText:"Photo",cancelText:"Cancel",buttonClicked:l};a.show(m)}e.action=d,e.like=u,e.loading=!0,e.feed=c,e.gallery={src:""},s(),e.$on("PhotogramHome:reload",function(){c(!0)})}var l=e.path;return{restrict:"E",scope:{user:"=",profile:"="},templateUrl:l+"/directive/photogrid/photo-grid.html",link:r}}e.$inject=["AppConfig","Photogram","$ionicPopup","PhotogramShare","PhotogramFeedback","$ionicActionSheet"],angular.module("app.photogram").directive("photogramPhotoGrid",e)}(),function(){"use strict";function e(e,t,o,n,i,a){function r(e,r,l){function s(){e.data={total:-1,galleries:[]},e.page=0,e.empty=!1,e.more=!1,c(!1)}function c(o,n){o&&s();var i;i=n?t.getOfflineFeed(e.page,e.user):t.feed(e.page,e.user),i.then(function(t){console.log(t),t.rows.map(function(o){o.progress=!1,e.data.total=t.total,e.data.galleries.push(o)}),t.length?(e.more=!0,e.page++):(e.empty=!0,e.more=!1)}).then(function(){e.loading=!1,e.$broadcast("scroll.refreshComplete"),e.$broadcast("scroll.infiniteScrollComplete")})["catch"](function(){e.$broadcast("scroll.refreshComplete"),e.$broadcast("scroll.infiniteScrollComplete"),e.data.length?(e.loading=!1,e.page++):(e.empty=!0,e.loading=!1),e.more=!1})}function u(e){e.item.liked=!e.item.liked,t.likeGallery(e.id).then(function(t){e.item.qtdLike=t.likes})}function d(r){function l(a){switch(a){case 0:n.share(u);break;case 1:i.modal(r);break;case 2:o.confirm({title:"Delete photo",template:"Are you sure?"}).then(function(o){o&&t.deletePhoto(r.id).then(function(){console.log("Photo deleted"),e.$emit("PhotogramHome:reload")})})}return!0}var s=[{text:'<i class="icon ion-share"></i>Share'},{text:'<i class="icon ion-alert-circled"></i>Report'}];if(console.log(r),Parse.User.current().id===r.user_id){var c={text:'<i class="icon ion-trash-b"></i>Delete your photo'};s.push(c)}var u={text:r.title,image:r.img},d={buttons:s,titleText:"Photo",cancelText:"Cancel",buttonClicked:l};a.show(d)}e.action=d,e.like=u,e.feed=c,e.loading=!0,e.gallery={src:""},console.log("user",e.user),s(),c(!1,!0),e.$on("PhotogramHome:reload",function(){c(!0)})}var l=e.path;return{restrict:"E",scope:{user:"=",profile:"="},templateUrl:l+"/directive/photolist/photo.list.html",link:r}}e.$inject=["AppConfig","Photogram","$ionicPopup","PhotogramShare","PhotogramFeedback","$ionicActionSheet"],angular.module("app.photogram").directive("photogramPhotoList",e)}(),function(){"use strict";function e(e,t,o,n){return{restrict:"A",scope:{photogram:"@"},template:"",link:function(i,a){function r(){var e=Parse.User.current().attributes;i.form={name:e.name,email:e.email,status:e.status,img:e.img,username:e.username,gender:e.gender,facebook:e.facebook,facebookimg:e.facebookimg},console.log(i.form),i.formFields=o.profile}function l(){r(),e.fromTemplateUrl("app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html",{scope:i}).then(function(e){i.modal=e,i.modal.show()})}function s(){n.go("logout"),i.closeModal()}function c(){t.facebookLink().then(function(e){console.log(e)})}function u(){var e=angular.copy(i.form);t.update(e).then(function(e){console.log(e),r(),i.closeModal()})}function d(){i.modal.hide(),i.modal.remove()}i.linkFacebook=c,i.logout=s,i.submitUpdateProfile=u,i.closeModal=d,a.bind("click",l)}}}e.$inject=["$ionicModal","User","UserForm","$state"],angular.module("app.photogram").directive("profileModalEdit",e)}(),function(){"use strict";function e(e,t,o,n,i){function a(t,o){function a(){console.log(t.user_id),e.fromTemplateUrl("app/module/photogram/directive/profile-modal/profile-modal.html",{scope:t}).then(function(e){function o(){i.isFollow(t.user.id).then(n)}function n(e){console.info("follow user?",e),t.user.follow=e,t.loadingFollow=!1}function a(){function e(e){console.log("Follow result",e),t.user.follow=o,t.loadingFollow=!1,l(t.user)}t.loadingFollow=!0;var o;o=t.user.follow?!1:!0,i.follow(o,t.user).then(e)}function s(){delete t.data,t.modalProfile.hide(),t.modalProfile.remove()}t.modalProfile=e,t.loadingFollow=!0,t.changeTab=r,t.follow=a,t.closeModal=s,t.modalProfile.show(),l(t.user.id),r("list"),o()})}function r(e){"list"===e?t.tab={list:!0,grid:!1}:t.tab={list:!1,grid:!0}}function l(e){console.log("getFollowers",e),t.loadingFollowers=!0,t.loadingFollowing=!0,t.loadingPhotos=!0,n.getUserGalleryQtd(e).then(function(e){console.log(e),t.user.qtdPhotos=e,t.loadingPhotos=!1}),i.getFollowers(e).then(function(e){console.log("qtdFollower: seguindo",e),t.user.qtdFollowers=e,t.loadingFollowers=!1}),i.getFollowing(e).then(function(e){console.log("qtdFollowing: seguidores",e),t.user.qtdFollowing=e,t.loadingFollowing=!1})}o.bind("click",function(){i.get(t.user_id).then(function(e){t.user=e,a()})})}return{restrict:"A",scope:{user_id:"=user"},link:a}}e.$inject=["$ionicModal","$rootScope","$q","Photogram","User"],angular.module("app.photogram").directive("profileModal",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{getData:"&source",ngModel:"=?",search:"=?filter"},templateUrl:"app/module/photogram/directive/search/search-directive.html",link:function(t,o,n){function i(o){o.length>n.minLength?e(function(){t.getData({str:o}).then(function(e){t.ngModel=e})},1e3):t.ngModel=[]}n.minLength=n.minLength||0,t.placeholder=n.placeholder||"",t.clear=function(){console.log("Limpar campo"),t.input="",t.$apply()},n["class"]&&o.addClass(n["class"]),n.source&&t.$watch("search.value",i)}}}e.$inject=["$timeout"],angular.module("app.photogram").directive("ionSearch",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r,l,s){var c=o.path;return{restrict:"A",scope:{photogram:"@"},template:"",link:function(i,u){function d(){i.form=r.currentUser(),i.formFields=l.profile,i.languages=o.locales,i.language=t.use()}function m(){d(),e.fromTemplateUrl(c+"/directive/settings-modal/settings-modal.html",{scope:i}).then(function(e){i.modal=e,i.modal.show()})}function g(e){s.go(e),i.closeModal()}function p(e){var t={location:"yes",clearcache:"yes",toolbar:"yes"};n.open(e,"_blank",t)}function f(e){t.use(e),moment.locale(e),i.form.language=e,h(i.form)}function h(e){var t=angular.copy(e);r.update(t).then(function(e){console.log(e),d(),i.closeModal()})}function v(){i.modal.hide(),i.modal.remove()}u.bind("click",m),i.closeModal=v,i.link=g,i.openLink=p,i.changeLanguage=f,i.share=a.share}}}e.$inject=["$ionicModal","$translate","AppConfig","$cordovaInAppBrowser","$rootScope","PhotogramShare","User","UserForm","$state"],angular.module("app.photogram").directive("settingsModal",e)}(),function(){"use strict";function e(e,t,o){function n(e){"list"===e?r.tab={list:!0,grid:!1}:r.tab={list:!1,grid:!0}}function i(){r.data={total:!1,galleries:[]},r.page=0,r.empty=!1,r.more=!1,a()}function a(){r.loadingFollowers=!0,r.loadingFollowing=!0,r.loadingPhotos=!0,t.getUserGalleryQtd().then(function(e){console.log(e),r.user.qtdPhotos=e,r.loadingPhotos=!1}),o.getFollowers().then(function(e){console.log("qtdFollower: seguindo",e),r.user.qtdFollowers=e,r.loadingFollowers=!1}),o.getFollowing().then(function(e){console.log("qtdFollowing: seguidores",e),r.user.qtdFollowing=e,r.loadingFollowing=!1})}var r=this;r.changeTab=n,r.user=e.User.current(),i(),n("grid")}e.$inject=["Parse","Photogram","User"],angular.module("app.photogram").controller("PhotogramAccountCtrl",e)}(),function(){"use strict";function e(e,t,o,n){function i(){l.page=0,l.data=[],l.empty=!1,l.loadMore=!1}function a(e){console.log("Load More"),l.load(e)}function r(o){o&&i(),t.listActivity(l.page).then(function(e){e.map(function(e){l.data.push(e)}),e.length?(l.loading=!1,l.more=!0,l.page++):(l.empty=!0,l.loading=!1,l.more=!1)}).then(function(){e.$broadcast("scroll.refreshComplete"),e.$broadcast("scroll.infiniteScrollComplete")})["catch"](function(t){e.$broadcast("scroll.refreshComplete"),e.$broadcast("scroll.infiniteScrollComplete"),t?(l.empty=!0,l.loading=!1):(l.loading=!1,l.page++),l.more=!1})}var l=this;l.loading=!0,n.initFollows(),e.loadMore=a,l.openShare=o.open,l.load=r,i(),l.load()}e.$inject=["$scope","Photogram","PhotogramShare","User"],angular.module("app.activity").controller("PhotogramActivityCtrl",e)}(),function(){"use strict";function e(e,o){function n(t){var n=e.defer();return new o.Query("Direct").include("from").equalTo("objectId",t).first().then(n.resolve),n.promise}function i(t){var n=e.defer(),i=o.Object.extend("DirectMessages"),a=new i;return angular.forEach(t,function(e,t){a.set(t,e)}),a.save(null,n.resolve,n.reject),n.promise}function a(t,a){var r=e.defer();return n(a).then(function(e){console.log(t),t.room=e,t.user=o.User.current(),i(t).then(function(t){e.relation("messages").add(t),e.save().then(r.resolve)})}),r.resolve(t),r.promise}function r(t,i){var a=e.defer();return n(t).then(function(e){var t=e.attributes;o.User.current();t.user=e.attributes.from.attributes,t.messages=[],new o.Query("DirectMessages").equalTo("room",e).include("user").limit(20).skip(i).find().then(function(e){e.map(function(e){var o={body:e.attributes.body,date:e.createdAt,user:e.attributes.user.attributes};o.user.id=e.attributes.user.id,console.log(e,o),t.messages.push(o)}),a.resolve(t)})}),a.promise}function l(){var t=e.defer(),o=[s(null,"from"),s(null,"to")];return e.all(o).then(function(e){var o=[];console.log(e),e[0].map(function(e){o.push(e)}),e[1].map(function(e){o.push(e)}),t.resolve(o)}),t.promise}function s(t,n){var i=e.defer();return new o.Query("Direct").equalTo(n,t||o.User.current()).include("from").find().then(function(e){var t=[];e.map(function(e){var o=e.attributes;o.user=e.attributes.from.attributes,o.id=e.id,t.push(o)}),i.resolve(t)}),i.promise}function c(n){var i=e.defer();return new o.Query(t).equalTo("from",n||o.User.current()).include("from").find().then(function(e){var t=[];e.map(function(e){var o={msg:e.attributes.body,user:e.attributes.from.attributes};o.user.id=e.attributes.from.id,t.push(o)}),i.resolve(t)}),i.promise}function u(n){var i=e.defer();return new o.Query(t).equalTo("to",n||o.User.current()).include("from").find().then(function(e){var t=[];e.map(function(e){var o={msg:e.attributes.body,user:e.attributes.from.attributes};o.user.id=e.attributes.from.id,t.push(o)}),i.resolve(t)}),i.promise}return{from:c,to:u,chats:l,messages:r,sendMessage:a}}e.$inject=["$q","Parse"];var t="DirectMessages";angular.module("app.photogram").filter("nl2br",["$filter",function(e){return function(e){return e?e.replace(/\n\r?/g,"<br />"):e}}]).directive("autolinker",["$timeout",function(e){return{restrict:"A",link:function(t,o,n){e(function(){var e=o.html();if(""===e)return!1;var t=Autolinker.link(e,{className:"autolinker",newWindow:!1});o.html(t);for(var n=o[0].getElementsByClassName("autolinker"),i=0;i<n.length;i++)angular.element(n[i]).bind("click",function(e){var t=e.target.href;return console.log("autolinkClick, href: "+t),t&&window.open(t,"_blank"),e.preventDefault(),!1})},0)}}}]).factory("Direct",e)}(),function(){"use strict";function e(e){var t=this;t.data=[],e.chats().then(function(e){console.log(e),t.data=e})}e.$inject=["Direct"],angular.module("app.photogram").controller("DirectHomeCtrl",e)}(),function(){"use strict";function e(e,t,o,n){function i(){r.loading=!0,r.data=[],t.messages(l).then(function(t){r.data=t,r.loading=!1,r.model&&(r.model.text=""),e.$broadcast("scroll.refreshComplete")})}function a(e,o){var n=angular.copy(o);if(console.log(n),e.$valid&&n.text){var a={body:n.text};t.sendMessage(a,l).then(function(){i()})}}var r=this,l=n.params.channelId;r.user=o.currentUser(),r.sendMessage=a,r.doRefresh=i,i()}e.$inject=["$scope","Direct","User","$state"],angular.module("app.direct-message").controller("DirectMessageCtrl",e)}(),function(){"use strict";function e(e,t,o,n){}e.$inject=["$scope","$rootScope","$stateParams","Photogram"],angular.module("app.photogram").controller("PhotogramHomeCtrl",e)}(),function(){"use strict";function e(e,t){function o(){a.form={PhotogramId:e.id,text:""},n()}function n(){t.allComment(e.id).then(function(e){console.log(e),a.comments=e})}function i(e,o){if(e.$valid){var i=angular.copy(o);t.addComment(i).then(function(e){console.log(e),n()})}}var a=this;a.formFields=t.formComment,a.submitComment=i,o(),t.get(e.id).then(function(e){a.data=e})}e.$inject=["$stateParams","Photogram"],angular.module("app.photogram").controller("PhotogramPhotoCtrl",e)}(),function(){"use strict";function e(e){var t=this;t.data=e,console.log(e)}e.$inject=["photo"],angular.module("app.photogram").controller("PhotogramPreviewCtrl",e)}(),function(){"use strict";function e(e,t){var o=this;e.get(t.id).then(function(e){console.log(e),o.data=e})}e.$inject=["Photogram","$stateParams"],angular.module("app.photogram").controller("PhotogramViewCtrl",e)}(),function(){"use strict";function e(e){function t(t){"list"===t?(o.tab={list:!0,map:!1},e.go("photogram.search.list")):(o.tab={list:!1,map:!0},e.go("photogram.search.map"))}var o=this;o.changeTab=t,o.tab={list:!0,map:!1}}e.$inject=["$state"],angular.module("app.photogram").controller("PhotogramSearchCtrl",e)}(),function(){"use strict";function e(){}angular.module("app.search").controller("SearchListCtrl",e)}(),function(){"use strict";function e(e,t,o,n){function i(n,i){if(console.log(n),n){console.log(n),s+=2e3,console.log(s);var a=o(function(){console.log(a),e.nearby(t.map.center).then(function(e){console.log(e),s=0,l.data=e,o.cancel(a)})},s)}}function a(){console.log("FindMe"),n.findMe().then(function(e){console.log(e),t.map={center:e.geolocation,zoom:13},l.user=angular.copy(e.geolocation)})}function r(){n.findMe().then(function(o){console.log(o),t.map={center:o.geolocation,zoom:13},l.user=angular.copy(o.geolocation),e.nearby(o.coords).then(function(e){console.log(e),l.data=e})},function(o){console.log("Could not get location"),e.nearby(t.map.center).then(function(e){console.log(e),l.data=e})})}var l=this,s=0;l.findMe=a,t.map={center:{latitude:45,longitude:-73},zoom:13},t.$watch("map.center.latitude",i),r()}e.$inject=["Photogram","$scope","$timeout","GeoService"],angular.module("app.search").controller("SearchMapCtrl",e)}(),function(){"use strict";function e(e,t,o){function n(t){console.log("Social Share",t);var n="I'm at "+o.app.name+"! Install the application and follow me! "+o.app.url;e.cordova?e.window.plugins.socialsharing.share(t.text+", "+n,t.text,t.image,null):alert("Only in smartphone")}return{share:n}}e.$inject=["$window","$translate","AppConfig"],angular.module("app.photogram").factory("PhotogramShare",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r,l,s){function c(){var e={crop:l.get("imageCrop"),allowEdit:l.get("imageEdit"),filter:!0,allowRotation:l.get("imageRotation"),quality:l.get("imageQuality"),correctOrientation:l.get("imageEdit"),targetWidth:l.get("imageWidth"),targetHeight:l.get("imageHeight"),saveToPhotoAlbum:l.get("imageSaveAlbum")};console.log(e),s.open(e).then(d)["catch"](u)}function u(){console.warn("Deu erro"),t.go("photogram.home")}function d(t){function o(){e.modalPost.hide(),e.modalPost.remove(),r.end()}function l(e){var t=angular.copy(e);r.start(),i.post(t).then(function(){o(),n.$emit("filterModal:close"),n.$emit("PhotogramHome:reload")})}e.closePost=o,e.submitPost=l,e.form={title:"",location:"",photo:t,geo:!1},a.fromTemplateUrl(g+"/module/share/photogram.post.modal.html",{scope:e,focusFirstInput:!0}).then(function(o){e.form.photo=t,e.modalPost=o,e.modalPost.show()})}var m=this,g=o.path;m.postPhoto=c}e.$inject=["$scope","$state","AppConfig","$rootScope","Photogram","$ionicModal","Loading","PhotogramSetting","PhotoService"],angular.module("app.photogram").controller("PhotogramTabsCtrl",e)}(),function(){"use strict";function e(e,t,o,n,i){function a(){var t=e.currentUser();l.form={name:t.name,email:t.email,status:t.status,gender:t.gender,img:t.img,username:t.username},l.formFields=i.profile,console.log(l.form)}function r(){if(console.log(l.rForm),l.rForm.$valid){var i=angular.copy(l.form);console.log(i),e.update(i).then(function(n){console.log(n),e.init(),o.go(t.routes.home,{clear:!0})})}else n.alert({title:"Invalid form",text:"Fill out the fields in red"})}var l=this;l.submitAvatar=r,a()}e.$inject=["User","AppConfig","$state","Notify","UserForm"],angular.module("app.user").controller("UserAvatarCtrl",e)}(),function(){"use strict";function e(e,t,o){return{restrict:"A",scope:{gallery:"@"},template:"",link:function(n,i){function a(){var n={allowEdit:t.get("imageEdit"),filter:t.get("imageFilter"),allowRotation:t.get("imageRotation"),quality:t.get("imageQuality"),correctOrientation:t.get("imageEdit"),targetWidth:t.get("imageWidth"),targetHeight:t.get("imageHeight"),saveToPhotoAlbum:t.get("imageSaveAlbum")};console.log(n),e.open(n).then(function(e){o.updateAvatar(e).then(function(e){console.log(e)})})["catch"](function(e){console.log(e)})}i.bind("click",a)}}}e.$inject=["PhotoService","PhotogramSetting","User"],angular.module("app.user").directive("userAvatar",e)}(),function(){"use strict";function e(e){}e.$inject=["AppConfig"],angular.module("app.intro").controller("UserIntroCtrl",e)}(),function(){"use strict";function e(e,t,o,n,i,a,r){function l(){u.form={email:"",password:""},o.User.current()&&i.go(u.routeLogged,{clear:!0})}function s(e,t){var o=angular.copy(t);return e.$valid?(n.start(),void r.login(o).then(function(e){console.log(e),e.name.length?i.go(u.routeLogged,{clear:!0}):i.go("useravatar",{clear:!0}),n.end()})["catch"](function(e){a.alert({title:"Ops",text:e.message}),n.end()})):!1}function c(){n.start(),r.facebookLogin().then(function(t){switch(console.log(t),n.end(),t.status){case 0:i.go(e.routes.home,{clear:!0});break;case 1:i.go("useravatar",{clear:!0});break;case 2:i.go("usermerge",{clear:!0})}})["catch"](function(){n.end(),a.alert({title:"Ops",text:"Facebook error"})})}var u=this;u.formFields=t.login,u.routeLogged=e.routes.home,u.submitLogin=s,u.facebook=c,l()}e.$inject=["AppConfig","UserForm","Parse","Loading","$state","Notify","User"],angular.module("app.user").controller("UserLoginCtrl",e)}(),function(){"use strict";function e(e){e.logout()}e.$inject=["User"],angular.module("app.user").controller("UserLogoutCtrl",e)}(),function(){"use strict";function e(e,t,o,n,i,a){function r(){t.tempUser?(l.form=t.tempUser,l.form.password=""):n.go("user.intro",{clear:!0})}var l=this;l.formFields=a.register,r(),l.submit=function(t,a){if(console.log(t),console.table(a),""!=l.form.password){var r=angular.copy(l.form),a={email:r.email,password:r.password};console.log(a),e.login(a).then(function(t){console.log(t),e.facebookLink(t).then(function(e){console.log(e),n.go(o.routes.home,{clear:!0})})})["catch"](function(e){i.alert({title:"Ops",text:e.message})})}else i.alert({title:"Invalid form",text:"Please enter your email"})}}e.$inject=["User","$rootScope","AppConfig","$state","Notify","UserForm"],angular.module("app.user").controller("UserMergeCtrl",e)}(),function(){"use strict";function e(e,t,o,n){return{restrict:"A",scope:{login:"@",register:"@"},link:function(i,a){function r(){i.form={recovery:""},i.erro="",i.text={button:"",input:"Email"},t.show({scope:i,template:'<div class="popup-recovery"><form name="form.recovery" form-manager><label class="item item-input"><i class="icon ion-email placeholder-icon"></i><input type="email" ng-model="email" id="email" name="email" placeholder="{{ text.input }}" required ng-maxlength="80"></label><span class="error-msg">{{erro}}</span></form></div>',title:"A new password will be sent to your e-mail address",buttons:[{text:"Cancel",type:"button-calm"},{text:"Send",type:"button-positive",onTap:function(e){return i.form.recovery.$valid?i.form.recovery.email.$viewValue:(e.preventDefault(),void(i.erro="Invalid Email"))}}]}).then(function(t){if(!angular.isUndefined(t)){var i=t;console.log(t),o.start(),e.forgot(i).then(function(e){console.log(e),n.alert({login:"Forgot your password",text:"Access your accout mail"}),o.end()})["catch"](function(e){n.alert({login:"Ops",text:e}),o.end()})}})}a.bind("click",r)}}}e.$inject=["User","$ionicPopup","Loading","Notify"],angular.module("app.user").directive("recoveryPass",e)}(),function(){"use strict";function e(e,t){function o(){e.forgot(n.form).then(function(e){console.log(e)})["catch"](function(e){t.alert("Ops",e)})}var n=this;n.form={},n.submitForgot=o}e.$inject=["User","Notify"],angular.module("app.user").controller("UserRecoveryPassCtrl",e)}(),function(){"use strict";function e(e,t,o,n,i,a){function r(){s.form={email:"",password:""}}function l(t,r){if(t.$valid){n.start();var l=angular.copy(r);a.register(l).then(function(t){
console.log(t),i.addActivity({action:"registered"}),a.login({email:l.email,password:l.password}).then(function(t){console.log(t),a.init(),n.end(),e.go("useravatar",{clear:!0})})["catch"](function(e){console.log(e),n.end(),o.alert({title:"Ops",text:e.message})})})["catch"](function(e){console.log(e),n.end(),o.alert({title:"Ops",text:e.message})})}}var s=this;s.formFields=t.register,s.submitRegister=l,r()}e.$inject=["$state","UserForm","Notify","Loading","Photogram","User"],angular.module("app.user").controller("UserRegisterCtrl",e)}(),function(){"use strict";angular.module("ionic").run(["$templateCache",function(e){e.put("app/component/ion-language/ion-language.html",'<button class="button button-block button-clear button-light button-language">{{language.translation | translate}} <i \nclass="icon ion-chevron-down"></i></button>'),e.put("app/component/ion-language/modal-language.html",'<ion-modal-view><ion-header-bar><h1 class="title" translate="LANG.TITLE"></h1><a ng-click="closeModal()" \nclass="button button-icon icon ion-close"></a></ion-header-bar><div \nclass="bar bar-subheader item-input-inset bar-stable"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="search" placeholder="{{\'LANG.SEARCH\' | translate}}" \nng-model="searchValue"></label><button type="button" class="button button-clear" ng-show="searchValue.length" \nng-click="searchValue=\'\'">Clear</button></div><ion-content class="has-subheader has-header"><ion-list><ion-item \nclass="item" ng-click="selectLanguage(item)" ng-repeat="item in languages | filter:searchValue" \nng-bind-html="item.translation | translate"></ion-item></ion-list></ion-content></ion-modal-view>'),e.put("app/module/intro/intro.html",'<ion-view class="view-intro bg-animate" can-swipe-back="false"><ion-content scroll="false"><div class="intro-slider">\n<ion-slide-box active-slide="slideIndex" show-pager="true" on-slide-changed="vm.slideChanged($index)"><ion-slide \nng-repeat="item in vm.slides track by $index"><div class="content" ng-if="$index == vm.slideIndex"><span class="top">\n<h2>{{ item.top }}</h2></span><div class="phone {{ vm.device }}"><img ng-src="{{ item.img }}"></div></div></ion-slide>\n<ion-slide><div class="content" ng-if="vm.slides.length == vm.slideIndex"><div class="last"><div class="logo2 step1">\n<img src="img/icon.png"> <span class="icon2-logo"></span></div><button class="button button-block button-clear step2" \nui-sref="user.intro" translate="INTRO.BUTTON.ENTER"></button></div></div></ion-slide></ion-slide-box></div><button \nclass="button button-positive button-fab left" ng-if="vm.slideIndex" ng-click="vm.previous()"><i \nclass="icon ion-ios-arrow-left"></i></button> <button class="button button-positive button-fab right" \nng-hide="vm.slideIndex === vm.slides.length" ng-click="vm.next()"><i class="icon ion-ios-arrow-right"></i></button>\n</ion-content></ion-view>'),e.put("app/module/loading/loading.html",'<ion-view id="user-layout" class="bg-animate"><ion-content></ion-content></ion-view>'),e.put("app/component/ion-photo/view/modal.share.photo.html",'<ion-modal-view class="modal-share"><ion-header-bar class="bar-dark"><div class="title">{{ ::\'Share\' | translate }}\n</div><button class="button button-positive" ng-click="modal.hide()"><i class="icon ion-arrow-right-b"></i></button>\n</ion-header-bar><ion-content ng-cloak><div id="image"><img ng-src="{{ ::form.photo}}"><div class="title">\n{{ ::form.title }}</div></div><ul class="list"><li class="padding"><button ng-repeat="social in sociais" \nng-click="share(form, social)" class="button button-block button-{{ social }}"><i class="icon ion-social-{{ social }}">\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>'),e.put("app/component/ion-photo/view/photo.filter.carousel.html",'<div class="wide-as-needed"><a ng-repeat="filter in filters" ng-click="applyFilter(\'image\', filter)"><div caman \nimage="image" name="filter" filter="filter" class="image" loading="loading" ng-class="{disabled: loading}"></div>\n<ion-spinner ng-if="loading"></ion-spinner><p>{{ ::filter }}</p></a></div>'),e.put("app/component/ion-photo/view/photo.filter.html",'<div class="capture-photo"><div caman filter="\'normal\'" loading="loadingMaster" class="image" \nng-class="{disabled: loadingMaster}" name="\'image\'" image="image"></div><ion-spinner ng-show="loadingMaster">\n</ion-spinner></div><photo-filter-carousel apply="applyFilter" image="image"></photo-filter-carousel>'),e.put("app/module/photogram/directive/comment/photogram.comment.directive.html",'<ion-modal-view class="modal-comment"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n<span translate="PHOTOGRAM.COMMENT.TITLE"></span>({{ ::comments.length }})</div></ion-header-bar><ion-content>\n<photogram-loading loading="loading" icon="android"></photogram-loading><ion-list class="list" \nng-show="comments.length" can-swipe="true"><ion-item ng-repeat="item in comments" class="item item-avatar"><img \nng-src="{{ ::item.userAvatar }}"><div class="row"><h2>{{ ::item.user.attributes.name }}</h2><div>{{ ::item.text }}\n</div></div><div class="row"><p>{{ ::item.created | amTimeAgo }}</p></div><div ng-if="item.user.id === currentUser.id">\n<ion-option-button class="button-info" ng-click="editComment(item)" translate="PHOTOGRAM.BUTTON.EDIT">Edit\n</ion-option-button><ion-option-button class="button-assertive" ng-click="deleteComment(item)" \ntranslate="PHOTOGRAM.BUTTON.REMOVE">Remove</ion-option-button></div></ion-item></ion-list><div class="center-ico" \nng-if="nocomments"><i class="icon ion-ios-chatbubble-outline"></i><h1 translate="PHOTOGRAM.COMMENT.NO_COMMENTS">\nNo Comments</h1></div></ion-content><ion-footer class="step2"><div class="form"><formly-form model="form" \nfields="formFields" form="rForm"><button class="button button-positive" type="button" \nng-click="submitComment(rForm, form)"><i class="icon ion-arrow-right-b"></i></button></formly-form></div></ion-footer>\n</ion-modal-view>'),e.put("app/module/photogram/directive/feedback/feedback-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title" \ntranslate="FEEDBACK.TITLE"></div></ion-header-bar><ion-content><formly-form model="form" form="rForm" \nfields="formFields"></formly-form><div class="padding"><button class="button button-block button-positive" \nng-click="submitFeedback()"><span translate="BUTTON.SEND"></span></button></div></ion-content></ion-modal-view>'),e.put("app/module/photogram/directive/follow/photogram.follow.modal.html",'<ion-modal-view class="modal-profile photogram-profile"><ion-header-bar class="bar-positive"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\nFollow Users</div></ion-header-bar><ion-content><div class="list"><div class="item item-avatar item-button-right" \nng-repeat="item in data"><img ng-src="{{ ::item.src }}"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \nclass="button" ng-click="item.follow = !item.follow" ng-class="item.follow ? \'button-positive\' : \'button-stable\'"><i \nclass="icon" ng-class="item.follow? \'ion-thumbsup\' : \'ion-plus\'"></i></button></div></div></ion-content>\n</ion-modal-view>'),e.put("app/module/photogram/directive/like/photogram.like.directive.html",'<ion-modal-view class="modal-comment"><ion-header-bar class="bar-dark"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ ::\'Likes\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class="list step1"><div \nng-repeat="item in likes" class="item item-avatar item-button-right"><img ng-src="{{ ::item.user.img }}"><h2>\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \nclass="button button-positive button-outline"><i class="icon ion-ios-plus-empty"></i> {{ ::\'Follow\' }}</button></div>\n</div></ion-content></ion-modal-view>'),e.put("app/module/photogram/directive/photogrid/photo-grid.html",'<div class="center-ico" ng-if="data.total==0"><i class="icon ion-ios-camera"></i><h1 translate="HOME.TITLE.NO_PHOTO">\n</h1></div><ion-refresher ng-if="!loading" on-refresh="feed(true)"></ion-refresher><photogram-loading \nloading="loading"></photogram-loading><div class="row" ng-if="$index % 3 === 0" ng-repeat="image in data.galleries">\n<div class="col col-33 item-animate1" ng-if="$index < data.galleries.length"><img ng-if="profile" profile-modal \nuser="data.galleries[$index].user_id" ng-src="{{ ::data.galleries[$index].img}}" width="100%"> <img ng-if="!profile" \nng-src="{{ ::data.galleries[$index].img}}" width="100%"></div><div class="col col-33 item-animate1" \nng-if="$index + 1 < data.galleries.length"><img ng-if="profile" profile-modal \nuser="data.galleries[$index + 1].user_id" ng-src="{{ ::data.galleries[$index + 1].img}}" width="100%"> <img \nng-if="!profile" ng-src="{{ ::data.galleries[$index + 1].img}}" width="100%"></div><div \nclass="col col-33 item-animate1" ng-if="$index + 2 < data.galleries.length"><img ng-if="profile" profile-modal \nuser="data.galleries[$index + 2].user_id" ng-src="{{ ::data.galleries[$index + 2].img}}" width="100%"> <img \nng-if="!profile" ng-src="{{ ::data.galleries[$index + 2].img}}" width="100%"></div></div><ion-infinite-scroll \nng-if="data.galleries.length<data.total" on-infinite="feed()"></ion-infinite-scroll>'),e.put("app/module/photogram/directive/photolist/photo.list.html",'<div class="center-ico" ng-if="data.total==0"><i class="icon ion-ios-camera"></i><h1 translate="HOME.TITLE.NO_PHOTO">\n</h1></div><ion-refresher ng-if="!loading" on-refresh="feed(true)"></ion-refresher><photogram-loading \nloading="loading"></photogram-loading><div class="list card animated fadeIn" ng-repeat="gallery in data.galleries"><div\n class="item item-avatar" profile-modal user="gallery.user_id"><img ng-if="profile" profile="{{ ::gallery.user_id }}" \nng-src="{{ ::gallery.userAvatar}}"> <img ng-src="{{ ::gallery.userAvatar}}"><h2>{{ ::gallery.userName}}</h2><p>\n{{ :: gallery.userStatus }}</p><span>{{ ::gallery.createdAt | amTimeAgo}}</span></div><div class="item item-body" \non-double-tap="like(gallery)" ng-model="gallery"><div class="icon ion-ios-heart heart" \nng-class="gallery.liked ? \'happy\' : \'broken\' "></div><i class="icon" ng-if="like"></i> <img ng-src="{{ gallery.img}}" \nid="{{ ::gallery.id}}"></div><div class="item item-buttons"><div class="row"><div class="col col-75"><ion-spinner \nng-show="gallery.progress"></ion-spinner><button photogram-like ng-model="gallery" ng-if="!gallery.progress" \nng-class="gallery.liked ? \'ion-ios-heart\' : \'ion-ios-heart-outline\' " class="button-clear button-icon button-heart">\n</button> <button photogram-comment ng-model="gallery" class="button-clear button-icon ion-ios-chatbubble-outline">\n</button> <button ng-click="action(gallery)" photogram="{{ :: gallery.id }}" \nclass="button-clear button-icon ion-android-share"></button></div><div class="col text-right"><button \nng-click="action(gallery)" photogram="{{ :: gallery.id }}" class="button-clear button-icon ion-android-more-vertical">\n</button></div></div></div><div class="padding"><span class="likes" photogram-like photogram="{{ :: gallery }}"><i \nclass="icon ion-ios-heart"></i> <span ng-if="!gallery.progress">{{ :: gallery.likes }}</span> <span \ntranslate="PHOTOGRAM.LIKES"></span></span><div class="list-comments"><div class="comment-item" profile-modal \nuser="gallery.user_id"><span class="username">{{ :: gallery.userName }}</span> <span class="comment">\n{{ :: gallery.title }}</span></div><div class="comment-item" profile-modal user="item.user_id" \nng-repeat="item in gallery.comments| limitTo:3 track by item.id"><span class="username">{{ :: item.userName }}</span> \n<span class="comment">{{ :: item.text }}</span></div><a class="comment-item" photogram-comment ng-model="gallery" \nng-if="gallery.comments.length>3">Ver todos os comentários</a></div><button \nclass="button button-block button-clear button-comment" photogram-comment ng-model="gallery"><span \ntranslate="PHOTOGRAM.BUTTON.COMMENT_ADD"></span></button></div></div><ion-infinite-scroll \nng-if="data.galleries.length<data.total" on-infinite="feed()"></ion-infinite-scroll>'),e.put("app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ ::\'Edit Profile\' | translate }}</div></ion-header-bar><ion-content class="view-avatar"><div class="row step1"><div \nclass="col"><img class="avatar" user-avatar ng-src="{{ form.facebookimg || form.img._url || \'img/user.png\' }}"></div>\n</div><div class="step2"><label class="item item-input"><i class="icon icon-envelope placeholder-icon"></i> <input \ntype="text" ng-model="form.email" disabled="disabled"></label><formly-form model="form" fields="formFields" \nform="rForm"></formly-form></div><div class="padding step3"><button ng-click="linkFacebook()" \nng-disabled="form.facebook" class="button button-block button-facebook"><i class="icon ion-social-facebook"></i> <span \ntranslate="PHOTOGRAM.BUTTON.FACEBOOK_LINK"></span></button> <button class="button button-block button-positive" \nng-click="submitUpdateProfile()" translate="PHOTOGRAM.BUTTON.SAVE_PROFILE"></button></div></ion-content>\n</ion-modal-view>'),e.put("app/module/photogram/directive/profile-modal/profile-modal.html",'<ion-modal-view id="account-view"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ user.name }}</div></ion-header-bar><ion-content overflow-scroll="true"><div class="profile-top"><div class="row">\n<div class="col-25"><img class="avatar" ng-src="{{ user.img}}"></div><div class="col col-statics"><div class="row"><div\n class="col"><photogram-loading loading="loadingPhotos"></photogram-loading><span ng-if="!loadingPhotos" \nclass="text-center">{{ user.qtdPhotos }}</span><h3 translate="PHOTOGRAM.PROFILE.TITLE.POST">Posts</h3></div><div \nclass="col"><photogram-loading loading="loadingFollowers"></photogram-loading><span ng-if="!loadingFollowers" \nclass="text-center">{{ user.qtdFollowers }}</span><h3 translate="PHOTOGRAM.PROFILE.TITLE.FOLLOWER"></h3></div><div \nclass="col"><photogram-loading loading="loadingFollowing"></photogram-loading><span ng-if="!loadingFollowing" \nclass="text-center">{{ user.qtdFollowing }}</span><h3 translate="PHOTOGRAM.PROFILE.TITLE.FOLLOWING">Followings</h3>\n</div></div><div class="row col-edit"><div class="col"><photogram-loading loading="loadingFollow"></photogram-loading>\n<button ng-if="!loadingFollow" ng-class="{\'button-unfollow\': user.follow, \'button-follow\': !user.follow}" \nng-click="follow()" class="button"><span ng-show="!user.follow" translate>Follow</span> <span ng-show="user.follow" \ntranslate>Following</span></button></div></div></div></div><div class="padding"><span class="user-username">\n{{ user.name }}</span><p class="user-status">{{ user.status }}</p></div></div><div class="item bar"><div \nclass="button-bar"><button class="button button-icon icon ion-grid" ng-class="{active: tab.grid}" \nng-click="changeTab(\'grid\')"></button> <button class="button button-icon icon ion-drag" ng-class="{active: tab.list}" \nng-click="changeTab(\'list\')"></button> <button class="button button-icon icon ion-ios-location"></button></div></div>\n<div class="item item-divider" translate="PHOTOGRAM.MSG.RECENT">Recent</div><div class="tab" ng-if="tab.list">\n<photogram-photo-list user="user.id"></photogram-photo-list></div><div class="tab" ng-if="tab.grid">\n<photogram-photo-grid user="user.id"></photogram-photo-grid></div></ion-content></ion-modal-view>'),e.put("app/module/photogram/directive/search/search-directive.html",'<label class="item item-input"><i class="icon ion-search placeholder-icon"></i> <input type="search" ng-model="input" \nplaceholder="{{\'SEARCH.FORM.INPUT\' | translate }}"> <button class="button button-icon" ng-if="input.length" \nng-click="clearSearch()"><i class="icon ion-close"></i></button></label>'),e.put("app/module/photogram/directive/settings-modal/settings-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title" \ntranslate="PHOTOGRAM.SETTING.TITLE"></div></ion-header-bar><ion-content class="animated fadeIn"><div class="list">\n<ion-language></ion-language><ion-toggle class="toggle-positive" ng-model="form.push"><h3><small \ntranslate="PHOTOGRAM.SETTING.NOTIFICATION"></small></h3><p ng-if="!setting_preview" translate="PHOTOGRAM.BUTTON.OFF">\n</p><p ng-if="setting_preview" translate="PHOTOGRAM.BUTTON.ON"></p></ion-toggle><ion-item class="item-icon-right" \nng-click="openLink(\'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S\')"><h3><small \ntranslate="PHOTOGRAM.BUTTON.BUY"></small></h3><i class="icon ion-ios-arrow-right"></i></ion-item><ion-item \nclass="item-icon-right" ng-click="openLink(\'http://photogramapp.com\')"><h3><small translate="PHOTOGRAM.BUTTON.HELP">\n</small></h3><i class="icon ion-ios-arrow-right"></i></ion-item><ion-item class="item-icon-right" \nng-click="openLink(\'http://photogramapp.com\')"><h3><small translate="PHOTOGRAM.BUTTON.TERM_PRIVACY"></small></h3><i \nclass="icon ion-ios-arrow-right"></i></ion-item><ion-item class="item-icon-right" \nng-click="openLink(\'http://photogramapp.com\')"><h3><small translate="PHOTOGRAM.BUTTON.TERM_SERVICE">Terms of Service\n</small></h3><i class="icon ion-ios-arrow-right"></i></ion-item><ion-item class="item-icon-right" ng-click="show();">\n<h3><small translate="PHOTOGRAM.BUTTON.REPORT">Report a Problem</small></h3><i class="icon ion-ios-arrow-right"></i>\n</ion-item></div><div class="padding"><button ng-click="link(\'logout\')" class="button button-block button-positive" \ntranslat="USER.BUTTON.LOGOUT">Logout</button></div></ion-content></ion-modal-view>'),e.put("app/module/photogram/module/account/account.html",'<ion-view cache-view="false" id="account-view"><ion-nav-title><h1 class="title">{{ ::currentUser.name }}</h1>\n</ion-nav-title><ion-nav-buttons side="right"><button settings-modal class="button button-icon icon ion-gear-a">\n</button></ion-nav-buttons><ion-content class="animated fadeIn"><div class="profile-top"><div class="row"><div \nclass="col-25"><img class="avatar" user-avatar \nng-src="{{ currentUser.facebookimg || currentUser.img._url || \'img/user.png\' }}"></div><div class="col col-statics">\n<div class="row"><div class="col"><photogram-loading loading="loadingPhotos"></photogram-loading><span \nng-if="!loadingPhotos" class="text-center">{{ ::vm.user.qtdPhotos }}</span><h3 \ntranslate="PHOTOGRAM.PROFILE.TITLE.POST">Posts</h3></div><div class="col"><photogram-loading \nloading="loadingFollowers"></photogram-loading><span ng-if="!loadingFollowers" class="text-center">\n{{ ::vm.user.qtdFollowers }}</span><h3 translate="PHOTOGRAM.PROFILE.TITLE.FOLLOWER"></h3></div><div class="col">\n<photogram-loading loading="loadingFollowing"></photogram-loading><span ng-if="!loadingFollowing" class="text-center">\n{{ ::vm.user.qtdFollowing }}</span><h3 translate="PHOTOGRAM.PROFILE.TITLE.FOLLOWING">Followings</h3></div></div><div \nclass="row col-edit"><div class="col"><button profile-modal-edit class="button"><div \ntranslate="PHOTOGRAM.BUTTON.PROFILE_EDIT"></div></button></div></div></div></div><div class="padding"><span \nclass="user-username">{{ ::currentUser.name }}</span><p class="user-status">{{ ::currentUser.status }}</p></div></div>\n<div class="item bar"><div class="button-bar"><button class="button button-icon icon ion-grid" \nng-class="{active: vm.tab.grid}" ng-click="vm.changeTab(\'grid\')"></button> <button \nclass="button button-icon icon ion-drag" ng-class="{active: vm.tab.list}" ng-click="vm.changeTab(\'list\')"></button> \n<button class="button button-icon icon ion-ios-location"></button></div></div><div class="item item-divider" \ntranslate="PHOTOGRAM.MSG.RECENT">Recent</div><div class="tab" ng-if="vm.tab.list"><photogram-photo-list user="vm.user">\n</photogram-photo-list></div><div class="tab" ng-if="vm.tab.grid"><photogram-photo-grid user="vm.user">\n</photogram-photo-grid></div></ion-content></ion-view>'),e.put("app/module/photogram/module/account-friend-list/account-friend-list.html","<ion-view><ion-content></ion-content></ion-view>"),e.put("app/module/photogram/module/activity/activity.html",'<ion-view cache-view="false" class="photogram-activity"><ion-nav-title><h1 class="title" translate="ACTIVITY.TITLE">\n</h1></ion-nav-title><ion-content><photogram-loading loading="vm.loading"></photogram-loading><div class="list"><div \nclass="item item-avatar item-animate1" ng-repeat="item in vm.data track by item.id"><img \nng-src="{{ ::item.userAvatar }}"><h2>{{ ::item.userName }}</h2><div class="text">{{ ::item.action }}</div><p>\n{{ ::item.createdAt | amTimeAgo }}</p><div class="img-right" ng-if="item.img"><img ng-src="{{ ::item.img}}"></div>\n</div></div><ion-infinite-scroll ng-if="!vm.loading && !vm.empty" on-infinite="vm.load()"></ion-infinite-scroll>\n</ion-content></ion-view>'),e.put("app/module/photogram/module/direct/direct.home.html",'<ion-view><ion-nav-title translate="DIRECT.TITLE"></ion-nav-title><ion-nav-buttons side="right"><button \nclass="button button-icon ion-ios-plus-empty" ui-sref="photogram.direct"></button></ion-nav-buttons><ion-content>\n<ion-list><ion-item class="item-avatar" ng-repeat="item in vm.data" ui-sref="photogram.message({channelId: item.id})">\n<img ng-src="{{item.user.src}}" alt=""><h2>{{ item.user.name}}</h2><p>{{ item.msg }}</p></ion-item></ion-list>\n</ion-content></ion-view>'),e.put("app/module/photogram/module/direct-message/direct-message.html",'<ion-view id="userMessagesView" cache-view="false" view-title="Messages"><div class="loader-center" \nng-if="!vm.doneLoading"><div class="loader"><i class="icon ion-loading-c"></i></div></div><ion-content \nhas-bouncing="true" class="has-header has-footer" delegate-handle="userMessageScroll"><ion-refresher \npulling-text="{{\'DIRECT.BUTTON.PULL\' | TRANSLATE}}" on-refresh="vm.doRefresh()"></ion-refresher><div \nng-repeat="message in vm.data.messages" class="message-wrapper" on-hold="onMessageHold($event, $index, message)"><div \nng-if="vm.user.id === message.user.id"><img class="profile-pic right" ng-src="{{message.user.src}}"><div \nclass="chat-bubble right"><div class="message" ng-bind-html="message.body | nl2br" autolinker></div><div \nclass="message-detail"><span class="bold">{{message.user.name}}</span>, <span am-time-ago="message.date"></span></div>\n</div></div><div ng-if="vm.user.id !== message.user.id"><img class="profile-pic left" ng-src="{{message.user.src}}">\n<div class="chat-bubble left"><div class="message" ng-bind-html="message.body | nl2br" autolinker></div><div \nclass="message-detail"><span class="bold">{{message.user.name}}</span>, <span am-time-ago="message.date"></span></div>\n</div></div><div class="cf"></div></div></ion-content><form name="sendMessageForm" \nng-submit="vm.sendMessage(sendMessageForm, vm.model)" novalidate><ion-footer-bar \nclass="bar-stable item-input-inset message-footer" keyboard-attach><label class="item-input-wrapper"><textarea \nng-model="vm.model.text" placeholder="{{ \'DIRECT.FORM.PLACEHOLDER\' | TRANSLATE}}" required minlength="1" \nmaxlength="1500" msd-elastic></textarea></label><div class="footer-btn-wrap"><button \nclass="button button-icon icon ion-android-send footer-btn" type="submit"></button></div></ion-footer-bar></form>\n</ion-view>'),e.put("app/module/photogram/module/home/home.html",'<ion-view class="view-home"><ion-nav-title><span class="icon2-logo"></span></ion-nav-title><ion-nav-buttons \nside="right"><button class="button button-icon icon-paypal" buy></button></ion-nav-buttons><ion-content><div \nclass="connect" ng-hide="onLine" ng-cloak><span>Offline</span></div><photogram-photo-list profile="true" user="">\n</photogram-photo-list></ion-content></ion-view>'),e.put("app/module/photogram/module/photo/photogram.photo.html",'<ion-view view-title="Photo"><ion-content><div class="list card step1"><div class="item item-avatar" \ndata-affix-within-parent-with-class="card" ion-affix><img ng-src="{{vm.data.user.img}}"><h2>{{vm.data.user.name}}</h2>\n<span>{{vm.data.created | amTimeAgo}}</span></div><div class="item item-body"><img ng-src="{{vm.data.img._url}}"></div>\n<div class="padding"><p>{{ vm.data.title }}</p><p><a class="subdued" href="#">1 {{ \'Like\' | translate}}</a></p></div>\n</div><div class="list"><div ng-repeat="item in vm.comments" class="item item-avatar"><img \nng-src="{{ item.user.img }}"><h2>{{ item.user.name }}</h2><p>{{ item.text }}</p></div></div><div class="step2">\n<formly-form model="vm.form" fields="vm.formFields" form="rForm"><div class="padding"><button \nclass="button button-block button-positive" type="button" ng-click="vm.submitComment(rForm, vm.form)" translate>Comment\n</button></div></formly-form></div></ion-content></ion-view>'),e.put("app/module/photogram/module/photo/photogram.popover.home.html",'<ion-popover-view><ion-content><div class="list"><div class="item" ui-sref="gallery.settings" translate>Settings</div>\n<div class="item" ui-sref="gallery.settings" translate>About</div></div></ion-content></ion-popover-view>'),e.put("app/module/photogram/module/search/search.html",'<ion-view class="view-search"><ion-nav-title>Search</ion-nav-title><div class="bar bar-header bar-light"><div \nclass="button-bar"><button class="button button-icon icon ion-drag" ng-class="{active: vm.tab.list}" \nng-click="vm.changeTab(\'list\')"></button> <button class="button button-icon icon ion-map" \nng-class="{active: vm.tab.map}" ng-click="vm.changeTab(\'map\')"></button></div></div><ion-content scroll="false">\n<ion-nav-view></ion-nav-view></ion-content></ion-view>'),e.put("app/module/photogram/module/search-list/search-list.html",'<ion-view class="view-search"><ion-nav-title><ion-search></ion-search></ion-nav-title><ion-nav-buttons side="right">\n<button class="button button-icon ion-person-add" buy></button></ion-nav-buttons><ion-content class="layout">\n<photogram-photo-grid profile="true"></photogram-photo-grid></ion-content></ion-view>'),e.put("app/module/photogram/module/search-map/search-map.html",'<ion-view class="view-search"><ion-nav-title>Map</ion-nav-title><ion-nav-buttons side="right"><button \nclass="button button-icon ion-pinpoint" ng-click="vm.findMe()"></button></ion-nav-buttons><ion-content class="layout" \nscroll="false"><ui-gmap-google-map center="map.center" zoom="map.zoom"><ui-gmap-marker idkey="0" coords="vm.user">\n</ui-gmap-marker><ui-gmap-marker click="vm.openModal(item)" idkey="item.id" coords="item.coords" icon="item.icon" \nng-repeat="item in vm.data"></ui-gmap-marker></ui-gmap-google-map></ion-content></ion-view>'),e.put("app/module/photogram/module/share/photogram.post.modal.html",'<ion-modal-view class="modal-post"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closePost()"></button><div class="title" \ntranslate="SHARE.TITLE"></div><button class="button button-positive" ng-click="submitPost(form)"><i \nclass="icon ion-arrow-right-b"></i></button></ion-header-bar><ion-content><div id="image"><img ng-src="{{form.photo}}">\n</div><ul class="list"><li class="item"><textarea type="text" ng-model="form.title" autofocus \nplaceholder="{{ \'SHARE.FORM.LEGEND\' | translate }}"></textarea></li><li class="item item-input" \nng-show="form.geo.image"><input type="text" placeholder="{{ \'SHARE.FORM.LOCATION\' | translate }}" ion-location \nlocation="form.geo" ng-model="form.geo.resume"></li><li class="item nopadding" ng-show="form.geo.image"><img \nng-src="{{ form.geo.image }}"></li></ul></ion-content></ion-modal-view>'),e.put("app/module/photogram/module/share/photogram.share.modal.html",'<ion-modal-view class="modal-share"><ion-header-bar class="bar-dark"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeShare()"></button><div class="title" \ntranslate="SHARE.TITLE"></div><button class="button button-positive" ng-click="submitShare(form, social)"><i \nclass="icon ion-arrow-right-b"></i></button></ion-header-bar><ion-content><div class="list"><div \nclass="item item-thumbnail-left" href="#"><img ng-src="{{form.photo}}" id="image"><textarea type="text" \nng-model="form.title" placeholder="{{ \'SHARE.FORM.LEGEND\'|translate }}"></textarea></div></div><ul class="list"><li \nclass="item item-input"><input type="text" placeholder="{{ \'SHARE.FORM.LOCATION\' | translate }}" ion-location \nlocation="form.geo" ng-model="form.geo.resume"></li><div class="item nopadding" ng-show="form.geo.image"><img \nng-src="{{ form.geo.image }}"></div></ul><ul class="list"><li class="item item-divider" \ntranslate="SHARE.FORM.SHARE_IN"></li><li class="item item-icon-left item-toggle" ng-repeat="social in socials"><i \nclass="icon ion-social-{{ social.title | lowercase }}"></i> {{ social.title }}<label class="toggle toggle-positive">\n<input type="checkbox" ng-model="social.checked"><div class="track"><div class="handle"></div></div></label></li></ul>\n</ion-content></ion-modal-view>'),e.put("app/module/photogram/module/tabs/photogram-tabs.html",'<ion-view><ion-nav-bar class="bar bar-light bar-mop" align-title="left"><ion-nav-back-button></ion-nav-back-button>\n</ion-nav-bar><ion-tabs class="tabs-light tabs-photogram"><ion-tab title="{{ \'PHOTOGRAM.TITLE.HOME\' | translate }}" \nicon="ion-android-home" ui-sref="photogram.home"><ion-nav-view name="tabHome"></ion-nav-view></ion-tab><ion-tab \ntitle="{{ \'PHOTOGRAM.TITLE.SEARCH\' | translate }}" icon="ion-search" ui-sref="photogram.search.list"><ion-nav-view \nname="tabSearch"></ion-nav-view></ion-tab><ion-tab title="{{ \'PHOTOGRAM.TITLE.SHARE\' | translate }}" icon="ion-camera" \nng-click="vm.postPhoto()"><ion-nav-view name="tabCapture"></ion-nav-view></ion-tab><ion-tab \ntitle="{{ \'PHOTOGRAM.TITLE.ACTIVITY\' | translate }}" icon="ion-heart" ui-sref="photogram.activity"><ion-nav-view \nname="tabActivity"></ion-nav-view></ion-tab><ion-tab title="{{ \'PHOTOGRAM.TITLE.PROFILE\' | translate }}" \nicon="ion-person" ui-sref="photogram.account"><ion-nav-view name="tabProfile"></ion-nav-view></ion-tab></ion-tabs>\n</ion-view>'),e.put("app/module/user/module/avatar/user.avatar.html",'<ion-view title="{{ \'USER.AVATAR.TITLE\' | translate }}"><ion-nav-bar class="bar bar-positive bar-mop" \nalign-title="left"></ion-nav-bar><ion-content class="view-avatar"><div class="row step1"><div class="col"><img \nclass="avatar" user-avatar ng-src="{{ ::currentUser.img._url || \'img/user.png\' }}"></div></div><div class="step2">\n<label class="item item-input"><i class="icon icon-envelope placeholder-icon"></i> <input type="text" \nng-model="vm.form.email" disabled="disabled"></label><formly-form model="vm.form" fields="vm.formFields" \nform="vm.rForm"></formly-form></div><div class="padding step3"><button ng-click="vm.submitAvatar()" \nclass="button button-block button-positive" translate="USER.BUTTON.NEXT"></button></div></ion-content></ion-view>'),e.put("app/module/user/module/intro/user-intro.html",'<ion-view id="user-layout" class="bg-animate" cache-view="false"><div class="bar bar-header"><ion-language>\n</ion-language></div><ion-content class="padding" scroll="false"><div class="area1 step1"><div class="logo"><span \nclass="icon2-logo"></span></div><span class="desc">{{\'USER.DESC1\' | translate}}<br>{{\'USER.DESC2\' | translate}}</span>\n</div><div class="step2"><facebook-login></facebook-login><div class="or"><div class="line"></div><span translate="or">\n</span><div class="line"></div></div><button class="button button-block button-light button-outline" \nui-sref="user.register" translate="USER.BUTTON.SIGNUP"></button> <span class="term">{{\'USER.TERM\' | translate}} <a \nhref="">{{\'USER.TERM1\' | translate}}</a> e <a href="">{{\'USER.TERM2\' | translate}}</a></span></div><button \nclass="button button-block button-light button-clear button-footer" ui-sref="user.login" \ntranslate="USER.BUTTON.SIGNIN"></button></ion-content></ion-view>'),
e.put("app/module/user/module/layout/user-layout.html",'<ion-view id="user-layout" class="bg-animate"><ion-content padding="false"><ion-nav-view></ion-nav-view></ion-content>\n</ion-view>'),e.put("app/module/user/module/login/user-login.html",'<ion-view id="user-layout" class="bg-animate" cache-view="false"><div class="bar bar-header"><ion-language>\n</ion-language></div><ion-content class="padding" scroll="false"><div class="step1"><div class="logo"><span \nclass="icon2-logo"></span></div><formly-form model="vm.form" fields="vm.formFields" form="vm.rForm"><button \nclass="button button-block button-outline button-light" type="button" ng-disabled="vm.rForm.$invalid" \nng-click="vm.submitLogin(vm.rForm, vm.form)" translate="USER.BUTTON.NEXT"></button></formly-form></div><div \nclass="step2"><div class="or"><div class="line"></div><span>Ou</span><div class="line"></div></div><facebook-login>\n</facebook-login><button class="button button-block button-light button-outline" ui-sref="user.register" translate>\nUSER.BUTTON.SIGNUP</button> <span class="term">{{::\'USER.TERM\' | translate}} <a href="">{{::\'USER.TERM1\' | translate}}\n</a> e <a href="">{{::\'USER.TERM2\' | translate}}</a></span></div><button \nclass="button button-block button-light button-clear button-footer" ui-sref="user.intro" \ntranslate="USER.BUTTON.SIGNUP2"></button></ion-content></ion-view>'),e.put("app/module/user/module/merge/merge.html",'<ion-view id="user-login"><ion-content class="view-avatar padding"><h1>Merge Account</h1><div class="step1 padding"><h5\n translate>USER.MERGE</h5></div><div class="row step1"><div class="col"><img class="avatar" user-avatar \nng-src="{{ vm.form.facebookimg }}"></div></div><div class="step2"><formly-form model="vm.form" fields="vm.formFields" \nform="rForm"><input type="hidden" ng-model="vm.form.facebookimg"></formly-form></div><div class="padding step3"><button\n ng-click="vm.submit(rForm, vm.form)" class="button button-block button-facebook"><i class="icon ion-social-facebook">\n</i> <span translate>USER.BUTTON.MERGE</span></button></div></ion-content></ion-view>'),e.put("app/module/user/module/register/user-register.html",'<ion-view id="user-layout" class="bg-animate" cache-view="false"><div class="bar bar-header"><ion-language>\n</ion-language></div><ion-content class="padding" scroll="false"><div class="step1"><div class="logo"><span \nclass="icon2-logo"></span></div><formly-form model="vm.form" fields="vm.formFields" form="vm.rForm"><div \nclass="padding"><button class="button button-block button-positive" type="button" ng-disabled="rForm.$invalid" \nng-click="vm.submitRegister(vm.rForm, vm.form)" translate="USER.BUTTON.NEXT"></button></div></formly-form></div><div \nclass="step2"><div class="or"><div class="line"></div><span>Ou</span><div class="line"></div></div><facebook-login>\n</facebook-login><span class="term">{{::\'USER.TERM\' | translate}} <a href="">{{::\'USER.TERM1\' | translate}}</a> e <a \nhref="">{{::\'USER.TERM2\' | translate}}</a></span></div><button \nclass="button button-block button-light button-clear button-footer" ui-sref="user.intro" \ntranslate="USER.BUTTON.SIGNIN"></button></ion-content></ion-view>')}])}();
//# sourceMappingURL=../maps/scripts/app-7a343c05c6.js.map
