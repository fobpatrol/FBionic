!function(){"use strict";angular.module("starter",["ionic","formlyIonic","ngMessages","ngCookies","ngStorage","pascalprecht.translate","tmh.dynamicLocale","angularMoment","ngFacebook","angular-cache","ion-affix","jett.ionic.scroll.sista","ngCordova","ionic.components","app.main"])}(),function(){"use strict";angular.module("ionic.components",["ion-language","ion-photo"])}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t,n){function o(){var e=n.href;return window.cordova?window.cordova.ThemeableBrowser.open(e,"_blank",{statusbar:{color:"#ffffffff"},toolbar:{height:44,color:"#f0f0f0ff"},title:{color:"#000",showPageTitle:!0},backButtonCanClose:!0}):window.open(e),!1}t.bind("click",o)}}}angular.module("starter").directive("href",e)}(),function(){"use strict";angular.module("app.main",["ionic","ngCordova"])}(),function(){"use strict";function e(e,t,n,o){t.useLoader("$translatePartialLoader",{urlTemplate:"{part}/i18n/{lang}.json"}),t.useSanitizeValueStrategy(null),t.useLocalStorage(),o.localeLocationPattern("../bower_components/angular-i18n/angular-locale_{{locale}}.js");var i=navigator.language||navigator.userlanguage,a=i.split("-")[0],r=n.preferredLocale,s=_.some(n.locales,{code:a});s&&(r=n.locales.filter(function(e){return r==e.code})[0].code),t.preferredLanguage(r),moment.locale(r)}e.$inject=["$translatePartialLoaderProvider","$translateProvider","AppConfig","tmhDynamicLocaleProvider"],angular.module("ion-language",["ngCookies","pascalprecht.translate","tmh.dynamicLocale"]).config(e)}(),function(){"use strict";angular.module("ion-location",["ionic"])}(),function(){"use strict";angular.module("ion-photo",["ionic","ngCordova","jrCrop"]).constant("config",{path:"app/component/ion-photo"})}(),function(){"use strict";angular.module("app.main")}(),function(){"use strict";function e(){var e=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,t=function(e){for(var t={},n=0,o=e.length;o>n;n++)t.hasOwnProperty(e[n])||(t[e[n]]=e[n]);return t};return function(n,o){return angular.forEach(t(n.match(e)),function(e){n=n.replace(new RegExp(e,"g"),'<a target="'+o+'" href="'+e+'">'+e+"</a>")}),n}}angular.module("starter").filter("Autolink",e)}(),function(){"use strict";function e(e){e.debugInfoEnabled(!1)}function t(e,t,n){Parse.initialize(e.parse.appId),Parse.serverURL=e.parse.server,n.currentUser=Parse.User.current(),console.log(n.currentUser),n.currentUser||t.path("/")}function n(e,t,n,o,i,a,r){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.disableScroll(!0),window.StatusBar.styleLightContent()),e.registerBackButtonAction(function(e){e.preventDefault()},100),t.lang?n.use(t.lang):"undefined"!=typeof navigator.globalization&&o.getPreferredLanguage().then(function(e){n.use(e.value.split("-")[0])},null)})}function o(e){e.platform.ios.backButton.previousTitleText(" ").icon("ion-ios-arrow-left"),e.platform.android.backButton.previousTitleText(" ").icon("ion-ios-arrow-left"),e.tabs.position("bottom"),e.navBar.alignTitle("center"),e.views.maxCache(1)}function i(e,t){window.cordova||(e.setAppId(t.facebookAppId),e.setPermissions("id,name,email,user_likes,bio"))}function a(){if(!window.cordova){var e=window.navigator.language||window.navigator.userLanguage,t=e.substring(0,2)+"_"+e.substring(3,5).toUpperCase();!function(e,n,o){var i,a=e.getElementsByTagName(n)[0];e.getElementById(o)||(i=e.createElement(n),i.id=o,i.src="http://connect.facebook.net/"+t+"/sdk.js",a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk")}}t.$inject=["AppConfig","$location","$rootScope"],n.$inject=["$ionicPlatform","$localStorage","$translate","$cordovaGlobalization","ConnectMonitor","AppConfig","User"],e.$inject=["$compileProvider"],i.$inject=["$facebookProvider","AppConfig"],o.$inject=["$ionicConfigProvider"],angular.module("starter").run(t).run(n).run(a).config(e).config(i).config(o)}(),function(){"use strict";function e(){return{path:"app/module/photogram",app:{name:"Photogram",url:"http://photogramapp.com",image:"http://photogramapp.com/social-share.jpg"},routes:{home:"tab.home",login:"user.intro"},statusBarColor:"#00796B",gaTrackingId:"UA-69485876-2",facebookAppId:"1024016557617380",parse:{appId:"myAppId",server:"https://photogramapp.com/parse/"},onesignal:{id:"7b08c66d-d5a3-47b9-b091-b7f4a5bb7624",google:"AIzaSyCEBeAMSs4nrAC-2cvG6N6Q_KqJpnUrnh0"},map:{unit:"mi",mapType:"normal"},locales:[{translation:"portugues",code:"pt"},{translation:"english",code:"en"},{translation:"turkish",code:"tr"},{translation:"persian",code:"fa"},{translation:"german",code:"de"}],preferredLocale:"en",DAO:{name:"photogram_db",tables:[{name:"User",columns:{id:"TEXT PRIMARY KEY",name:"TEXT",username:"TEXT",email:"TEXT",language:"TEXT",facebookimg:"TEXT",gender:"TEXT",img:"TEXT",facebook:"INTEGER",qtdFollow:"INTEGER",status:"TEXT",createdAt:"INTEGER",attributes:"TEXT"}},{name:"UserFollow",columns:{id:"TEXT PRIMARY KEY",user_id:"TEXT",followId:"TEXT"}},{name:"Gallery",columns:{id:"TEXT PRIMARY KEY",img:"TEXT",title:"TEXT",user_id:"TEXT",location:"TEXT",isLiked:"BOOLEAN",likes:"INTEGER",createdAt:"INTEGER"}},{name:"GalleryActivity",columns:{id:"TEXT PRIMARY KEY",action:"TEXT",img:"TEXT",userAvatar:"TEXT",userName:"TEXT",user_id:"TEXT",gallery_id:"TEXT",createdAt:"INTEGER"}},{name:"GalleryComment",columns:{id:"TEXT PRIMARY KEY",name:"TEXT",user_id:"TEXT",userName:"TEXT",gallery_id:"TEXT",createdAt:"INTEGER"}},{name:"GallerySetting",columns:{key:"TEXT",value:"TEXT"}}]}}}angular.module("ionic").constant("AppConfig",e())}(),function(){"use strict";function e(e,t,n){n.addPart("app/"),e.state("loading",{url:"/",templateUrl:"app/main/loading/loading.html",controller:"LoadingCtrl",controllerAs:"vm"}).state("walkthrough",{url:"/walkthrough",templateUrl:"app/main/walkthrough/walkthrough.html",controller:"WalkthroughCtrl",controllerAs:"vm"}).state("user",{url:"/user","abstract":!0,templateUrl:"app/main/user-layout/user-layout.html"}).state("user.avatar",{url:"/avatar",templateUrl:"app/main/user-avatar/user-avatar.html",controller:"UserAvatarCtrl",controllerAs:"vm"}).state("user.intro",{url:"/intro",templateUrl:"app/main/user-intro/user-intro.html",controller:"UserIntroCtrl"}).state("user.merge",{url:"/merge",controller:"UserMergeCtrl",controllerAs:"vm",templateUrl:"app/main/user-merge/merge.html"}).state("logout",{url:"/logout",template:'<ion-view view-title="Logout" cache-view="false"><ion-content></ion-content></ion-view>',controller:["Auth","$state",function(e,t){e.logOut(),t.go("user.login",{clear:!0})}],controllerAs:"vm"}).state("tab",{url:"/tab","abstract":!0,controller:"MainTabCtrl",controllerAs:"vm",templateUrl:"app/main/tab/main-tab.html"}).state("tab.home",{url:"/home",views:{tabHome:{controller:"HomeCtrl",controllerAs:"vm",templateUrl:"app/main/tab-home/home.html"}}}).state("tab.search",{url:"/search",views:{tabSearch:{controller:"SearchCtrl",controllerAs:"vm",templateUrl:"app/main/tab-search/search.html"}}}).state("tab.map",{url:"/map",views:{tabSearch:{controller:"SearchMapCtrl",controllerAs:"vm",templateUrl:"app/main/tab-search-map/searchMap.html"}}}).state("tab.account",{url:"/account",views:{tabProfile:{controller:"AccountCtrl",controllerAs:"vm",templateUrl:"app/main/tab-account/account.html"}}}).state("tab.activity",{url:"/activity",views:{tabActivity:{controller:"ActivityCtrl",controllerAs:"vm",templateUrl:"app/main/tab-activity/activity.html"}}}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider","$translatePartialLoaderProvider"],angular.module("starter").config(e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s){function l(l,c,u){c.bind("click",function(){l.formFields=a.login,l.routeLogged=r.routes.home,l.form={username:"",password:""},l.submitLogin=function(e,a){var r=angular.copy(a);return e.$invalid?!1:(t.start(),console.log(r),n.logIn(r).then(function(e){console.log(e,e.attributes),s.currentUser=e,console.log(n.getLoggedUser().name),n.getLoggedUser()?o.go(l.routeLogged,{clear:!0}):o.go("useravatar",{clear:!0}),l.closeModal(),t.end()})["catch"](function(e){i.alert({title:"Ops",text:e.message}),t.end()}),void 0)},e.fromTemplateUrl("app/directive/SigninModalDirective.html",{scope:l,animation:"slide-in-up",focusFirstInput:!0}).then(function(e){l.modal=e,l.modal.show()}),l.closeModal=function(){l.modal.hide()},l.$on("$destroy",function(){l.modal.remove()})})}return{restrict:"A",link:l}}e.$inject=["$ionicModal","Loading","Auth","$state","Toast","UserForm","AppConfig","$rootScope"],angular.module("starter").directive("signinModal",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l){function c(c,u,d){u.bind("click",function(){c.formFields=e.register,c.routeLogged=t.routes.home,c.form={username:"",email:"",password:""},c.submitRegister=function(e,t){if(e.$valid){n.start();var s=angular.copy(t);o.signUp(s).then(function(e){console.log(e),i.logIn({username:s.username,password:s.password}).then(function(e){console.log(e),l.currentUser=Parse.User.current(),a.go("user.avatar",{clear:!0}),n.end(),c.closeModal()})["catch"](function(e){console.log(e),r.alert({title:"Alert",text:e.error}),n.end()})})["catch"](function(e){console.log(e),r.alert({title:"Alert",text:e.error}),n.end()})}},s.fromTemplateUrl("app/directive/SignupModalDirective.html",{scope:c,animation:"slide-in-up",focusFirstInput:!0}).then(function(e){c.modal=e,c.modal.show()}),c.closeModal=function(){c.modal.hide()},c.$on("$destroy",function(){c.modal.remove()})})}return{restrict:"A",link:c}}e.$inject=["UserForm","AppConfig","Loading","User","Auth","$state","Toast","$ionicModal","$rootScope"],angular.module("starter").directive("signupModal",e)}(),function(){"use strict";function e(e){function t(e,t){t.bind("click",function(){var e="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S";window.cordova?cordova.ThemeableBrowser.open(e,"_blank",{statusbar:{color:"#ffffffff"},toolbar:{height:44,color:"#f0f0f0ff"},title:{color:"#333333",showPageTitle:!0},closeButton:{image:"close",imagePressed:"close_pressed",align:"left",event:"closePressed"},backButtonCanClose:!0}):window.open(e,"_blank")})}return{restrict:"A",link:t}}e.$inject=["$cordovaInAppBrowser"],angular.module("starter").directive("buy",e)}(),function(){"use strict";function e(){return{restrict:"A",scope:{targetModel:"=compareTo"},require:"ngModel",link:function(e,t,n,o){var i=function(){var n=t.val(),o=e.targetModel;return null!==o?n===o:!1};e.$watch(i,function(e){o.$setValidity("errorCompareTo",e)})}}}angular.module("starter").directive("compareTo",e)}(),function(){"use strict";function e(e,t){function n(n,o,i){o.bind("click",function(){n.storage=e,n.distances=[{val:.2,text:"perto"},{val:.6,text:"longe"},{val:1,text:"1 "+n.storage.unit},{val:5,text:"5 "+n.storage.unit},{val:10,text:"10 "+n.storage.unit},{val:25,text:"25 "+n.storage.unit},{val:50,text:"50 "+n.storage.unit},{val:100,text:"100 "+n.storage.unit}],t.fromTemplateUrl("app/directive/distanceModal.html",{scope:n}).then(function(e){n.modal=e,n.modal.show()}),n.onDistanceSelected=function(e){console.log("Distance",e)},n.closeDistanceModal=function(){n.modal.hide(),n.modal.remove()}})}return{restrict:"A",link:n}}e.$inject=["$localStorage","$ionicModal"],angular.module("starter").directive("distanceModal",e)}(),function(){"use strict";function e(e){function t(t,n,o,i){i.$asyncValidators.email=function(t,n){return console.log(n),n?e.validateEmail(n):void 0}}return{require:"ngModel",link:t}}e.$inject=["User"],angular.module("starter").directive("emailValidator",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l){function c(c,u,d){function m(){function c(t){e.start();var s=null;return i.me().then(function(e){return s=e,r.findByEmail(e.email)}).then(function(e){if(!e.id)return r.signInViaFacebook(t);if(!e.get("authData")){var i=n.defer();return i.reject(o.instant("emailFacebookTakenText")),i.promise}return e.get("authData").facebook.id===s.id?r.signInViaFacebook(t):void 0}).then(function(){return r.updateWithFacebookData(s)}).then(function(e){l.show(o.instant("loggedInAsText")+" "+e.get("email"))},function(e){a.alert(e)})}e.start(),i.getCurrentUser().then(function(n){if(console.log(n),"connected"===n.status){var o=null;return i.me().then(function(e){return o=e,r.findByEmail(e.email)}).then(function(i){if(!i.id)return r.signInViaFacebook(n);if(i.get("authData")){if(i.get("authData").facebook.id===o.id)return r.signInViaFacebook(n)}else console.log(i),console.log(i.attributes),s.tempUser=i,t.go("user.merge",{clear:!0}),e.end()})}switch(n.status){case"connected":c();break;case 1:t.go("user.avatar",{clear:!0});break;case 2:t.go("user.merge",{clear:!0})}})["catch"](function(){e.end()})}c.facebookStatus=null,i.getCurrentUser().then(function(e){return console.log(e),c.facebookStatus=e,e}).then(function(e){"connected"===e.status&&i.me().then(function(e){c.name=e.name})})["catch"](function(){console.log("Not logged")}),u.bind("click",m)}return{restrict:"E",link:c,template:'<button class="button button-block button-facebook"><i class="icon ion-social-facebook"></i> <span>{{ name || \'loginWithFacebook\'| translate}}</span> </button>'}}e.$inject=["Loading","$state","$q","$translate","Facebook","Dialog","User","$rootScope","Toast"],angular.module("starter").directive("facebookLogin",e)}(),function(){"use strict";function e(){function e(e,t,n){t.bind("click",function(){console.log(e.item),t.addClass("happy")})}return{restrict:"A",scope:{item:"="},link:e}}angular.module("starter").directive("heart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{icon:"@",loading:"="},template:'<div class="padding text-center loading" ng-show="loading"><ion-spinner icon="{{ icon }}"></ion-spinner></div>'}}function t(e,t){e.$on("ionicLoading:true",function(n){e.loading=!0,t.show(n)}),e.$on("ionicLoading:false",function(){e.loading=!1,t.hide()})}function n(e,t){function n(t){e.$broadcast("ionicLoading:true",t)}function o(){t(function(){e.$broadcast("ionicLoading:false")},parseInt(i+"000"))}var i=0;return{start:n,end:o}}t.$inject=["$rootScope","$ionicLoading"],n.$inject=["$rootScope","$timeout"],angular.module("starter").directive("ionLoading",e).run(t).factory("Loading",n)}(),function(){"use strict";function e(){return{restrict:"E",scope:{loading:"=",icon:"@"},template:'<div class="padding text-center loading" ng-show="loading"><ion-spinner icon="{{ icon }}"></ion-spinner></div>'}}angular.module("starter").directive("loading",e)}(),function(){"use strict";function e(e,t,n){var o=t.path;return{restrict:"A",scope:{user:"="},link:function(t,i,a){function r(){e.fromTemplateUrl(o+"/directive/follow/photogram.follow.modal.html",{scope:t}).then(function(e){t.modalFollow=e,console.log("Open modal follow",t.user),n.getFollow(t.user).then(function(e){console.log(e),t.data=e,t.modalFollow.show()})})}function s(){t.modalFollow.hide(),t.modalFollow.remove()}i.bind("click",r),t.closeModal=s}}}e.$inject=["$ionicModal","AppConfig","Photogram"],angular.module("starter").directive("photogramFollow",e)}(),function(){"use strict";function e(e,t,n,o,i,a){function r(r,s,l){function c(){v=!0,b=!1,w=!1,y=!1}function u(){b=!0,v=!1,w=!1,y=!1}function d(){w=!0,b=!1,v=!1,y=!1}function m(){y=!0,w=!1,b=!1,v=!1}function p(e){T=!1,e>0&&(T=!0)}function g(e){for(var t=0;t<e.length;t++)r.data.push(e[t])}function f(e){r.params.page=e}function h(){e.feed(r.params).then(function(e){p(e.length),f(r.params.page+1),g(e),0===r.data.length?m():u(),r.$broadcast("scroll.infiniteScrollComplete"),r.$broadcast("scroll.refreshComplete"),r.loading=!1})["catch"](function(){0===r.data.length&&d(),T=!1,r.$broadcast("scroll.refreshComplete")})}r.params={},r.params.page=1,r.data=[],r.loading=!0,t.$on("photoInclude",function(e,t){t.objectId&&(t.id=t.objectId),r.data.unshift(t)}),h();var v=!1,b=!1,w=!1,y=!1,T=!1;r.onLoadMore=function(){h()},r.moreDataCanBeLoaded=function(){return T},r.showLoadingView=function(){return v},r.showGalleries=function(){return b},r.showErrorView=function(){return w},r.showEmptyView=function(){return y},r.onReload=function(){r.params.page=0,r.data=[],c(),h(),r.$broadcast("scroll.refreshComplete")},r.action=function(t){function s(a){switch(a){case 0:o.share(u);break;case 1:i.modal(t);break;case 2:n.confirm({title:"Delete photo",template:"Are you sure?"}).then(function(n){n&&e.destroy(t).then(function(){console.log("Photo deleted"),r.$emit("PhotogramHome:reload")})})}return!0}var l=[{text:'<i class="icon ion-share"></i>Share'},{text:'<i class="icon ion-alert-circled"></i>Report'}];if(console.log(t),Parse.User.current().id===t.user_id){var c={text:'<i class="icon ion-trash-b"></i>Delete your photo'};l.push(c)}var u={text:t.title,image:t.img},d={buttons:l,titleText:"Photo",cancelText:"Cancel",buttonClicked:s};a.show(d)}}return{restrict:"E",scope:{user:"=",profile:"="},templateUrl:"app/directive/photoGridDirective.html",link:r}}e.$inject=["Gallery","$rootScope","$ionicPopup","Share","FeedbackModal","$ionicActionSheet"],angular.module("starter").directive("photoGrid",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s){return{restrict:"A",scope:{ngModel:"="},link:function(l,c){function u(){l.currentUser=o.getLoggedUser(),l.nocomments=!1,l.loading=!1,l.form={gallery:l.ngModel.galleryObj,text:""}}function d(){console.log(l.ngModel),u(),l.formFields=s.formComment,l.submitComment=f,l.deleteComment=m,l.editComment=p,l.closeModal=function(){l.modal.hide(),l.modal.remove()},g(),e.fromTemplateUrl("app/directive/photoCommentDirective.html",{scope:l,focusFirstInput:!0}).then(function(e){l.modal=e,l.modal.show()})}function m(e){console.log(e),i.confirm("Delete comment","You are sure?").then(function(t){console.log(t),t&&r.destroy(e).then(function(e){console.log(e),g()})})}function p(e){console.log(e),l.data=angular.copy(e),n.show({template:'<input type="text" ng-model="data.text">',title:"Edit comment",scope:l,buttons:[{text:"Cancel"},{text:"<b>OK</b>",type:"button-positive",onTap:function(e){return console.log(l.data),l.data.text?l.data:void e.preventDefault()}}]}).then(function(e){console.log(e),e&&r.update(e).then(function(e){console.log(e),g()})})}function g(){l.loading=!0,a.comments({galleryId:l.ngModel.id}).then(function(e){l.comments=e,l.ngModel.comments=e,l.loading=!1})}function f(e,n){if(e.$valid){var o=angular.copy(n);console.log(o),t.start(),r.create(o).then(function(e){console.log(e),g(),t.end(),l.closeModal()})}}c.bind("click",d)}}}e.$inject=["$ionicModal","Loading","$ionicPopup","Auth","Dialog","Gallery","GalleryComment","GalleryForm"],angular.module("starter").directive("photoComment",e)}(),function(){"use strict";function e(e){return{restrict:"A",scope:{ngModel:"="},link:function(t,n){n.bind("click",function(){var n=t.ngModel;n.progress=!0,n.liked=!n.liked,e.likeGallery({galleryId:t.ngModel.galleryObj.id}).then(function(e){console.log(e),n.likes=e.likes,n.progress=!1,console.log(n,e),"like"===e.action&&(t.ngModel.isLiked=!0,t.ngModel.likesTotal+=1),"unlike"===e.action&&(t.ngModel.isLiked=!1,t.ngModel.likesTotal-=1)})})}}}e.$inject=["Gallery"],angular.module("starter").directive("photoLike",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(s,l,c){function u(){b=!0,w=!1,y=!1,T=!1}function d(){w=!0,b=!1,y=!1,T=!1}function m(){y=!0,w=!1,b=!1,T=!1}function p(){T=!0,y=!1,w=!1,b=!1}function g(e){k=!1,e>0&&(k=!0)}function f(e){for(var t=0;t<e.length;t++)s.data.push(e[t])}function h(e){s.params.page=e}function v(){e.feed(s.params).then(function(e){g(e.length),h(s.params.page+1),f(e),0===s.data.length?p():d(),s.loading=!1,s.$broadcast("scroll.infiniteScrollComplete"),s.$broadcast("scroll.refreshComplete")})["catch"](function(){0===s.data.length&&m(),k=!1,s.$broadcast("scroll.refreshComplete")})}s.params={},s.params.page=0,s.data=[],s.username&&(s.params.username=s.username),s.loading=!0,t.$on("photoInclude",function(e,t){t.objectId&&(t.id=t.objectId),s.data.unshift(t)}),v();var b=!1,w=!1,y=!1,T=!1,k=!1;s.onLoadMore=function(){v()},s.moreDataCanBeLoaded=function(){return k},s.showLoadingView=function(){return b},s.showGalleries=function(){return w},s.showErrorView=function(){return y},s.showEmptyView=function(){return T},s.onReload=function(){s.params.page=0,s.data=[],u(),v(),s.$broadcast("scroll.refreshComplete")},s.action=function(t){function l(r){switch(r){case 0:i.share(d);break;case 1:a.modal(t);break;case 2:n.confirm({title:o.instant("deleteGalleryConfirmText"),template:o.instante("areSure")}).then(function(n){n&&e.destroy(t).then(function(){console.log("Photo deleted"),s.$emit("PhotogramHome:reload")})})}return!0}var c=[{text:'<i class="icon ion-alert-circled"></i>'+o.instant("reportText")}];if(console.log(t),Parse.User.current().id===t.user_id){var u={text:'<i class="icon ion-trash-b"></i>'+o.instant("deleteGalleryConfirmText")};c.push(u)}var d={text:t.title,image:t.img},m={buttons:c,cancelText:o.instant("cancelText"),buttonClicked:l};r.show(m)}}return{restrict:"E",scope:{username:"=",profile:"="},templateUrl:"app/directive/photoListDirective.html",link:s}}e.$inject=["Gallery","$rootScope","$ionicPopup","$translate","Share","FeedbackModal","$ionicActionSheet"],angular.module("starter").directive("photoList",e)}(),function(){"use strict";function e(e,t,n,o,i){return{restrict:"A",scope:{user:"="},template:"",link:function(a,r){function s(){var e=Parse.User.current().attributes;a.form={name:e.name,email:e.email,status:e.status,photo:e.photo,username:e.username,gender:e.gender,facebook:e.facebook},console.log(a.form),a.formFields=o.profile}function l(){s(),e.fromTemplateUrl("app/directive/profile-edit-modal.html",{scope:a}).then(function(e){a.modal=e,a.modal.show()}),a.$on("$destroy",function(){a.modal.remove()})}function c(){i.go("logout"),a.closeModal()}function u(){t.facebookLink().then(function(e){console.log(e)})}function d(){var e=angular.copy(a.form);n.start(),t.update(e).then(function(e){console.log(e),a.user=e,n.end(),a.closeModal()})}function m(){a.modal.hide()}a.linkFacebook=u,a.logout=c,a.submitUpdateProfile=d,a.closeModal=m,r.bind("click",l)}}}e.$inject=["$ionicModal","User","Loading","UserForm","$state"],angular.module("starter").directive("profileModalEdit",e)}(),function(){"use strict";function e(e,t){function n(n,o){function i(){console.log(n.user.attributes),e.fromTemplateUrl("app/directive/profile-modal.html",{scope:n}).then(function(e){function o(){function e(e){console.log("Follow result",e),n.user.follow=o,n.loadingFollow=!1}n.loadingFollow=!0;var o;o=n.user.follow?!1:!0,t.follow(o,n.user).then(e)}function i(){delete n.data,n.modalProfile.hide()}n.modalProfile=e,n.loadingFollow=!0,n.changeTab=a,n.follow=o,n.closeModal=i,n.modalProfile.show(),a("list")}),n.$on("$destroy",function(){n.modalProfile.remove()})}function a(e){"list"===e?n.tab={list:!0,grid:!1}:n.tab={list:!1,grid:!0}}o.bind("click",function(){t.getPublicData(n.userObj).then(function(e){console.log(e),n.user=e,i()})})}return{restrict:"A",scope:{userObj:"=user"},link:n}}e.$inject=["$ionicModal","User"],angular.module("starter").directive("profileModal",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{getData:"&source",ngModel:"=?",search:"=?filter"},templateUrl:"app/module/photogram/directive/search/search-directive.html",link:function(t,n,o){function i(n){n.length>o.minLength?e(function(){t.getData({str:n}).then(function(e){t.ngModel=e})},1e3):t.ngModel=[]}o.minLength=o.minLength||0,t.placeholder=o.placeholder||"",t.clear=function(){console.log("Limpar campo"),t.input="",t.$apply()},o["class"]&&n.addClass(o["class"]),o.source&&t.$watch("search.value",i)}}}e.$inject=["$timeout"],angular.module("starter").directive("ionSearch",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l){return{restrict:"A",template:"",link:function(o,r){function c(){o.form=a.getLoggedUser(),o.formFields=s.profile,o.languages=n.locales,o.language=t.use()}function u(){c(),e.fromTemplateUrl("app/directive/settings-modal.html",{scope:o}).then(function(e){o.modal=e,o.modal.show()})}function d(e){l.go(e),o.closeModal()}function m(){o.modal.hide(),o.modal.remove()}r.bind("click",u),o.closeModal=m,o.link=d,o.share=i.share,o.logout=function(){l.go(n.routes.login),o.closeModal()}}}}e.$inject=["$ionicModal","$translate","AppConfig","$cordovaInAppBrowser","Share","Auth","User","UserForm","$state"],angular.module("starter").directive("settingsModal",e)}(),function(){"use strict";function e(e){function t(t,n,o,i){i.$asyncValidators.username=function(t,n){return n?e.validateUsername(n):void 0}}return{require:"ngModel",restrict:"A",link:t}}e.$inject=["User"],angular.module("starter").directive("usernameValidator",e)}(),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],ERANAMES:["Antes de Cristo","Ano do Senhor"],ERAS:["a.C.","d.C."],FIRSTDAYOFWEEK:6,MONTH:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","sáb"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],STANDALONEMONTH:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss","short":"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"pt-br",pluralCat:function(e,n){return e>=0&&2>=e&&2!=e?t.ONE:t.OTHER}})}]),function(){"use strict";var e=window.moment.defineLocale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segs",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"});return e}(),function(){"use strict";function e(e){var t=[{key:"title",type:"input",templateOptions:{type:"text",placeholder:e.instant("PHOTOGRAM.FORM.TITLE"),icon:"icon-envelope",required:!0,iconPlaceholder:!0,focus:!0}},{key:"geo",type:"toggle",templateOptions:{label:e.instant("PHOTOGRAM.FORM.GEOLOCATION"),toggleClass:"positive"}}],n=[{key:"text",type:"input",templateOptions:{placeholder:e.instant("addComment"),type:"text",required:!0,focus:!0}}],o=[{key:"facebook",type:"toggle",templateOptions:{label:"Facebook",toggleClass:"positive"}},{key:"twitter",type:"toggle",templateOptions:{label:"Twitter",toggleClass:"positive"}},{key:"whatsapp",type:"toggle",templateOptions:{label:"Whatsapp",toggleClass:"positive"}},{key:"SMS",type:"toggle",templateOptions:{label:"SMS",toggleClass:"positive"}},{key:"email",type:"toggle",templateOptions:{label:"Email",toggleClass:"positive"}}];return{form:t,formComment:n,formShare:o}}e.$inject=["$translate"],angular.module("starter").factory("GalleryForm",e)}(),function(){"use strict";function e(e){function t(){return[{type:"input",key:"username",templateOptions:{type:"text",placeholder:e.instant("username"),icon:"icon-user",required:!0,iconPlaceholder:!0}},{type:"input",key:"password",templateOptions:{type:"password",placeholder:e.instant("password"),icon:"icon-lock",required:!0,iconPlaceholder:!0}}]}function n(){return[{type:"input",key:"username",templateOptions:{type:"text",placeholder:e.instant("username"),icon:"icon-user",required:!0,iconPlaceholder:!0}},{type:"input",key:"email",templateOptions:{type:"email",placeholder:e.instant("email"),icon:"icon-envelope",required:!0,iconPlaceholder:!0}},{type:"input",key:"password",templateOptions:{type:"password",placeholder:e.instant("password"),icon:"icon-lock",required:!0,iconPlaceholder:!0}}]}function o(){return[{key:"username",type:"input",templateOptions:{type:"text",placeholder:e.instant("username"),icon:"icon-user",required:!0,iconPlaceholder:!0}},{key:"name",type:"input",templateOptions:{type:"text",placeholder:e.instant("name"),icon:"icon-user",required:!0,iconPlaceholder:!0}},{key:"status",type:"input",templateOptions:{type:"text",placeholder:e.instant("status"),icon:"ion-quote",required:!0,iconPlaceholder:!0}},{type:"select",key:"gender",templateOptions:{label:e.instant("gender"),options:[{label:e.instant("man"),id:"male"},{label:e.instant("woman"),id:"female"}],valueProp:"id",labelProp:"label"}}]}return{login:t(),register:n(),profile:o()}}e.$inject=["$translate"],angular.module("app.main").factory("UserForm",e)}(),function(){"use strict";function e(e,t,n,o){function i(){var e=o.defer();return a({title:"Choose an option",cancelText:"Cancel",options:[{text:"Photo Library"},{text:"Photo"}]}).then(function(e){var n;return 1===e&&(n="photoLibrary"),2===e&&(n="camera"),t.getPicture({sourceType:n})}).then(e.resolve)["catch"](e.reject),e.promise}function a(t){var i=o.defer();if(window.cordova){var a={title:t.title,buttonLabels:_.map(t.options,function(e){return e.text}),addCancelButtonWithLabel:t.cancelText,androidEnableCancelButton:!0,androidTheme:window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT};n.show(a).then(function(e){3!==e&&i.resolve(e),i.reject("cancel")})}else var r=e.show({buttons:t.options,titleText:t.title,cancelText:t.cancelText,cancel:function(){r()},buttonClicked:function(e){r(),3!==e&&i.resolve(e),i.reject("cancel")}});return i.promise}return{show:a,image:i}}e.$inject=["$ionicActionSheet","Camera","$cordovaActionSheet","$q"],angular.module("starter").factory("ActionSheet",e)}(),function(){"use strict";angular.module("starter").factory("Auth",["$q",function(e){function t(){return Parse.User.current()}function n(e){l=e}function o(){var t=e.defer();return null===l?(t.reject("Session token invalid"),t.promise):(Parse.User.current()?t.resolve(Parse.User.current()):Parse.User.become(l).then(t.resolve,t.reject),t.promise)}function i(t){var n=e.defer();return Parse.User.requestPasswordReset(t,{success:n.resolve,error:n.reject}),n.promise}function a(t){var n=e.defer();return Parse.User.requestPasswordReset(t,{success:n.resolve,error:n.reject}),n.promise}function r(t){var n=e.defer();return Parse.User.logIn(t.username,t.password,{success:n.resolve,error:n.reject}),n.promise}function s(){var t=e.defer();return Parse.User.logOut().then(t.resolve,t.reject),t.promise}var l=null;return{getLoggedUser:t,setSessionToken:n,ensureLoggedIn:o,recoverPassword:i,resetPassword:a,logIn:r,logOut:s}}])}(),function(){"use strict";function e(e,t){function n(n){var o=t.defer();if(window.cordova){var i=n.sourceType||Camera.PictureSourceType.CAMERA;"photoLibrary"===n.sourceType&&(i=Camera.PictureSourceType.PHOTOLIBRARY),"camera"===n.sourceType&&(i=Camera.PictureSourceType.CAMERA);var a={quality:70,targetWidth:800,targetHeight:800,saveToPhotoAlbum:!1,correctOrientation:!0,sourceType:i,destinationType:Camera.DestinationType.DATA_URL,encodingType:Camera.EncodingType.JPEG};e.getPicture(a).then(o.resolve,o.reject)}else{console.log("Input File");
var r=angular.element('<input type="file" accept="image/x-png, image/gif, image/jpeg" max-size="2048" />');r[0].click(),r.on("change",function(e){var t=e.currentTarget.files[0],n=new FileReader;n.onload=function(e){o.resolve(e.target.result)},n.readAsDataURL(t)})}return o.promise}function o(e,n,o){var i=t.defer();return window.imageResizer.resizeImage(i.resolve,i.reject,e,n||1,o||1,{imageDataType:ImageResizer.IMAGE_DATA_TYPE_URL,resizeType:ImageResizer.RESIZE_TYPE_FACTOR,format:"jpg"}),i.promise}function i(e,n,o){var i=t.defer();return window.imageResizer.resizeImage(i.resolve,i.reject,e,n||640,o||640,{imageDataType:ImageResizer.IMAGE_DATA_TYPE_URL,resizeType:ImageResizer.RESIZE_TYPE_MIN_PIXEL,pixelDensity:!0,storeImage:!1,photoAlbum:!1,format:"jpg"}),i.promise}return{getPicture:n,resizeImage:i,toBase64Image:o}}e.$inject=["$cordovaCamera","$q"],angular.module("starter").service("Camera",e)}(),function(){"use strict";function e(e,t){function n(){ionic.Platform.isWebView()?(e.onLine=t.isOnline(),e.$apply(),e.$on("$cordovaNetwork:online",function(t,n){console.log("went online"),e.onLine=!0,e.$apply()}),e.$on("$cordovaNetwork:offline",function(t,n){console.log("went offline"),e.onLine=!1,e.$apply()})):(e.onLine=navigator.onLine,e.$apply(),window.addEventListener("online",function(t){console.log("went online"),e.onLine=!0,e.$apply()},!1),window.addEventListener("offline",function(t){console.log("went offline"),e.onLine=!1,e.$apply()},!1))}return{watch:n}}e.$inject=["$rootScope","$cordovaNetwork"],angular.module("starter").factory("ConnectMonitor",e)}(),function(){"use strict";function e(e,t){function n(e){l||(l=void 0!==window.sqlitePlugin?window.sqlitePlugin.openDatabase({name:e.name,location:2,createFromLocation:1}):window.openDatabase(e.name,"1.0","Database",2e5));var n=[];return angular.forEach(e.tables,function(e){var t=[];angular.forEach(e.columns,function(e,n){t.push(n+" "+e)}),a("DROP TABLE "+e.name);var o="CREATE TABLE IF NOT EXISTS "+e.name+" ("+t.join(",")+")";n.push(a(o)),c.push(e)}),t.all(n)}function o(e,n){var o=t.defer();return a("SELECT MAX("+n+") as lastSync FROM "+e).then(function(e){var t=e.rows.item[0].lastSync;o.resolve(t)}),o.promise}function i(e){var n=t.defer(),o=[],i=[];angular.forEach(e.columns,function(e,t){o.push(t),"number"==typeof e?i.push(e):i.push("'"+e+"'")});var r="INSERT OR REPLACE INTO "+e.table+" ("+o.join(",")+") VALUES ("+i.join(",")+")";return a(r).then(n.resolve)["catch"](n.reject),n.promise}function a(e,n){n="undefined"!=typeof n?n:[];var o=t.defer();return l.transaction(function(t){t.executeSql(e,n,function(e,t){var n={rows:[]};if(t&&t.rows)for(var i=0;i<t.rows.length;i++)n.rows.push(angular.copy(t.rows[i]));o.resolve(n)},function(e,t){console.log(e,t),o.reject(t)})}),o.promise}function r(e,n,o,i,r,s,l){var c=t.defer();void 0===l&&(l=-1);var u=n,d=s?s:10,m="SELECT SUM(id) as TOTAL FROM "+e+"  "+o,p="SELECT "+u+" FROM "+e+"  "+o+" "+i+" "+r+" LIMIT "+d+" OFFSET "+l;return console.log("query",m),console.log("query",p),a(m).then(function(e){var t={page:l,total:e.rows[0].TOTAL,rows:[]};a(p).then(function(e){console.log(e),t.rows=e.rows,c.resolve(t)})}),c.promise}function s(e){for(var t=[],n=0;n<e.rows.length;n++)t.push(e.rows.item(n));return t}var l,c=[];return{init:n,insert:i,query:a,getLastSync:o,paginate:r,fetchAll:s}}e.$inject=["$interval","$q"],angular.module("starter").factory("DAO",e)}(),function(){"use strict";function e(){function e(e){var t=e.split("-");return new Date(t[0],t[1]-1,t[2])}function t(e){return new Date(e).toLocaleDateString()}function n(){var e=new Date,t="00",n=e.getFullYear(),o=(t+(e.getMonth()+1)).slice(-t.length),i=(t+e.getDate()).slice(-t.length);return n+"-"+o+"-"+i}function o(e){var t=new Date(e),n="00",o=t.getFullYear(),i=(n+(t.getMonth()+1)).slice(-n.length),a=(n+t.getDate()).slice(-n.length);return o+"-"+i+"-"+a}function i(e){var t=["Janeiro","Feveiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return t[e.getMonth()]}function a(e){var t=e.getFullYear(),n=e.getMonth();return new Date(t,n,1)}function r(e){var t=e.getFullYear(),n=e.getMonth()+1;return new Date(t,n,0)}return{parseData:e,parseString:t,getDate:n,formatDate:o,getMonthName:i,getFirstDay:a,getLastDay:r}}angular.module("starter").factory("DataUtil",e)}(),function(){"use strict";function e(e,t,n){function o(o,i){var a=n.defer();return window.cordova?e.alert(o,i).then(a.resolve):t.alert({title:i,template:o}),a.promise}function i(o,i,a){var r=n.defer();return window.cordova?e.confirm(o,i,a).then(function(e){2===e&&r.resolve(!0),r.reject(!0)}):t.confirm({title:i,template:o}).then(function(e){e?r.resolve(!0):r.reject(!0)}),r.promise}return{alert:o,confirm:i}}e.$inject=["$cordovaDialogs","$ionicPopup","$q"],angular.module("starter").service("Dialog",e)}(),function(){"use strict";function e(e,t,n){function o(){var t=e.defer();return d.getLoginStatus().then(t.resolve,t.reject),t.promise}function i(){var t=e.defer();return window.cordova?n.login(["public_profile","email"]).then(t.resolve,t.reject):Parse.FacebookUtils.logIn(null,{success:t.resolve,error:t.reject}),t.promise}function a(){var t=e.defer();return n.logout().then(t.resolve,t.reject),t.promise}function r(){var t=e.defer();return window.cordova?n.api("me?fields=name,first_name,last_name,gender,email",["public_profile"]).then(t.resolve,t.reject):d.api("/me",{fields:"name, first_name, last_name, gender, email"}).then(function(e){!e||e.error?t.reject(e.error):t.resolve(e)}),t.promise}function s(){var t=e.defer();return window.cordova?d.showDialog({method:"apprequests",message:"Venha para o nosso clube!"}).then(t.resolve,t.reject):d.ui({method:"apprequests",message:"Venha para o nosso clube!"}).then(t.resolve,t.reject),t.promise}function l(){var t=e.defer();return d.api("me/friends").then(t.resolve,t.reject),t.promise}function c(t){var n=e.defer();return d.api(t).then(n.resolve,n.reject),n.promise}function u(t){var n=e.defer();return t?d.login(["email"]).then(function(e){console.log("facebook login",e);var o=new Date((new Date).getTime()+1e3*e.authResponse.expiresIn);console.log(t,e,o),Parse.FacebookUtils.link(t,{id:e.authResponse.userID,access_token:e.authResponse.accessToken,expiration_date:o},{success:function(t){console.log("User",t),t.set("facebook",e.authResponse.userID),t.set("facebookimg","https://graph.facebook.com/"+e.authResponse.userID+"/picture?width=250&height=250"),t.set("facebook_complete",Boolean(!0)),t.save().then(n.resolve)}})},n.resolve):n.reject("not logged"),n.promise}var d=window.cordova?n:t;return{getCurrentUser:o,logIn:i,logOut:a,me:r,invite:s,friends:l,api:c,link:u}}e.$inject=["$q","$facebook","$cordovaFacebook"],angular.module("starter").service("Facebook",e)}(),function(){"use strict";angular.module("starter").factory("GalleryActivity",["$q","ParseCloud","moment",function(e,t,n){var o=Parse.Object.extend("GalleryActivity",{getStatus:function(){return this.isApproved?"Approved":this.isApproved===!1?"Rejected":"Pending"}},{update:function(t){var n=e.defer();return t.save(null,{success:n.resolve,error:n.reject}),n.promise},destroy:function(t){var n=e.defer();return t.destroy({success:n.resolve,error:n.reject}),n.promise},feed:function(e){return t.run("feedActivity",e)},all:function(t){var o=e.defer(),i=new Parse.Query(this);if(""!=t.filter&&i.contains("words",t.filter),t.order&&(t.order.indexOf("-")<-1?i.ascending(t.order):i.descending(t.order.replace("-"))),t.date&&null!==t.date){var a=n(t.date).startOf("day"),r=n(t.date).endOf("day");i.greaterThanOrEqualTo("createdAt",a.toDate()),i.lessThanOrEqualTo("createdAt",r.toDate())}return t.status&&null!==t.status&&("pending"===t.status?i.doesNotExist("isApproved"):"rejected"===t.status?i.equalTo("isApproved",!1):"approved"===t.status&&i.equalTo("isApproved",!0)),i.include("gallery"),i.include("user"),i.limit(t.limit),i.skip(t.page*t.limit-t.limit),i.find({success:o.resolve,error:o.reject}),o.promise},count:function(t){var o=e.defer(),i=new Parse.Query(this);if(""!=t.filter&&i.contains("words",t.filter),t.date&&null!==t.date){var a=n(t.date).startOf("day"),r=n(t.date).endOf("day");i.greaterThanOrEqualTo("createdAt",a.toDate()),i.lessThanOrEqualTo("createdAt",r.toDate())}return t.status&&null!==t.status&&("pending"===t.status?i.doesNotExist("isApproved"):"rejected"===t.status?i.equalTo("isApproved",!1):"approved"===t.status&&i.equalTo("isApproved",!0)),i.count({success:function(e){o.resolve(e)},error:function(e){o.reject(e)}}),o.promise}});return Object.defineProperty(o.prototype,"fromUser",{get:function(){return this.get("fromUser")},set:function(e){this.set("fromUser",e)}}),Object.defineProperty(o.prototype,"toUser",{get:function(){return this.get("toUser")},set:function(e){this.set("toUser",e)}}),Object.defineProperty(o.prototype,"gallery",{get:function(){return this.get("gallery")},set:function(e){this.set("gallery",e)}}),Object.defineProperty(o.prototype,"title",{get:function(){return this.get("title")},set:function(e){this.set("title",e)}}),Object.defineProperty(o.prototype,"hashtags",{get:function(){return this.get("hashtags")},set:function(e){this.set("hashtags",e)}}),Object.defineProperty(o.prototype,"words",{get:function(){return this.get("words")},set:function(e){this.set("words",e)}}),Object.defineProperty(o.prototype,"address",{get:function(){return this.get("address")},set:function(e){this.set("address",e)}}),Object.defineProperty(o.prototype,"image",{get:function(){return this.get("image")},set:function(e){this.set("image",e)}}),Object.defineProperty(o.prototype,"imageThumb",{get:function(){return this.get("imageThumb")},set:function(e){this.set("imageThumb",e)}}),Object.defineProperty(o.prototype,"location",{get:function(){return this.get("location")},set:function(e){this.set("location",new Parse.GeoPoint({latitude:e.latitude,longitude:e.longitude}))}}),Object.defineProperty(o.prototype,"isApproved",{get:function(){return this.get("isApproved")},set:function(e){this.set("isApproved",e)}}),Object.defineProperty(o.prototype,"expiresAt",{get:function(){return this.get("expiresAt")},set:function(e){this.set("expiresAt",e)}}),o}])}(),function(){"use strict";angular.module("starter").factory("GalleryComment",["$q","moment",function(e,t){var n=Parse.Object.extend("GalleryComment",{getStatus:function(){return this.isApproved?"Approved":this.isApproved===!1?"Rejected":"Pending"}},{create:function(t){var o=e.defer();return(new n).save(t,{success:o.resolve,error:o.reject}),o.promise},update:function(t){var n=e.defer();return t.save(null,{success:n.resolve,error:n.reject}),n.promise},destroy:function(t){var n=e.defer();return t.destroy({success:n.resolve,error:n.reject}),n.promise},all:function(t){var n=e.defer(),o=new Parse.Query(this);return o.include("user"),o.ascending("createdAt"),o.equalTo("gallery",t.gallery),o.limit(t.limit),o.skip(t.page*t.limit-t.limit),o.find({success:n.resolve,error:n.reject}),n.promise},count:function(n){var o=e.defer(),i=new Parse.Query(this);if(""!=n.filter&&i.contains("words",n.filter),n.date&&null!==n.date){var a=t(n.date).startOf("day"),r=t(n.date).endOf("day");i.greaterThanOrEqualTo("createdAt",a.toDate()),i.lessThanOrEqualTo("createdAt",r.toDate())}return n.status&&null!==n.status&&("pending"===n.status?i.doesNotExist("isApproved"):"rejected"===n.status?i.equalTo("isApproved",!1):"approved"===n.status&&i.equalTo("isApproved",!0)),i.count({success:function(e){o.resolve(e)},error:function(e){o.reject(e)}}),o.promise}});return Object.defineProperty(n.prototype,"user",{get:function(){return this.get("user")},set:function(e){this.set("user",e)}}),Object.defineProperty(n.prototype,"text",{get:function(){return this.get("text")},set:function(e){this.set("text",e)}}),n}])}(),function(){"use strict";function e(e,t,n){var o=Parse.Object.extend("Gallery",{getStatus:function(){return this.isApproved?"Approved":this.isApproved===!1?"Rejected":"Pending"}},{create:function(t){var n=e.defer(),i=new o;return t.location&&(t.location=new Parse.GeoPoint({latitude:t.location.lat,longitude:t.location.lng})),i.save(t,{success:n.resolve,error:n.reject}),n.promise},update:function(t){var n=e.defer();return t.save(null,{success:n.resolve,error:n.reject}),n.promise},destroy:function(t){var n=e.defer();return t.destroy({success:n.resolve,error:n.reject}),n.promise},comments:function(e){return t.run("commentGallery",e)},feed:function(e){return t.run("feedGallery",e)},follow:function(e){return console.log("Follow",e),t.run("followUser",e)},likeGallery:function(e){return console.log(e),t.run("likeGallery",{galleryId:e.galleryId})},all:function(t){var n=e.defer(),o=new Parse.Query(this);return""!=t.filter&&o.contains("words",t.filter),t.order&&(t.order.indexOf("-")<-1?o.ascending(t.order):o.descending(t.order.replace("-"))),t.status&&null!==t.status&&("pending"===t.status?o.doesNotExist("isApproved"):"rejected"===t.status?o.equalTo("isApproved",!1):"approved"===t.status&&o.equalTo("isApproved",!0)),o.limit(t.limit),o.skip(t.page*t.limit-t.limit),o.find({success:n.resolve,error:n.reject}),n.promise},count:function(t){var o=e.defer(),i=new Parse.Query(this);if(""!=t.filter&&i.contains("words",t.filter),t.date&&null!==t.date){var a=n(t.date).startOf("day"),r=n(t.date).endOf("day");i.greaterThanOrEqualTo("createdAt",a.toDate()),i.lessThanOrEqualTo("createdAt",r.toDate())}return t.status&&null!==t.status&&("pending"===t.status?i.doesNotExist("isApproved"):"rejected"===t.status?i.equalTo("isApproved",!1):"approved"===t.status&&i.equalTo("isApproved",!0)),i.count({success:function(e){o.resolve(e)},error:function(e){o.reject(e)}}),o.promise}});return Object.defineProperty(o.prototype,"likesTotal",{get:function(){return this.get("likesTotal")},set:function(e){this.set("likesTotal",e)}}),Object.defineProperty(o.prototype,"user",{get:function(){return this.get("user")},set:function(e){this.set("user",e)}}),Object.defineProperty(o.prototype,"title",{get:function(){return this.get("title")},set:function(e){this.set("title",e)}}),Object.defineProperty(o.prototype,"hashtags",{get:function(){return this.get("hashtags")},set:function(e){this.set("hashtags",e)}}),Object.defineProperty(o.prototype,"words",{get:function(){return this.get("words")},set:function(e){this.set("words",e)}}),Object.defineProperty(o.prototype,"location",{get:function(){return this.get("location")},set:function(e){this.set("location",new Parse.GeoPoint({latitude:e.latitude,longitude:e.longitude}))}}),Object.defineProperty(o.prototype,"address",{get:function(){return this.get("address")},set:function(e){this.set("address",e)}}),Object.defineProperty(o.prototype,"image",{get:function(){return this.get("image")},set:function(e){this.set("image",e)}}),Object.defineProperty(o.prototype,"imageThumb",{get:function(){return this.get("imageThumb")},set:function(e){this.set("imageThumb",e)}}),Object.defineProperty(o.prototype,"isApproved",{get:function(){return this.get("isApproved")},set:function(e){this.set("isApproved",e)}}),Object.defineProperty(o.prototype,"expiresAt",{get:function(){return this.get("expiresAt")},set:function(e){this.set("expiresAt",e)}}),o}e.$inject=["$q","ParseCloud","moment"],angular.module("starter").factory("Gallery",e)}(),function(){"use strict";angular.module("starter").factory("GalleryFeedback",["$q","moment",function(e,t){var n=Parse.Object.extend("GalleryFeedback",{getStatus:function(){return this.isApproved?"Approved":this.isApproved===!1?"Rejected":"Pending"}},{create:function(t){var o=e.defer(),i=new n;return t.user=Parse.User.current(),i.save(t,{success:o.resolve,error:o.reject}),o.promise},update:function(t){var n=e.defer();return t.save(null,{success:n.resolve,error:n.reject}),n.promise},destroy:function(t){var n=e.defer();return t.destroy({success:n.resolve,error:n.reject}),n.promise},all:function(n){var o=e.defer(),i=new Parse.Query(this);if(""!=n.filter&&i.contains("words",n.filter),n.date&&null!==n.date){var a=t(n.date).startOf("day"),r=t(n.date).endOf("day");i.greaterThanOrEqualTo("createdAt",a.toDate()),i.lessThanOrEqualTo("createdAt",r.toDate())}return n.status&&null!==n.status&&("pending"===n.status?i.doesNotExist("isApproved"):"rejected"===n.status?i.equalTo("isApproved",!1):"approved"===n.status&&i.equalTo("isApproved",!0)),i.include("gallery"),i.include("User"),i.descending("createdAt"),i.limit(n.limit),i.skip(n.page*n.limit-n.limit),i.find({success:o.resolve,error:o.reject}),o.promise},count:function(n){var o=e.defer(),i=new Parse.Query(this);if(""!=n.filter&&i.contains("words",n.filter),n.date&&null!==n.date){var a=t(n.date).startOf("day"),r=t(n.date).endOf("day");i.greaterThanOrEqualTo("createdAt",a.toDate()),i.lessThanOrEqualTo("createdAt",r.toDate())}return n.order&&(n.order.indexOf("-")<-1?i.ascending(n.order):i.descending(n.order.replace("-"))),n.status&&null!==n.status&&("pending"===n.status?i.doesNotExist("isApproved"):"rejected"===n.status?i.equalTo("isApproved",!1):"approved"===n.status&&i.equalTo("isApproved",!0)),i.count({success:function(e){o.resolve(e)},error:function(e){o.reject(e)}}),o.promise}});return Object.defineProperty(n.prototype,"user",{get:function(){return this.get("user")},set:function(e){this.set("user",e)}}),Object.defineProperty(n.prototype,"subject",{get:function(){return this.get("subject")},set:function(e){this.set("subject",e)}}),Object.defineProperty(n.prototype,"title",{get:function(){return this.get("title")},set:function(e){this.set("title",e)}}),Object.defineProperty(n.prototype,"hashtags",{get:function(){return this.get("hashtags")},set:function(e){this.set("hashtags",e)}}),Object.defineProperty(n.prototype,"words",{get:function(){return this.get("words")},set:function(e){this.set("words",e)}}),Object.defineProperty(n.prototype,"isApproved",{get:function(){return this.get("isApproved")},set:function(e){this.set("isApproved",e)}}),Object.defineProperty(n.prototype,"expiresAt",{get:function(){return this.get("expiresAt")},set:function(e){this.set("expiresAt",e)}}),n}])}(),function(){"use strict";angular.module("starter").factory("GallerySetting",["$q","moment",function(e,t){var n=Parse.Object.extend("GallerySetting",{getStatus:function(){return t().toDate()>=this.expiresAt?"Expired":this.isApproved?"Approved":this.isApproved===!1?"Rejected":"Pending"}},{create:function(t){var o=e.defer(),i=new n;return i.save(t,{success:o.resolve,error:o.reject}),o.promise},update:function(t){var n=e.defer();return t.save(null,{success:n.resolve,error:n.reject}),n.promise},destroy:function(t){var n=e.defer();return t.destroy({success:n.resolve,error:n.reject}),n.promise},all:function(t){var n=e.defer(),o=new Parse.Query(this);return""!=t.filter&&o.contains("canonical",t.filter),o.descending("createdAt"),o.limit(t.limit),o.skip(t.page*t.limit-t.limit),o.find({success:n.resolve,error:n.reject}),n.promise},count:function(t){var n=e.defer(),o=new Parse.Query(this);return o.count({success:n.resolve,error:n.reject}),n.promise}});return Object.defineProperty(n.prototype,"key",{get:function(){return this.get("key")},set:function(e){this.set("key",e)}}),Object.defineProperty(n.prototype,"value",{get:function(){return this.get("value")},set:function(e){this.set("value",e)}}),n}])}(),function(){"use strict";function e(e,t){function n(){var n=t.defer();return e.ready(function(){var e={maximumAge:3e3,timeout:5e3,enableHighAccuracy:!0};navigator.geolocation.getCurrentPosition(n.resolve,n.reject,e)}),n.promise}return{getCurrentPosition:n}}e.$inject=["$ionicPlatform","$q"],angular.module("starter").factory("Geolocation",e)}(),function(){"use strict";function e(e){function t(t){null!==t&&""!==t&&window.cordova?(e.debugMode(),e.startTrackerWithId(t),r=!0):console.warn("["+a+"]: Invalid Tracker ID or not using emulator")}function n(t,n,o){r&&e.trackEvent(t,n,o)}function o(t){r&&e.trackView(t)}function i(t,n){r&&e.trackException(t,n)}var a="AnalyticsService",r=!1;return{init:t,trackView:o,trackEvent:n,trackException:i}}e.$inject=["$cordovaGoogleAnalytics"],angular.module("starter").factory("GoogleAnalytics",e)}(),function(){"use strict";function e(e){function t(t){return e.run("install",t)}function n(t){return e.run("status",t)}return{start:t,status:n}}e.$inject=["ParseCloud"],angular.module("starter").factory("Install",e)}(),function(){"use strict";function e(e){function t(t,n){var o=e.defer();return window.cordova.OneSignal?(window.plugins.OneSignal.setLogLevel({logLevel:4,visualLevel:4}),window.plugins.OneSignal.init(t,{googleProjectNumber:n},function(e){alert("Notification received:\n"+JSON.stringify(e))}),window.plugins.OneSignal.enableInAppAlertNotification(!0)):o.reject("OneSignal plugin istalled"),o.promise}return{init:t}}e.$inject=["$q"],angular.module("starter").factory("OneSignal",e)}(),function(){"use strict";function e(e){function t(t,n){var o=e.defer();return Parse.Cloud.run(t,n,{success:o.resolve,error:o.reject}),o.promise}return{run:t}}e.$inject=["$q"],angular.module("starter").factory("ParseCloud",e)}(),function(){"use strict";angular.module("starter").factory("ParseFile",["$q",function(e){function t(t,n){var o=e.defer(),i="file.jpg";return n&&i.replace(".jpg",n),new Parse.File(i,t).save({success:o.resolve,error:o.reject}),o.promise}return{upload:t}}])}(),function(){"use strict";function e(e,t,n,o,i){function a(e,n){function a(e){o.alert({title:"Thanks",text:"Thank you for sharing!!"}),l.resolve(e)}function r(e){console.error(e),l.reject()}var l=t.defer(),c=n?n:s;switch(e){case"instagram":window.plugins.socialsharing.shareViaInstagram(s.text,s.image,s.link).then(a,r);break;case"facebook":i.shareViaFacebook(c.text,c.image,c.link).then(a,r);break;case"twitter":i.shareViaTwitter(c.text,c.image,c.link).then(a,r);break;case"whatsapp":i.shareViaWhatsApp(c.text,c.image,c.link).then(a,r);break;case"email":i.shareViaEmail(c.title,c.subject?c.subject:c.title).then(a,r)}return l.promise}function r(){var e=n.show({buttons:[{text:'<i class="icon ion-social-instagram"></i>Instagram'},{text:'<i class="icon ion-social-facebook"></i>Facebook'},{text:'<i class="icon ion-social-twitter"></i>Twitter'},{text:'<i class="icon ion-social-whatsapp"></i>Whatsapp'},{text:'<i class="icon ion-email"></i>Email'}],titleText:"Share",cancelText:"Cancel",cancel:function(){return!1},buttonClicked:function(t){switch(console.log(t),t){case 0:a("instagram");break;case 1:a("facebook");break;case 2:a("twitter");break;case 3:a("whatsapp");break;case 4:a("email")}e()}})}var s={title:"Join me from "+e.app.name+"!",subject:"I'm at "+e.app.name+"!. Install the application and follow me! "+e.app.url,image:e.app.image,link:e.app.url};return{share:a,open:r}}e.$inject=["AppConfig","$q","$ionicActionSheet","Toast","$cordovaSocialSharing"],angular.module("starter").factory("Share",e)}(),function(){"use strict";function e(e,t){function n(n){window.cordova?e.show(n.text,"short","bottom"):t.alert({title:n.title,template:n.text,okType:"button button-clear button-assertive"})}function o(e,n){return t.confirm({title:e,template:n})}return{alert:n,confirm:o}}e.$inject=["$cordovaToast","$ionicPopup"],angular.module("starter").factory("Toast",e)}(),function(){"use strict";function e(e,t,n){var o=Parse.User.extend({},{signIn:function(n){var o=e.defer();return Parse.User.logIn(n.email,n.password,{success:function(e){if(window.cordova){var n={device:t.getDevice(),cordova:t.getCordova(),model:t.getModel(),platform:t.getPlatform(),uuid:t.getUUID(),version:t.getVersion()}.forEach(function(t,n){e.set(n,t)});console.log("updateUser",n),e.save()}o.resolve(e)},error:o.reject}),o.promise},profile:function(t){var n=e.defer(),o=new Parse.User;return o.get(t),new Parse.Query("UserData").equalTo("user",t).first().then(n.resolve,n.reject),n.promise},signUp:function(t){var n=e.defer(),o=new Parse.User;o.set({name:t.name}),o.set({username:t.username}),o.set({email:t.email}),o.set({password:t.password}),o.set({roleName:"User"});var i=new Parse.ACL;return i.setPublicReadAccess(!1),i.setPublicWriteAccess(!1),o.setACL(i),o.save(null,{success:n.resolve,error:n.reject}),n.promise},signInViaFacebook:function(t){var n=e.defer(),o=new Date;o.setSeconds(o.getSeconds()+t.authResponse.expiresIn),o=o.toISOString();var i={id:t.authResponse.userID,access_token:t.authResponse.accessToken,expiration_date:o};return Parse.FacebookUtils.logIn(i,{success:n.resolve,error:n.reject}),n.promise},findByEmail:function(e){return n.run("findUserByEmail",{email:e})},updateWithFacebookData:function(t){var o=e.defer();return n.run("saveFacebookPicture",{}).then(function(){var e=Parse.User.current();e.set({email:t.email}),e.set({username:t.email}),e.set({name:t.name}),e.setACL(new Parse.ACL(e)),e.save(null,{success:function(){e.fetch().then(function(e){o.resolve(e)},function(e){o.reject(e)})}})})["catch"](o.reject),o.promise},getPublicData:function(t){console.log(t);var n=e.defer();return new Parse.Query("UserData").equalTo("user",t).first().then(function(e){e?n.resolve(e):n.reject(Parse.Promise.error({code:1,message:"User Data not found"}))},n.reject),n.promise},recoverPassword:function(t){var n=e.defer();return Parse.User.requestPasswordReset(t,{success:n.resolve,error:n.reject}),n.promise},destroy:function(){var t=e.defer();return Parse.User.current().destroy().then(t.resolve,t.reject),t.promise},setPhoto:function(t){var n=e.defer(),o=Parse.User.current();return o.set({photo:t}),o.save(null,{success:n.resolve,error:n.reject}),n.promise},follow:function(e){var t=new Parse.Object("UserFolow");t.set("from",Parse.User.current()),t.set("to",e),t.set("date",Date()),t.save()},all:function(e){return n.run("getUsers",e)},create:function(e){return n.run("createUser",e)},validateUsername:function(e){return n.run("validateUsername",{username:e})},validateEmail:function(e){return n.run("validateEmail",{email:e})},findUsername:function(t){var n=e.defer();return new Parse.Query(this).equalTo("username",t).first({success:n.resolve,error:n.reject}),n.promise},update:function(t){var n=e.defer(),o=Parse.User.current();return angular.forEach(t,function(e,t){o.set(t,e)}),o.save({success:n.resolve,error:n.reject}),n.promise},"delete":function(e){return n.run("destroyUser",e)},fetch:function(){var t=e.defer();return Parse.User.current()?Parse.User.current().fetch().then(t.resolve,t.reject):t.reject(),t.promise}});return Object.defineProperty(o.prototype,"name",{get:function(){return this.get("name")},set:function(e){this.set("name",e)}}),Object.defineProperty(o.prototype,"username",{get:function(){return this.get("username")},set:function(e){this.set("username",e)}}),Object.defineProperty(o.prototype,"status",{get:function(){return this.get("status")},set:function(e){this.set("status",e)}}),Object.defineProperty(o.prototype,"gender",{get:function(){return this.get("gender")},set:function(e){this.set("gender",e)}}),Object.defineProperty(o.prototype,"email",{get:function(){return this.get("email")},set:function(e){this.set("email",e)}}),Object.defineProperty(o.prototype,"photo",{get:function(){return this.get("photo")},set:function(e){this.set("photo",e)}}),Object.defineProperty(o.prototype,"photoThumb",{get:function(){return this.get("photoThumb")},set:function(e){this.set("photoThumb",e)}}),Object.defineProperty(o.prototype,"roleName",{get:function(){return this.get("roleName")},set:function(e){this.set("roleName",e)}}),o}e.$inject=["$q","$cordovaDevice","ParseCloud"],angular.module("starter").factory("User",e)}(),function(){"use strict";function e(e,n,o,i,a){function r(r,s,l){function c(){window.StatusBar.styleDefault(),r.closeModal=function(){r.modal.hide(),window.StatusBar.styleLightContent()},r.searchValue="",r.selectLanguage=function(e){console.log(e),n.use(e.code),moment.locale(e.code),r.language=e,i.start(),r.closeModal(),o(function(){i.end()},1e3)},a.fromTemplateUrl(t+"/modal-language.html",{scope:r,focusFirstInput:!0}).then(function(e){r.modal=e,r.modal.show()})}r.languages=e.locales,r.language=r.languages.filter(function(e){return e.code===n.use()})[0],console.log(r.language),s.bind("click",c)}return{restrict:"E",link:r,templateUrl:t+"/ion-language.html"}}e.$inject=["AppConfig","$translate","$timeout","Loading","$ionicModal"];var t="app/component/ion-language";angular.module("ion-language").directive("ionLanguage",e)}(),function(){"use strict";function e(e,t,n,o,i,a){function r(){var e=a.defer();if(T.location)i(function(){e.resolve(T.location)},1e3);else{var t={timeout:1e4,enableHighAccuracy:!1};n.getCurrentPosition(t).then(function(t){T.location={latitude:t.coords.latitude,longitude:t.coords.longitude},e.resolve(T.location)},function(t){o.alert({title:"Geo Error",template:t.message}),e.reject(t)})}return e.promise}function s(){var e=a.defer();return r().then(function(t){console.log(t),c(t.latitude,t.longitude).success(function(n){n.geolocation=t,console.log(n),e.resolve(n)}).error(l)}),e.promise}function l(e){console.log(e)}function c(t,n){return e.get("http://maps.google.com/maps/api/geocode/json?latlng="+t+","+n+"&sensor=true").success(function(e){e.address_normal=e.results[0].formatted_address,e.address=u(e.results[0].address_components),e.src=d(t,n,18,500,300)})}function u(e){return e?{numero:e[0].short_name,rua:e[1].long_name,bairro:e[2].short_name,cidade:e[3].short_name,estado:e[5].long_name,uf:e[5].short_name,pais:e[6].long_name,paisCode:e[6].short_name,cep:e[7].short_name}:!1}function d(e,t,n,o,i){return"http://maps.google.com/maps/api/staticmap?center="+e+","+t+"&zoom="+n+"&size="+o+"x"+i+"&maptype=roadmap&sensor=true"}function m(e){console.log("parseAddress",e);for(var t={resume:"",geo:{latitude:e.geometry.location.H,longitude:e.geometry.location.L}},n=f(t.geo.latitude,t.geo.longitude,16,900,200),o=0;o<e.address_components.length;o++){var i=e.address_components[o].types[0];if(w[i]){var a=e.address_components[o][w[i]];t[y[i]]=a}}return t.street=t.street+", "+t.number,t.image=n,t.resume=t.street+" - "+t.city+", "+t.state+", "+t.country,t}function p(e){var t=a.defer();return v.getQueryPredictions({input:e},function(e){t.resolve(e)}),t.promise}function g(e){var t=a.defer();return b.getDetails({placeId:e},function(e){t.resolve(e)}),t.promise}function f(e,t,n,o,i){console.log("src latitude",e,t,n,o,i);var a="http://maps.googleapis.com/maps/api/staticmap?center="+e+","+t+"&zoom="+n+"&scale=1&size="+o+"x"+i+"&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C"+e+","+t+"&sensor=true";return console.log(a),a}var h={types:["geocode"]},v=new t.google.maps.places.AutocompleteService,b=new t.google.maps.places.PlacesService(t.document.createElement("input"),h),w={street_number:"long_name",route:"long_name",locality:"long_name",sublocality:"long_name",neighborhood:"long_name",political:"long_name",administrative_area_level_1:"long_name",country:"long_name",postal_code:"long_name"},y={street_number:"number",route:"street",locality:"city",administrative_area_level_1:"state",country:"country",postal_code:"zipcode",neighborhood:"district"},T={coords:{},src:""};return{src:f,getDetails:g,searchAddress:p,parseAddress:m,findMe:s}}e.$inject=["$http","$window","$cordovaGeolocation","$ionicPopup","$timeout","$q"],angular.module("ion-location").factory("GeoService",e)}(),function(){"use strict";function e(e,t){function n(n,o){function i(){n.search={},n.search.suggestions=[],n.search.query=""}function a(e){t.getDetails(e).then(function(e){console.info(e);var o=t.parseAddress(e);n.location={number:o.number,street:o.street,district:o.district,city:o.city,state:o.state,country:o.country,zipcode:o.zipcode,coords:o.geo,image:o.image,resume:o.resume},console.log(n.location),n.closeModalLocation()})}o.bind("focus",function(){function o(){t.findMe().then(function(e){console.log(e),a(e.results[0].place_id)})}function r(e){a(e.place_id)}i(),console.log("Start"),n.findMe=o,n.choosePlace=r,n.modalLocation=e.fromTemplate('<ion-modal-view><ion-header-bar class="bar bar-positive item-input-inset"><button class="button button-clear button-icon ion-pinpoint" ng-click="findMe()"></button><label class="item-input-wrapper"><input type="search" ng-model="search.query" placeholder="{{ \'Search\' | translate }}"></label><button class="button button-clear button-icon ion-ios-close-empty" ng-click="closeModalLocation()"></button></ion-header-bar><ion-content padding="false"><ion-list><ion-item ng-repeat="suggestion in search.suggestions" ng-click="choosePlace(suggestion)" ng-bind="suggestion.description"></ion-item><ion-item class="item-divider"><img src="https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png"alt=""/></ion-item></ion-list></ion-content></ion-modal-view>',{
scope:n,focusFirstInput:!0}),n.modalLocation.show(),n.closeModalLocation=function(){n.modalLocation.hide(),n.modalLocation.remove()},t.searchAddress("São Paulo").then(function(e){console.log(e),n.search.suggestions=e}),n.$watch("search.query",function(e){e&&t.searchAddress(e).then(function(e){console.log(e),n.search.suggestions=e})})})}return{restrict:"A",scope:{location:"="},link:n}}e.$inject=["$ionicModal","GeoService"],angular.module("ion-location").directive("ionLocation",e)}(),function(){function e(e,t,n,o,i,a,r){function s(e){function t(){var e=angular.copy(s.form);n.create(e).then(function(e){r()})}function r(){s.modal.hide(),s.modal.remove(),delete s.modal}var s=o.$new();s.formFields=i.form,s.submitFeedback=t,s.closeModal=r,s.form={photogramId:e.id,subject:"complaint"},a.fromTemplateUrl("app/main/feedback/feedback-modal.html",{scope:s,focusFirstInput:!0}).then(function(e){s.modal=e,s.modal.show()})}t.path;return{modal:s}}e.$inject=["$q","AppConfig","GalleryFeedback","$rootScope","GalleryFeedbackForm","$ionicModal","Toast"],angular.module("app.main").factory("FeedbackModal",e)}(),function(){"use strict";function e(e){var t=[{key:"title",type:"input",templateOptions:{type:"text",placeholder:e.instant("FEEDBACK.TITLE"),required:!0}},{key:"subject",type:"select",templateOptions:{label:e.instant("FEEDBACK.SUBJECT"),options:[{label:e.instant("FEEDBACK.COMPLAINT"),id:"complaint"},{label:e.instant("FEEDBACK.BUG"),id:"bug"},{label:e.instant("FEEDBACK.SUGGESTION"),id:"suggestion"}],valueProp:"id",labelProp:"label",icon:"icon-list",iconPlaceholder:!0}},{key:"status",type:"textarea",templateOptions:{type:"text",placeholder:e.instant("FEEDBACK.MESSAGE"),icon:"ion-quote",required:!0,iconPlaceholder:!0}}];return{form:t}}e.$inject=["$translate"],angular.module("app.main").factory("GalleryFeedbackForm",e)}(),function(){"use strict";function e(e,t,n,o,i){t.path;return{restrict:"A",scope:{photogram:"@"},template:"",link:function(t,a,r){function s(){t.form={photogramId:t.photogram},t.formFields=o.form}function l(){s(),e.fromTemplateUrl("app/main/feedback/feedback-modal.html",{scope:t,focusFirstInput:!0}).then(function(e){t.modal=e,t.modal.show()})}function c(e){i.go(e),t.closeModal()}function u(){var e=angular.copy(t.form);n.submit(e).then(function(e){console.log(e),s(),t.closeModal()})}function d(){t.modal.hide(),t.modal.remove()}t.link=c,t.submitFeedback=u,t.closeModal=d,a.bind("click",l)}}}e.$inject=["$ionicModal","AppConfig","PhotogramFeedback","PhotogramFeedbackForm","$state"],angular.module("app.main").directive("feedback",e)}(),function(){"use strict";function e(e,t,n,o,i,a){var r=t.currentUser,s=window.localStorage.walkthrough;"true"!==s?a.go("walkthrough",{clear:!0}):r?(console.log(r),r.name?a.go(i.routes.home,{clear:!0}):a.go("user.avatar",{clear:!0})):a.go(i.routes.login,{clear:!0}),e.$on("$ionicView.loaded",function(){n.ready(function(){navigator&&navigator.splashscreen&&o.hide()})})}e.$inject=["$scope","$rootScope","$ionicPlatform","$cordovaSplashscreen","AppConfig","$state"],angular.module("app.main").controller("LoadingCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c){var u,d=this;e.$on("$ionicView.loaded",function(){n.ready(function(){navigator&&navigator.splashscreen&&(t.hide(),window.StatusBar.styleDefault())})}),d.postPhoto=function(){function t(t){var n=i.defer();return e.image=t,e.form={title:""},e.editFilter=function(){r.load(u).then(function(t){e.image=t})},l.fromTemplateUrl("app/main/share/share-modal.html",{scope:e,focusFirstInput:!0}).then(function(t){e.modalFilter=t,e.modalFilter.show()}),e.close=function(){e.modalFilter.hide()},e.$on("$destroy",function(){e.modal.remove()}),e.submit=function(){var t=angular.copy(e.form);t.image=e.image,u="",e.close(),n.resolve(t)},n.promise}o.image().then(function(e){return u=e,e}).then(t).then(function(t){c.start(),s.upload({base64:t.image}).then(function(n){t.image=n,a.create(t).then(function(t){console.log(t),e.$emit("photoInclude",t),c.end()})})})}}e.$inject=["$scope","$cordovaSplashscreen","$ionicPlatform","ActionSheet","$q","Gallery","PhotoFilter","ParseFile","$ionicModal","Loading"],angular.module("app.main").controller("MainTabCtrl",e)}(),function(){"use strict";function e(e){function t(e){"list"===e?i.tab={list:!0,grid:!1}:i.tab={list:!1,grid:!0}}function n(){i.data={total:!1,galleries:[]},i.page=0,i.empty=!1,i.more=!1,o()}function o(){i.loadingFollowers=!0,i.loadingFollowing=!0,i.loadingPhotos=!0}var i=this;i.changeTab=t,e.getPublicData(Parse.User.current()).then(function(e){console.log("Profile",e.attributes),i.user=e}),n(),t("grid")}e.$inject=["User"],angular.module("app.main").controller("AccountCtrl",e)}(),function(){"use strict";function e(e,t){function n(){d=!0,m=!1,p=!1,g=!1}function o(){m=!0,d=!1,p=!1,g=!1}function i(){p=!0,m=!1,d=!1,g=!1}function a(){g=!0,p=!1,m=!1,d=!1}function r(e){f=!1,e>0&&(f=!0)}function s(e){for(var t=0;t<e.length;t++)u.data.push(e[t])}function l(e){u.params.page=e}function c(){t.feed(u.params).then(function(t){r(t.length),l(u.params.page+1),s(t),0===u.data.length?a():o(),e.$broadcast("scroll.infiniteScrollComplete"),e.$broadcast("scroll.refreshComplete"),e.loading=!1})["catch"](function(){0===u.data.length&&i(),f=!1,e.$broadcast("scroll.refreshComplete")})}var u=this;u.params={},u.params.page=1,u.data=[],e.loading=!0,c();var d=!1,m=!1,p=!1,g=!1,f=!1;u.onLoadMore=function(){c()},u.moreDataCanBeLoaded=function(){return f},u.showLoadingView=function(){return d},u.showGalleries=function(){return m},u.showErrorView=function(){return p},u.showEmptyView=function(){return g},u.onReload=function(){u.params.page=0,u.data=[],n(),c(),e.$broadcast("scroll.refreshComplete")}}e.$inject=["$scope","GalleryActivity"],angular.module("app.main").controller("ActivityCtrl",e)}(),function(){"use strict";function e(){}angular.module("app.main").controller("HomeCtrl",e)}(),function(){"use strict";function e(e,t,n,o){e.onSearch=function(){""!==e.params.search&&(e.params.page=0,e.places=[],e.params.search=t("lowercase")(e.params.search))}}e.$inject=["$scope","$filter","$ionicLoading","$state"],angular.module("app.main").controller("SearchCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c,u,d,m){function p(e,t){return new window.plugin.google.maps.LatLng(e,t)}function g(){E=!0,j=!0,x=!1}function f(){j=!0,E=!1,x=!1,n.hide()}function h(e){$.moveCamera({target:p(e.lat,e.lng),zoom:16})}function v(e){if(e.length>0){var t=new plugin.google.maps.LatLngBounds(e);$.moveCamera({target:t})}}function b(){for(var t=[],n=0;n<e.places.length;n++){var o=e.places[n],i=p(o.latitude,o.longitude);t.push(i)}t.push(p(e.params.location.latitude,e.params.location.longitude)),v(t)}function w(t){e.places=t;for(var n=0;n<t.length;n++){var o=t[n],a="#E84545";o.category.get("icon")&&(a={url:o.category.get("icon").url(),size:{width:32,height:32}}),$.addMarker({place:o,position:p(o.latitude,o.longitude),title:o.title,icon:a,animation:plugin.google.maps.Animation.DROP,styles:{maxWidth:"80%"},snippet:o.description,placeId:o.id,markerClick:function(e){e.showInfoWindow()},infoClick:function(e){i.go("app.place",{placeId:e.get("placeId")})}},function(e){A.push(e)})}}function y(){u.all(e.params).then(function(e){w(e),f(),0===e.length?m.alert(trans.placesNotFoundText):b()},function(){c.show(trans.errorText)})}function T(){e.places=[]}function k(){for(var e=0;e<A.length;e++)A[e].remove()}e.maxRating=5,e.storage=l,e.params={location:null,categoryId:a.categoryId,distance:100,page:0},e.places=[];var $,A=[],P=(document.getElementById("side-menu"),document.getElementById("map_canvas")),E=!1,j=!1,x=!1;window.cordova&&($=window.plugin.google.maps.Map.getMap(P),$.addEventListener(plugin.google.maps.event.MAP_READY,function(){$.setMyLocationEnabled(!0),s(function(){$.refreshLayout()},1e3);var t=plugin.google.maps.MapTypeId.ROADMAP;"satellite"===e.storage.mapType&&(t=plugin.google.maps.MapTypeId.SATELLITE),$.setMapTypeId(t),g(),d.getCurrentPosition().then(function(t){e.params.location={latitude:t.coords.latitude,longitude:t.coords.longitude},y()},function(t){e.params.location=null;var n;n=1===t.code||3===t.code?trans.errorGpsDisabledText:trans.errorLocationMissingText,m.alert(n)})})),e.onSearchGallerys=function(){$.getCameraPosition(function(t){e.params.location.latitude=t.target.lat,e.params.location.longitude=t.target.lng,g(),k(),T(),y()})},e.showLoadingView=function(){return E},e.showMap=function(){return j},e.showErrorView=function(){return x},e.onReload=function(){},e.onGalleryClicked=function(t){e.closeGallerysModal();for(var n=0;n<A.length;n++)if(A[n].get("place")===t){var o=A[n];o.showInfoWindow(),o.getPosition(function(e){h(e)})}},e.openGallerysModal=function(){$.setClickable(!1)},e.closeGallerysModal=function(){$.setClickable(!0)},e.$on("$ionicView.leave",function(){window.cordova&&($.setMyLocationEnabled(!1),$.setClickable(!1),$.off())}),e.$on("$ionicView.beforeEnter",function(){window.cordova&&($.setMyLocationEnabled(!0),$.setClickable(!0))}),t.$on("$stateChangeStart",function(e,t){"tab.map"!==t.name&&window.cordova&&($.clear(),$.moveCamera({target:p(0,0),zoom:1}))})}e.$inject=["$scope","$rootScope","$ionicLoading","$ionicModal","$state","$stateParams","$translate","$timeout","$localStorage","Toast","Gallery","Geolocation","Dialog"],angular.module("app.main").controller("SearchMapCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(){var e=t.getLoggedUser();c.form={name:e.name,email:e.email,status:e.status,gender:e.gender,img:e.img,username:e.username},c.formFields=r.profile,console.log(c.form),console.log(c.formFields)}function l(){if(console.log(c.rForm),c.rForm.$valid){var t=angular.copy(c.form);console.log(t),e.update(t).then(function(e){console.log(e),o.currentUser=Parse.User.current(),i.go(n.routes.home,{clear:!0})})}else a.alert({title:"Invalid form",text:"Fill out the fields in red"})}var c=this;c.submitAvatar=l,s()}e.$inject=["User","Auth","AppConfig","$rootScope","$state","Toast","UserForm"],angular.module("app.main").controller("UserAvatarCtrl",e)}(),function(){"use strict";function e(e,t,n,o){return{restrict:"A",scope:{ngModel:"="},link:function(i,a){function r(){var a;e.image().then(function(e){return a=e,e}).then(function(e){t.start(),n.upload({base64:e}).then(function(e){o.setPhoto(e).then(function(e){i.ngModel=e,t.end()})})})}a.bind("click",r)}}}e.$inject=["ActionSheet","Loading","ParseFile","User"],angular.module("app.main").directive("userAvatar",e)}(),function(){"use strict";function e(e,t,n){e.$on("$ionicView.loaded",function(){t.ready(function(){navigator&&navigator.splashscreen&&(n.hide(),window.StatusBar.styleLightContent())})})}e.$inject=["$scope","$ionicPlatform","$cordovaSplashscreen"],angular.module("starter").controller("UserIntroCtrl",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(){t.tempUser?l.form={email:t.tempUser.attributes.email,username:t.tempUser.attributes.username,password:""}:i.go("user.intro",{clear:!0})}var l=this;l.formFields=r.register,s(),l.submit=function(r,s){console.log(r),console.table(s),""!==l.form.password?(console.log(s),e.logIn(s).then(function(r){console.log(r),t.currentUser=r,e.getLoggedUser()&&o.link(Parse.User.current()).then(function(e){console.log(e),i.go(n.routes.home,{clear:!0})})["catch"](function(e){console.log(e),a.alert({title:"Ops",text:e.message})})})["catch"](function(e){a.alert({title:"Ops",text:e.message})})):a.alert({title:"Invalid form",text:"Please enter your email"})}}e.$inject=["Auth","$rootScope","AppConfig","Facebook","$state","Toast","UserForm"],angular.module("app.main").controller("UserMergeCtrl",e)}(),function(){"use strict";function e(e,t,n,o){return{restrict:"A",scope:{login:"@",register:"@"},link:function(i,a){function r(){i.form={recovery:""},i.erro="",i.text={button:"",input:"Email"},t.show({scope:i,template:'<div class="popup-recovery"><form name="form.recovery" form-manager><label class="item item-input"><i class="icon ion-email placeholder-icon"></i><input type="email" ng-model="email" id="email" name="email" placeholder="{{ text.input }}" required ng-maxlength="80"></label><span class="error-msg">{{erro}}</span></form></div>',title:"A new password will be sent to your e-mail address",buttons:[{text:"Cancel",type:"button-calm"},{text:"Send",type:"button-positive",onTap:function(e){return i.form.recovery.$valid?i.form.recovery.email.$viewValue:(e.preventDefault(),void(i.erro="Invalid Email"))}}]}).then(function(t){if(!angular.isUndefined(t)){var i=t;console.log(t),n.start(),e.forgot(i).then(function(e){console.log(e),o.alert({login:"Forgot your password",text:"Access your accout mail"}),n.end()})["catch"](function(e){o.alert({login:"Ops",text:e}),n.end()})}})}a.bind("click",r)}}}e.$inject=["User","$ionicPopup","Loading","Toast"],angular.module("app.main").directive("recoveryPass",e)}(),function(){"use strict";function e(e,t){function n(){e.forgot(o.form).then(function(e){console.log(e)})["catch"](function(e){t.alert("Ops",e)})}var o=this;o.form={},o.submitForgot=n}e.$inject=["User","Toast"],angular.module("app.main").controller("UserRecoveryPassCtrl",e)}(),function(){"use strict";function e(e,t,n,o){var i=this,a=window.ionic.Platform.platform();i.slideIndex=0,i.slideChanged=function(e){i.slideIndex=e},i.next=function(){e.next()},i.previous=function(){e.previous()},a?i.device="android"===a?"android":"iphone":i.device="android",i.slides=[{text:"STEP1",img:"img/intro1.jpg"},{text:"STEP2",img:"img/intro2.jpg"},{text:"STEP3",img:"img/intro3.jpg"},{text:"STEP4",img:"img/intro4.jpg"},{text:"STEP5",img:"img/intro5.jpg"}],window.localStorage.walkthrough=!0,t.$on("$ionicView.loaded",function(){n.ready(function(){navigator&&navigator.splashscreen&&(o.hide(),window.StatusBar.styleLightContent())})})}e.$inject=["$ionicSlideBoxDelegate","$scope","$ionicPlatform","$cordovaSplashscreen"],angular.module("app.main").controller("WalkthroughCtrl",e)}(),function(){"use strict";function e(e,t){function n(n){n.loading=!0,t(function(){e.effect(n.name,n.filter).then(function(){n.loading=!1})},500)}return{restrict:"A",scope:{name:"=",image:"=",filter:"=",loading:"="},template:'<img ng-src="{{ image }}" id="{{ name }}">',link:n}}e.$inject=["CamanJs","$timeout"],angular.module("ion-photo").directive("caman",e)}(),function(){"use strict";function e(e,t,n){function o(t,o){function i(){document.getElementById("browseBtn").click()}function a(){n.show({buttons:[{text:'<i class="icon ion-camera"></i>Photo Camera'},{text:'<i class="icon ion-images"></i> Photo Album'}],titleText:"Change Image",cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return 0===e&&console.log("Photo Camera"),1===e&&document.getElementById("browseBtn").click(),!0}})}function r(e){var n=e.target.files[0],o=new FileReader;o.readAsDataURL(n),o.onload=function(e){var n=e.target.result;t.crop(n)},angular.element(document.getElementById("browseBtn")).val("")}function s(n){console.log(t.option),e.crop({url:n,width:t.option?t.option.width:200,height:t.option?t.option.height:200,cancelText:"Cancel",chooseText:"Save"}).then(function(e){var n=e.toDataURL();console.log(n),t.ngModel=n})}t.action=a,o.bind("click",i),t.crop=s,angular.element(document.getElementById("browseBtn")).on("change",r)}return{restrict:"A",scope:{ngModel:"=",option:"=",cropSave:"&"},template:'<div><input type="file" id="browseBtn" image="image" accept="image/*" style="display: none"/></div>',link:o}}e.$inject=["$jrCrop","$translate","$ionicActionSheet"],angular.module("ion-photo").directive("ionCrop",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r){function s(s,l,c){function u(){console.log("Open share");var e={crop:a.get("imageCrop"),allowEdit:a.get("imageEdit"),filter:!0,allowRotation:a.get("imageRotation"),quality:a.get("imageQuality"),correctOrientation:a.get("imageEdit"),targetWidth:a.get("imageWidth"),targetHeight:a.get("imageHeight"),saveToPhotoAlbum:a.get("imageSaveAlbum")};console.log(e),r.open(e).then(m)["catch"](d)}function d(){console.warn("Deu erro"),e.go("photogram.home")}function m(e){function t(){s.modalPost.hide(),s.modalPost.remove(),i.end()}function a(e){var o=angular.copy(e);console.log(o),i.start(),Photogram.post(o).then(function(){t(),n.$emit("filterModal:close"),n.$emit("PhotogramHome:reload")})}s.closePost=t,s.submitPost=a,s.form={title:"",location:"",photo:e,geo:!1},o.fromTemplateUrl(p+"/module/share/photogram.post.modal.html",{scope:s,focusFirstInput:!0}).then(function(t){s.form.photo=e,s.modalPost=t,s.modalPost.show()})}var p=t.path;l.bind("click",u)}return{restrict:"A",link:s,template:""}}e.$inject=["$state","AppConfig","$rootScope","$ionicModal","Loading","PhotogramSetting","PhotoService"],angular.module("ion-photo").directive("photoShare",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{image:"=",apply:"="},templateUrl:t.path+"/view/photo.filter.carousel.html",link:function(t){t.filters=e.filters,t.applyFilter=t.apply}}}e.$inject=["CamanJs","config"],angular.module("ion-photo").directive("photoFilterCarousel",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{image:"="},templateUrl:e.path+"/view/photo.filter.html",link:function(e,n){e.applyFilter=function(n,o){e.loading=!0,o&&t.effect(n,o,!0).then(function(t){e.loading=!1})}}}}e.$inject=["config","CamanJs"],angular.module("ion-photo").directive("photoFilter",e)}(),function(){"use strict";function e(e){function t(t,n,i){var a=e.defer(),r=window.document.getElementById(t);return r?o(r,function(){"normal"===n&&(this.revert(),this.render(function(){a.resolve(n)})),n in this&&(this[n](),i&&this.revert(),this.render(function(){a.resolve(n)}))}):a.reject(),a.promise}function n(t){var n=e.defer(),i=window.document.getElementById(t);return o(i,function(){this.revert(),n.resolve(!0)}),n.promise}var o=window.Caman,i=["normal","vintage","lomo","clarity","sinCity","sunrise","crossProcess","orangePeel","love","grungy","jarques","pinhole","oldBoot","glowingSun","hazyDays","herMajesty","nostalgia","hemingway","concentrate"];return{filters:i,effect:t,reset:n}}e.$inject=["$q"],angular.module("ion-photo").factory("CamanJs",e)}(),function(){"use strict";function e(e,t,n){function o(o){var i=t.defer(),a='<ion-modal-view class="modal-capture"><ion-header-bar class="bar-light"><button class="button button-clear button-icon ion-ios-close-empty" ng-click="close()"></button><div class="title text-left">{{ \'ION-PHOTO.FILTERS\' | translate }}</div><button class="button button-clear" ng-click="submitCapture()">{{ \'ION-PHOTO.NEXT\' | translate }}</button></ion-header-bar><ion-content scroll="false"><photo-filter image="form.photo"></photo-filter></ion-content></ion-modal-view>',r=e.$new(!0);return r.form={photo:o},r.modal=n.fromTemplate(a,{scope:r}),r.modal.show(),r.submitCapture=function(){var e=window.document.getElementById("image"),t=e.toDataURL();r.close(),i.resolve(t)},r.close=function(){r.modal.hide()},r.$on("$destroy",function(){r.modal.remove()}),i.promise}return{load:o}}e.$inject=["$rootScope","$q","$ionicModal"],angular.module("ion-photo").factory("PhotoFilter",e)}(),function(){"use strict";function e(e,t,n,o,i,a,r,s,l,c){function u(n){function o(e){console.log(e),l(),g(e,r).then(d).then(p).then(function(e){console.log("Final rest"),a.resolve(e)})["catch"](i)}function i(e){l(e)}var a=c.defer(),r={jrCrop:n.jrCrop?n.jrCrop:v.jrCrop,filter:n.filter?n.filter:v.filter,quality:n.quality?n.quality:v.quality,aspectRatio:n.aspectRatio?n.aspectRatio:v.aspectRatio,allowRotation:n.allowRotation?n.allowRotation:v.allowRotation,allowEdit:n.allowEdit?n.allowEdit:v.allowEdit,correctOrientation:n.correctOrientation?n.correctOrientation:v.correctOrientation,targetWidth:n.width?n.width:v.targetWidth,targetHeight:n.height?n.height:v.targetHeight,saveToPhotoAlbum:n.saveToPhotoAlbum?n.saveToPhotoAlbum:v.saveToPhotoAlbum,destinationType:window.cordova?Camera.DestinationType.DATA_URL:null,encodingType:window.cordova?Camera.EncodingType.JPEG:null,popoverOptions:window.cordova?CameraPopoverOptions:null},s=[{text:'<i class="icon ion-ios-camera"></i>'+t.instant("ION-PHOTO.CAMERA")},{text:'<i class="icon ion-images"></i>'+t.instant("ION-PHOTO.GALLERY")}],l=e.show({buttons:s,titleText:t.instant("ION-PHOTO.SHARE"),cancelText:t.instant("ION-PHOTO.CANCEL"),cancel:i,buttonClicked:o});return a.promise}function d(e){var n=c.defer();return v.jrCrop?i.crop({url:e,aspectRatio:v.aspectRatio?v.aspectRatio:!1,allowRotation:v.allowRotation?v.allowRotation:!1,width:v.width?v.width:v.targetWidth,height:v.height?v.height:v.targetHeight,cancelText:t.instant("ION-PHOTO.CANCEL"),chooseText:t.instant("ION-PHOTO.CROP")}).then(function(e){n.resolve(e.toDataURL())})["catch"](n.reject):n.resolve(e),n.promise}function m(e){function t(e,t){console.log("share",e,t),PhotogramShare.share(e,{text:t.title,image:t.photo,link:n.app.url})}var o='<ion-modal-view class="modal-share"> <ion-header-bar class="bar-dark"> <div class="title">{{ \'ION-PHOTO.SHARE\' | translate }}</div> <button class="button button-positive" ng-click="modal.hide()"> <i class="icon ion-arrow-right-b"></i> </button> </ion-header-bar> <ion-content ng-cloak> <div id="image"> <img ng-src="{{form.photo}}"> <div class="title">{{ form.title }}</div></div> <ul class="list"> <li class="padding"> <button ng-repeat="social in sociais" ng-click="share(form, social)"class="button button-block button-{{ social }}"><i class="icon ion-social-{{ social }}"></i>{{ social | uppercase }} </button> </li> </ul> </ion-content> </ion-modal-view>';if(void 0===e)return!1;var i=a.$new(!0),s=["facebook","instagram","whatsapp","twitter"];i.sociais=s,i.share=t,i.form={title:"",photo:e},i.modal=r.fromTemplate(o,{scope:i}),i.modal.show()}function p(e){function t(e){function o(){n.reject(),l.modalFilter.hide()}function i(){var e=window.document.getElementById("image"),t=e.toDataURL();l.modalFilter.remove(),n.resolve(t)}var s='<ion-modal-view class="modal-capture"><ion-header-bar class="bar-light"><button class="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="cropImage()"></button><div class="title">{{ \'ION-PHOTO.FILTERS\' | translate }}</div><button class="button button-icon " ng-click="submitFilter()"><i class="icon ion-ios-arrow-thin-right"></i></button></ion-header-bar><ion-content><photo-filter image="form.photo"></photo-filter></ion-content></ion-modal-view>',l=a.$new(!0);l.closeFilter=o,l.submitFilter=i,f=e,l.form={photo:e},l.modalFilter=r.fromTemplate(s,{scope:l}),l.cropImage=function(){l.modalFilter.remove(),d(f).then(t)},l.modalFilter.show()}var n=c.defer();return t(e),n.promise}function g(e,t){function n(e){if(0===e&&h&&(t.sourceType=Camera.PictureSourceType.CAMERA),1===e&&h&&(t.sourceType=Camera.PictureSourceType.PHOTOLIBRARY),h)s.getPicture(t).then(i.resolve,i.reject);else{var n=angular.element('<input type="file" accept="image/x-png, image/gif, image/jpeg" max-size="2048" />');n[0].click(),n.on("change",function(e){f=e.currentTarget.files[0];var t=new FileReader;t.onload=function(e){i.resolve(e.target.result)},t.readAsDataURL(f)})}}function o(){l.captureVideo({limit:1,duration:5}).then(function(e){f=e[0].fullPath,i.resolve(f)},i.reject)}var i=c.defer();return 0===e&&n(0),1===e&&n(1),2===e&&o(),i.promise}var f,h=window.cordova,v={jrCrop:!0,quality:90,allowEdit:!1,filter:!0,correctOrientation:!0,targetWidth:300,targetHeight:300,saveToPhotoAlbum:!1,allowRotation:!1,aspectRatio:0};return{open:u,crop:d,filter:p,share:m}}e.$inject=["$ionicActionSheet","$translate","AppConfig","Share","$jrCrop","$rootScope","$ionicModal","$cordovaCamera","$cordovaCapture","$q"],angular.module("ion-photo").factory("PhotoService",e)}(),function(){"use strict";function e(e,t){function n(t){e.resolveLocalFileSystemURL(t,function(e){return o(e)},r)}function o(t){var n=t.fullPath.substr(t.fullPath.lastIndexOf("/")+1),o=s()+n;e.resolveLocalFileSystemURL(cordova.file.dataDirectory,function(e){t.copyTo(e,o,function(e){return i(e)},r)},r)}function i(t){var n=t.nativeURL.slice(0,-4);e.PKVideoThumbnail.createThumbnail(t.nativeURL,n+".png",function(e){return a(e)},r)}function a(e){var t=e.slice(0,-4);t+=".MOV",l.resolve(t)}function r(e){console.log("FAIL: "+e.code),l.reject("ERROR")}function s(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;5>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var l=t.defer();return{saveVideo:function(e){return n(e[0].localURL),promise}}}e.$inject=["$window","$q"],angular.module("ion-photo").factory("Video",e)}(),function(){"use strict";angular.module("ionic").run(["$templateCache",function(e){e.put("app/directive/SigninModalDirective.html",'<ion-modal-view id="user-layout" class="modal-auth bg-animate" cache-view="false"><ion-header-bar><h1 class="title" \ntranslate="signin"></h1><a ng-click="closeModal()" class="button button-icon icon ion-ios-close-empty"></a>\n</ion-header-bar><ion-content class="padding" scroll="false"><div class="step2"><formly-form model="form" \nfields="formFields" form="rForm"><button class="button button-block button-outline button-light" type="button" \nng-disabled="rForm.$invalid" ng-click="submitLogin(rForm, form)" translate="signin"></button></formly-form><span \nclass="term">{{::\'termAccept\' | translate}} <a href="http://photogramapp.com">{{::\'terms\' | translate}}</a></span>\n</div></ion-content></ion-modal-view>'),e.put("app/directive/SignupModalDirective.html",'<ion-modal-view id="user-layout" class="modal-auth bg-animate" cache-view="false"><ion-header-bar><h1 class="title" \ntranslate="register"></h1><a ng-click="closeModal()" class="button button-icon icon ion-ios-close-empty"></a>\n</ion-header-bar><ion-content class="padding" scroll="false"><div class="step2"><form name="myForm" \nnovalidate="novalidate" ng-submit="submitRegister(myForm, form)"><label class="item item-input"><i \nclass="icon icon-envelope placeholder-icon"></i> <input required="required" type="email" name="email" \nng-model="form.email" email-validator ng-model-options="{debounce: 1000}" placeholder="user@example.com"></label><div \nng-if="myForm.email.$dirty"><div ng-messages="myForm.email.$error" class="validation-error"><div ng-message="required" \ntranslate="emailRequired"></div><div ng-message="email" translate="emailInUse"></div></div><div \nng-messages="myForm.email.$pending" class="validation-pending"><div ng-message="email" translate="checkingEmail"></div>\n</div></div><label class="item item-input"><i class="icon icon-user placeholder-icon"></i> <input required="required" \ntype="text" name="username" ng-model="form.username" username-validator ng-minlength="4" ng-maxlength="12" \nng-model-options="{debounce: 1000}" ng-pattern="/^[a-zA-Z\'. -]+$/" placeholder="Your login"></label><div \nng-if="myForm.username.$dirty"><div ng-messages="myForm.email.$error" class="validation-error"><div \nng-message="required" translate="usernameRequired"></div><div ng-message="email" translate="usernameInUse"></div></div>\n<div ng-messages="myForm.email.$pending" class="validation-pending"><div ng-message="email" \ntranslate="checkingUsername"></div></div></div><label class="item item-input"><i \nclass="icon icon-lock placeholder-icon"></i> <input required type="password" name="password" ng-model="form.password" \nplaceholder="Password"></label><button class="button button-block button-outline button-light" type="submit" \ntranslate="submit"></button></form><span class="term">{{::\'termAccept\' | translate}} <a href="http://photogramapp.com">\n{{::\'terms\' | translate}}</a></span></div></ion-content></ion-modal-view>'),e.put("app/directive/distanceModal.html",'<ion-modal-view><ion-header-bar class="bar-light"><div class="buttons"><button \nclass="button button-clear button-icon ion-ios-close-empty" ng-click="closeDistanceModal()"></button></div><div \nclass="title">{{ "chooseDistanceText" | translate }}</div></ion-header-bar><ion-content><ion-list><ion-item \nclass="item item-icon-right" ng-repeat="distance in distances" ng-click="onDistanceSelected(distance.val)" bindonce><h2\n bo-bind="distance.text"></h2><i class="icon ion-checkmark" ng-show="params.distance === distance.val"></i></ion-item>\n</ion-list></ion-content></ion-modal-view>'),e.put("app/directive/follow.modal.html",'<ion-modal-view class="modal-profile photogram-profile"><ion-header-bar class="bar-positive"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\nFollow Users</div></ion-header-bar><ion-content><div class="list"><div class="item item-avatar item-button-right" \nng-repeat="item in data"><img ng-src="{{ ::item.src }}"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \nclass="button" ng-click="item.follow = !item.follow" ng-class="item.follow ? \'button-positive\' : \'button-stable\'"><i \nclass="icon" ng-class="item.follow? \'ion-thumbsup\' : \'ion-plus\'"></i></button></div></div></ion-content>\n</ion-modal-view>'),e.put("app/directive/likeDirective.html",'<ion-modal-view class="modal-comment"><ion-header-bar class="bar-dark"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ ::\'Likes\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class="list step1"><div \nng-repeat="item in likes" class="item item-avatar item-button-right"><img ng-src="{{ ::item.user.img }}"><h2>\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \nclass="button button-positive button-outline"><i class="icon ion-ios-plus-empty"></i> {{ ::\'Follow\' }}</button></div>\n</div></ion-content></ion-modal-view>'),e.put("app/directive/photoCommentDirective.html",'<ion-modal-view class="modal-comment"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n<span translate="commentPhotoText"></span>({{ ::comments.length }})</div></ion-header-bar><ion-content><ion-list \nclass="list" ng-show="comments.length" can-swipe="true"><ion-item ng-repeat="item in comments" \nclass="item item-avatar"><img ng-src="{{ ::item.user.photo._url || \'./img/user.png\'}}"><div class="row"><h2>\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div></div><div class="row"><p>{{ ::item.created | amTimeAgo }}</p>\n</div><div ng-if="item.user.id === currentUser.id"><ion-option-button class="button-info" ng-click="editComment(item)" \ntranslate="edit">Edit</ion-option-button><ion-option-button class="button-assertive" ng-click="deleteComment(item)" \ntranslate="remove">Remove</ion-option-button></div></ion-item></ion-list><div class="center-ico" ng-if="nocomments"><i \nclass="icon ion-ios-chatbubble-outline"></i><h1 translate="noComments"></h1></div></ion-content><ion-footer \nclass="step2"><div class="form"><formly-form model="form" fields="formFields" form="rForm"><button \nclass="button button-positive" type="button" ng-click="submitComment(rForm, form)"><i class="icon ion-arrow-right-b">\n</i></button></formly-form></div></ion-footer></ion-modal-view>'),e.put("app/directive/photoGridDirective.html",'<div class="center padding" ng-if="showErrorView()"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-primary" ng-click="onReload()">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView()"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><div class="center padding" ng-if="loading"><ion-spinner>\n</ion-spinner></div><ion-refresher pulling-text="{{\'loadingText\'| translate}}" on-refresh="onReload()"></ion-refresher>\n<div class="row animated fadeIn" ng-if="$index % 3 === 0" ng-repeat="image in data"><div \nclass="col col-33 item-animate1" ng-if="$index < data.length"><img ng-if="profile" profile-modal \nuser="data[$index].user.obj" ng-src="{{ ::data[$index].imageThumb._url}}" width="100%"> <img ng-if="!profile" \nng-src="{{ ::data[$index].imageThumb._url}}" width="100%"></div><div class="col col-33 item-animate1" \nng-if="$index + 1 < data.length"><img ng-if="profile" profile-modal user="data[$index + 1].user.obj" \nng-src="{{ ::data[$index + 1].imageThumb._url}}" width="100%"> <img ng-if="!profile" \nng-src="{{ ::data[$index + 1].imageThumb._url}}" width="100%"></div><div class="col col-33 item-animate1" \nng-if="$index + 2 < data.length"><img ng-if="profile" profile-modal user="data[$index + 2].user.obj" \nng-src="{{ ::data[$index + 2].imageThumb._url}}" width="100%"> <img ng-if="!profile" \nng-src="{{ ::data[$index + 2].imageThumb._url}}" width="100%"></div></div><ion-infinite-scroll \non-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded()" spinner distance="1%"></ion-infinite-scroll>'),
e.put("app/directive/photoListDirective.html",'<div class="center padding" ng-if="showErrorView()"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-primary" ng-click="onReload()">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="showEmptyView()"><div class="error"><i class="icon icon-large ion-android-alert"></i><p>\n{{ "galleriesNotFoundText" | translate }}</p></div></div><div class="center padding" ng-if="loading"><ion-spinner>\n</ion-spinner></div><ion-refresher pulling-text="{{\'loadingText\'| translate}}" on-refresh="onReload()"></ion-refresher>\n<div class="list card" ng-repeat="gallery in data" ng-if="showGalleries()"><div class="item item-avatar" profile-modal \nuser="gallery.user.obj" ion-affix data-affix-within-parent-with-class="card"><img ng-if="profile" \nprofile="{{ ::gallery.user}}" ng-src="{{ ::gallery.user.photo._url}}"> <img \nng-src="{{ ::gallery.user.photo._url || \'img/user.png\'}}"><h2>{{ ::gallery.user.name}}</h2><p>\n{{ ::gallery.user.status}}</p><span>{{ ::gallery.createdAt | amTimeAgo}}</span></div><div class="item item-body" \non-double-tap="like(gallery.id)" ng-model="gallery"><div class="icon ion-ios-heart heart" \nng-class="gallery.isLiked ? \'happy\' : \'broken\' "></div><i class="icon" ng-if="like"></i> <img \nng-src="{{ gallery.image._url}}" id="{{ ::gallery.id}}"></div><div class="item item-buttons"><div class="row"><div \nclass="col col-75"><ion-spinner ng-show="gallery.progress"></ion-spinner><button photo-like ng-model="gallery" \nng-if="!gallery.progress" ng-class="gallery.isLiked ? \'ion-ios-heart\' : \'ion-ios-heart-outline\' " \nclass="button-clear button-icon button-heart"></button> <button photo-comment ng-model="gallery" \nclass="button-clear button-icon ion-ios-chatbubble-outline"></button> <button ng-click="action(gallery)" \nphotogram="{{ :: gallery.id }}" class="button-clear button-icon ion-android-share"></button></div><div \nclass="col text-right"><button ng-click="action(gallery)" photogram="{{ :: gallery.id }}" \nclass="button-clear button-icon ion-android-more-vertical"></button></div></div></div><div class="padding"><span \nclass="likes" photo-like ng-model="gallery"><i class="icon ion-ios-heart"></i> <span ng-if="!gallery.progress">\n{{ gallery.likesTotal }}</span> <span translate="likesText"></span></span><div class="list-comments"><div \nclass="comment-item" profile-modal user="gallery.user.obj"><span class="username">{{ :: gallery.user.name }}</span> \n<span class="comment">{{ :: gallery.title }}</span></div><div class="comment-item" profile-modal \nuser="gallery.user.id" ng-repeat="item in gallery.comments | limitTo:3 track by item.id"><span class="username">\n{{ :: item.user.name }}</span> <span class="comment">{{ :: item.text }}</span></div><a class="comment-item" \nphoto-comment ng-model="gallery" ng-if="gallery.comments.length>3" translate="seeAllCommentText"></a></div><button \nclass="button button-block button-clear button-comment" photo-comment ng-model="gallery"><span translate="addComment">\n</span></button></div></div><ion-infinite-scroll on-infinite="onLoadMore()" ng-if="moreDataCanBeLoaded()" spinner \ndistance="1%"></ion-infinite-scroll>'),e.put("app/directive/profile-edit-modal.html",'<ion-modal-view class="profile-edit"><ion-header-bar class="bar-light"><button class="button button-clear" \nng-click="closeModal()" translate="cancel"></button><div class="title">{{ ::\'editProfile\' | translate }}</div><button \nclass="button button-clear" ng-click="submitUpdateProfile(rForm, form)" translate="submit"></button></ion-header-bar>\n<ion-content class="view-avatar"><div class="step2"><form name="rForm" novalidate><img class="avatar" user-avatar \nng-src="{{ form.photo._url || \'img/user.png\' }}"><label class="item item-input"><i \nclass="icon ion-clipboard placeholder-icon"></i> <input required="required" type="text" name="name" \nng-model="form.name" placeholder="{{\'name\' | translate}}"></label><label class="item item-input"><i \nclass="icon ion-pound placeholder-icon"></i> <input required="required" type="text" name="username" \nng-model="form.username" ng-minlength="4" ng-maxlength="12" ng-pattern="/^[a-zA-Z\'. -]+$/" \nplaceholder="{{\'username\' | translate}}"></label><label class="item item-input"><i \nclass="icon ion-earth placeholder-icon"></i> <input type="url" name="website" ng-model="form.website" \nplaceholder="{{\'site\' | translate}}"></label><label class="item item-input"><i \nclass="icon ion-information-circled placeholder-icon"></i> <input required="required" type="text" name="status" \nng-model="form.status" placeholder="{{\'status\' | translate}}"></label><ion-item class="item-divider" \ntranslate="privateInformation"></ion-item><label class="item item-input"><i \nclass="icon icon-envelope placeholder-icon"></i> <input type="email" name="email" ng-model="form.email" \ndisabled="disabled" ng-model-options="{debounce: 1000}" placeholder="user@example.com"></label><label \nclass="item item-input"><i class="icon ion-iphone placeholder-icon"></i> <input required="required" type="tel" \nname="phone" ng-model="form.phone" placeholder="{{\'phone\' | translate }}"></label></form></div><div \nclass="padding step3"><button ng-click="linkFacebook()" ng-disabled="form.facebook" \nclass="button button-block button-facebook"><i class="icon ion-social-facebook"></i> <span translate="facebookLink">\n</span></button></div></ion-content></ion-modal-view>'),e.put("app/directive/profile-modal.html",'<ion-modal-view id="account-view"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title">\n{{ user.attributes.name }}</div></ion-header-bar><ion-content overflow-scroll="true"><div class="profile-top"><div \nclass="row"><div class="col-25"><img class="avatar" ng-src="{{ user.attributes.photo._url}}"></div><div \nclass="col col-statics"><div class="row"><div class="row"><div class="col"><span class="text-center">\n{{ user.attributes.galleriesTotal || 0}}</span><h3 translate="postsText"></h3></div><div class="col"><span \nclass="text-center">{{ ::user.attributes.followersTotal || 0}}</span><h3 translate="followersText"></h3></div><div \nclass="col"><span class="text-center">{{ ::user.attributes.followingsTotal || 0}}</span><h3 translate="followingText">\n</h3></div></div></div><div class="row col-edit"><div class="col"><photogram-loading loading="loadingFollow">\n</photogram-loading><button ng-if="!loadingFollow" \nng-class="{\'button-unfollow\': user.follow, \'button-follow\': !user.follow}" ng-click="follow()" class="button"><span \nng-show="!user.follow" translate>Follow</span> <span ng-show="user.follow" translate>Following</span></button></div>\n</div></div></div><div class="padding"><span class="user-username">{{ user.attributes.name }}</span><p \nclass="user-status">{{ user.attributes.status }}</p></div></div><div class="item bar"><div class="button-bar"><button \nclass="button button-icon icon ion-grid" ng-class="{active: tab.grid}" ng-click="changeTab(\'grid\')"></button> <button \nclass="button button-icon icon ion-drag" ng-class="{active: tab.list}" ng-click="changeTab(\'list\')"></button> <button \nclass="button button-icon icon ion-ios-location"></button></div></div><div class="item item-divider" \ntranslate="recent"></div><div class="tab" ng-if="tab.list"><photo-list username="user.username"></photo-list></div><div\n class="tab" ng-if="tab.grid"><photo-grid user="user.username"></photo-grid></div></ion-content></ion-modal-view>'),e.put("app/directive/search-directive.html",'<label class="item item-input"><i class="icon ion-search placeholder-icon"></i> <input type="search" ng-model="input" \nplaceholder="{{\'SEARCH.FORM.INPUT\' | translate }}"> <button class="button button-icon" ng-if="input.length" \nng-click="clearSearch()"><i class="icon ion-close"></i></button></label>'),e.put("app/directive/settings-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title" \ntranslate="settingTitle"></div></ion-header-bar><ion-content class="animated fadeIn"><div class="list"><ion-language>\n</ion-language><ion-toggle class="toggle-positive" ng-model="form.push"><h3><small translate="notificationText">\n</small></h3><p ng-if="form.push" translate="on"></p><p ng-if="!form.push" translate="off"></p></ion-toggle><ion-item \nclass="item-icon-right" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S"><h3>\n<small translate="buy"></small></h3><i class="icon ion-ios-arrow-right"></i></ion-item><ion-item \nclass="item-icon-right" href="http://photogramapp.com"><h3><small translate="help"></small></h3><i \nclass="icon ion-ios-arrow-right"></i></ion-item><ion-item class="item-icon-right" href="http://photogramapp.com"><h3>\n<small translate="terms"></small></h3><i class="icon ion-ios-arrow-right"></i></ion-item><ion-item \nclass="item-icon-right" ng-click="show();"><h3><small translate="report"></small></h3><i \nclass="icon ion-ios-arrow-right"></i></ion-item></div><div class="padding"><button ng-click="logout()" \nclass="button button-block button-positive" translate="logout"></button></div></ion-content></ion-modal-view>'),e.put("app/component/ion-language/ion-language.html",'<button class="button button-block button-clear button-light button-language">{{language.translation | translate}} <i \nclass="icon ion-chevron-down"></i></button>'),e.put("app/component/ion-language/modal-language.html",'<ion-modal-view><ion-header-bar><h1 class="title" translate="selectLanguageText"></h1><a ng-click="closeModal()" \nclass="button button-icon icon ion-close"></a></ion-header-bar><div \nclass="bar bar-subheader item-input-inset bar-stable"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="search" placeholder="{{\'searchText\' | translate}}" \nng-model="searchValue"></label><button type="button" class="button button-clear" ng-show="searchValue.length" \nng-click="searchValue=\'\'">Clear</button></div><ion-content class="has-subheader has-header"><ion-list><ion-item \nclass="item" ng-click="selectLanguage(item)" ng-repeat="item in languages | filter:searchValue" \nng-bind-html="item.translation | translate"></ion-item></ion-list></ion-content></ion-modal-view>'),e.put("app/main/account-friend-list/account-friend-list.html","<ion-view><ion-content></ion-content></ion-view>"),e.put("app/main/feedback/feedback-modal.html",'<ion-modal-view class="modal-profile"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closeModal()"></button><div class="title" \ntranslate="FEEDBACK.TITLE"></div></ion-header-bar><ion-content><formly-form model="form" form="rForm" \nfields="formFields"></formly-form><div class="padding"><button class="button button-block button-positive" \nng-click="submitFeedback()"><span translate="BUTTON.SEND"></span></button></div></ion-content></ion-modal-view>'),e.put("app/main/loading/loading.html",'<ion-view id="user-layout" class="bg-animate"><ion-content></ion-content></ion-view>'),e.put("app/main/share/post-modal.html",'<ion-modal-view class="modal-post"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-arrow-thin-left" ng-click="closePost()"></button><div class="title" \ntranslate="SHARE.TITLE"></div><button class="button button-positive" ng-click="submitPost(form)"><i \nclass="icon ion-arrow-right-b"></i></button></ion-header-bar><ion-content><div id="image"><img ng-src="{{image}}">\n</div><ul class="list"><li class="item"><textarea ng-model="form.title" \nplaceholder="{{ \'SHARE.FORM.LEGEND\' | translate }}"></textarea></li></ul></ion-content></ion-modal-view>'),e.put("app/main/share/share-modal.html",'<ion-modal-view class="modal-share"><ion-header-bar class="bar-light"><button \nclass="button button-clear button-icon ion-ios-close-empty" ng-click="close()"></button><div class="title" \ntranslate="shareGalleryText"></div></ion-header-bar><ion-content><div class="list"><div \nclass="item item-thumbnail-left"><img ng-src="{{image}}" ng-click="editFilter()"><textarea type="text" \nng-model="form.title" placeholder="{{ \'description\'|translate }}"></textarea></div></div><ul class="list"><li \nclass="item item-input"><input type="text" placeholder="{{ \'locationText\' | translate }}" ion-location \nlocation="form.geo" ng-model="form.geo.resume"></li><div class="item nopadding" ng-show="form.geo.image"><img \nng-src="{{ form.geo.image }}"></div></ul><div class="padding"><button class="button button-block button-positive" \ntype="button" ng-click="submit(form)" translate="submit"></button></div></ion-content></ion-modal-view>'),e.put("app/main/tab/main-tab.html",'<ion-view><ion-nav-bar class="bar bar-light"><ion-nav-back-button></ion-nav-back-button></ion-nav-bar><ion-tabs \nclass="tabs-light tabs-photogram"><ion-tab title="{{ \'PHOTOGRAM.TITLE.HOME\' | translate }}" icon-on="ion-ios-home" \nicon-off="ion-ios-home-outline" ui-sref="tab.home"><ion-nav-view name="tabHome"></ion-nav-view></ion-tab><ion-tab \ntitle="{{ \'PHOTOGRAM.TITLE.SEARCH\' | translate }}" icon-on="ion-ios-world" icon-off="ion-ios-world-outline" \nui-sref="tab.search"><ion-nav-view name="tabSearch"></ion-nav-view></ion-tab><ion-tab \ntitle="{{ \'PHOTOGRAM.TITLE.SHARE\' | translate }}" icon-on="ion-ios-camera" icon-off="ion-ios-camera-outline" \nng-click="vm.postPhoto()"><ion-nav-view name="tabCapture"></ion-nav-view></ion-tab><ion-tab \ntitle="{{ \'PHOTOGRAM.TITLE.ACTIVITY\' | translate }}" icon-on="ion-ios-heart" icon-off="ion-ios-heart-outline" \nui-sref="tab.activity"><ion-nav-view name="tabActivity"></ion-nav-view></ion-tab><ion-tab \ntitle="{{ \'PHOTOGRAM.TITLE.PROFILE\' | translate }}" icon-on="ion-ios-person" icon-off="ion-ios-person-outline" \nui-sref="tab.account"><ion-nav-view name="tabProfile"></ion-nav-view></ion-tab></ion-tabs></ion-view>'),e.put("app/main/tab-account/account.html",'<ion-view cache-view="false" id="account-view"><ion-nav-title><span>{{ vm.user.attributes.name }}</span>\n</ion-nav-title><ion-nav-buttons side="right"><button settings-modal class="button button-icon icon ion-gear-a">\n</button></ion-nav-buttons><ion-content class="animated fadeIn"><div class="profile-top"><div class="row"><div \nclass="col-25"><img class="avatar" user-avatar ng-model="vm.user" \nng-src="{{ vm.user.attributes.photo._url || \'img/user.png\' }}"></div><div class="col col-statics"><div class="row"><div\n class="col"><span class="text-center">{{ vm.user.attributes.galleriesTotal || 0}}</span><h3 translate="postsText">\n</h3></div><div class="col"><span class="text-center">{{ vm.user.attributes.followersTotal || 0}}</span><h3 \ntranslate="followersText"></h3></div><div class="col"><span class="text-center">\n{{ vm.user.attributes.followingsTotal || 0}}</span><h3 translate="followingText"></h3></div></div><div \nclass="row col-edit"><div class="col"><button profile-modal-edit user="vm.user" class="button"><div \ntranslate="editProfile"></div></button></div></div></div></div><div class="padding"><span class="user-username">\n{{ vm.user.attributes.name }}</span><p class="user-status">{{ vm.user.attributes.status }}</p></div></div><div \nclass="item bar"><div class="button-bar"><button class="button button-icon icon ion-grid" \nng-class="{active: vm.tab.grid}" ng-click="vm.changeTab(\'grid\')"></button> <button \nclass="button button-icon icon ion-drag" ng-class="{active: vm.tab.list}" ng-click="vm.changeTab(\'list\')"></button> \n<button class="button button-icon icon ion-ios-location"></button></div></div><div class="item item-divider" \ntranslate="recentText">Recent</div><div class="tab" ng-if="vm.tab.list"><photo-list username="currentUser.username">\n</photo-list></div><div class="tab" ng-if="vm.tab.grid"><photo-grid username="currentUser.username"></photo-grid></div>\n</ion-content></ion-view>'),e.put("app/main/tab-activity/activity.html",'<ion-view cache-view="false" class="list-activity"><ion-nav-title><span translate="activities"></span></ion-nav-title>\n<ion-content scroll-sista=""><div class="center padding" ng-if="loading"><ion-spinner></ion-spinner></div><div \nclass="center padding" ng-if="vm.showErrorView()"><div class="error"><i \nclass="icon icon-large ion-ios-cloud-download-outline"></i><p>{{ "errorText" | translate }}</p><button \nclass="button button-{{theme}}" ng-click="vm.onReload()">{{ "tryAgainText" | translate }}</button></div></div><div \nclass="center padding" ng-if="vm.showEmptyView()"><div class="error"><i class="icon icon-large ion-android-alert"></i>\n<p>{{ "activityNotFoundText" | translate }}</p></div></div><ion-refresher pulling-text="{{\'loadingText\'| translate}}" \non-refresh="onReload()"></ion-refresher><div class="list"><div class="item item-avatar item-animate1" \nng-repeat="item in vm.data"><img ng-src="{{ item.user.photo._url  || \'./img/user.png\'}}"><h2>{{ item.user.name}}</h2>\n<div class="text">{{ item.action | translate }}</div><p>{{ item.createdAt | amTimeAgo }}</p><div class="img-right" \nng-if="item.item.gallery"><img ng-src="{{ item.item.gallery.attributes.imageThumb._url}}"></div></div></div>\n<ion-infinite-scroll on-infinite="onLoadMore()" ng-if="vm.moreDataCanBeLoaded()" spinner distance="1%">\n</ion-infinite-scroll></ion-content></ion-view>'),e.put("app/main/tab-home/home.html",'<ion-view class="view-home"><ion-nav-title><span class="icon2-logo"></span></ion-nav-title><ion-content \nscroll-sista="header-tabs"><photo-list profile="true" user=""></photo-list></ion-content></ion-view>'),e.put("app/main/tab-search/search.html",'<ion-view><ion-nav-title><span>{{ \'searchText\' | translate }}</span></ion-nav-title><ion-nav-buttons side="right">\n<button class="button button-icon ion-ios-location" ui-sref="tab.map"></button></ion-nav-buttons><ion-header-bar \nclass="bar bar-subheader item-input-inset"><label class="item-input-wrapper"><i \nclass="icon ion-ios-search placeholder-icon"></i> <input type="search" ng-model="params.search" ng-change="onSearch()" \nng-model-options="{debounce:1000}" style="text-transform:lowercase" placeholder="{{ \'searchText\' | translate }}">\n</label><button class="button button-clear" ng-if="search.length" ng-click="clearSearch()">\n{{ "cancelText" | translate }}</button></ion-header-bar><ion-content class="has-subheader"><photo-grid profile="true" \nuser=""></photo-grid></ion-content></ion-view>'),e.put("app/main/tab-search-map/searchMap.html",'<ion-view><ion-nav-title>{{ "mapTitle" | translate }}</ion-nav-title><ion-nav-buttons side="right"><button \nclass="button button-icon" distance-modal><i class="icon ion-funnel"></i></button> <button class="button button-icon" \nng-disabled="places.length === 0" ng-click="openPlacesModal()"><i class="icon ion-ios-list-outline"></i></button>\n</ion-nav-buttons><ion-content><div id="map_canvas"></div></ion-content><ion-footer-bar \nng-class="{\'bar-{{theme}}\': theme }"><div class="buttons buttons-center"><button class="button button-outline" \nng-click="onSearchPlaces()">{{ "searchInThisAreaText" | translate }}</button></div></ion-footer-bar></ion-view>'),e.put("app/main/user-avatar/user-avatar.html",'<ion-view id="user-layout" class="bg-animate"><ion-content class="padding view-avatar"><div class="row step1"><div \nclass="col"><img class="avatar" user-avatar ng-model="currentUser.photo" \nng-src="{{ ::currentUser.photo._url || \'img/user.png\' }}"></div></div><div class="step2"><form><label \nclass="item item-input"><i class="icon icon-envelope placeholder-icon"></i> <input type="email" name="email" \nng-model="vm.form.email" disabled="disabled"></label></form><formly-form model="vm.form" fields="vm.formFields" \nform="vm.rForm"></formly-form></div><div class="step3"><button ng-click="vm.submitAvatar()" \nclass="button button-block button-positive" translate="submit"></button></div></ion-content></ion-view>'),e.put("app/main/user-intro/user-intro.html",'<ion-view id="user-layout" class="bg-animate" cache-view="false"><div class="bar bar-header"><ion-language>\n</ion-language></div><ion-content class="padding" scroll="false"><div class="center"><div class="step1"><div \nclass="logo"><span class="icon2-logo"></span></div><p>{{::\'userIntroText\' | translate}}</p><facebook-login>\n</facebook-login></div></div></ion-content><ion-footer-bar><div class="row"><div class="col"><button \nclass="button button-block button-light button-outline" translate="signin" signin-modal></button></div><div \nclass="col"><button class="button button-block button-light button-outline" translate="register" signup-modal></button>\n</div></div></ion-footer-bar></ion-view>'),e.put("app/main/user-layout/user-layout.html",'<ion-view id="user-layout" class="bg-animate"><ion-content padding="false"><ion-nav-view></ion-nav-view></ion-content>\n</ion-view>'),e.put("app/main/user-merge/merge.html",'<ion-view id="user-layout" class="bg-animate" cache-view="false"><ion-content class="view-avatar padding"><div \nclass="row step1"><div class="col"><img class="avatar" user-avatar \nng-src="{{ tempUser.attributes.photo._url || \'./img/user.png\' }}"></div></div><div class="step2"><formly-form \nmodel="vm.form" fields="vm.formFields" form="rForm"><input type="hidden" ng-model="vm.form.facebookimg"></formly-form>\n</div><div class="padding step3"><button ng-click="vm.submit(rForm, vm.form)" \nclass="button button-block button-facebook"><i class="icon ion-social-facebook"></i> <span translate="mergeAccount">\n</span></button></div></ion-content></ion-view>'),e.put("app/main/walkthrough/walkthrough.html",'<ion-view class="view-intro bg-animate" can-swipe-back="false"><ion-content scroll="false"><div class="intro-slider">\n<ion-slide-box active-slide="slideIndex" show-pager="true" on-slide-changed="vm.slideChanged($index)"><ion-slide \nng-repeat="item in vm.slides track by $index"><div class="content" ng-if="$index == vm.slideIndex"><span class="top">\n<h2>{{ item.text | translate }}</h2></span><div class="phone {{ vm.device }}"><img ng-src="{{ item.img }}"></div></div>\n</ion-slide><ion-slide><div class="content" ng-if="vm.slides.length == vm.slideIndex"><div class="last"><div \nclass="logo2 step1"><img src="img/icon.png"> <span class="icon2-logo"></span></div><button \nclass="button button-block button-clear step2" ui-sref="user.intro" translate="signin"></button></div></div>\n</ion-slide></ion-slide-box></div><button class="button button-positive button-fab left" ng-if="vm.slideIndex" \nng-click="vm.previous()"><i class="icon ion-ios-arrow-left"></i></button> <button \nclass="button button-positive button-fab right" ng-hide="vm.slideIndex === vm.slides.length" ng-click="vm.next()"><i \nclass="icon ion-ios-arrow-right"></i></button></ion-content></ion-view>'),e.put("app/component/ion-photo/view/modal.share.photo.html",'<ion-modal-view class="modal-share"><ion-header-bar class="bar-dark"><div class="title">{{ ::\'Share\' | translate }}\n</div><button class="button button-positive" ng-click="modal.hide()"><i class="icon ion-arrow-right-b"></i></button>\n</ion-header-bar><ion-content ng-cloak><div id="image"><img ng-src="{{ ::form.photo}}"><div class="title">\n{{ ::form.title }}</div></div><ul class="list"><li class="padding"><button ng-repeat="social in sociais" \nng-click="share(form, social)" class="button button-block button-{{ social }}"><i class="icon ion-social-{{ social }}">\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>'),e.put("app/component/ion-photo/view/photo.filter.carousel.html",'<div class="wide-as-needed"><a ng-repeat="filter in filters" ng-click="applyFilter(\'image\', filter)"><div caman \nimage="image" name="filter" filter="filter" class="image" loading="loading" ng-class="{disabled: loading}"></div>\n<ion-spinner ng-if="loading"></ion-spinner><p>{{ ::filter }}</p></a></div>'),e.put("app/component/ion-photo/view/photo.filter.html",'<div class="capture-photo"><div caman filter="\'normal\'" loading="loadingMaster" class="image" \nng-class="{disabled: loadingMaster}" name="\'image\'" image="image"></div><ion-spinner ng-show="loadingMaster">\n</ion-spinner></div><photo-filter-carousel apply="applyFilter" image="image"></photo-filter-carousel>')}])}();
//# sourceMappingURL=../maps/scripts/app-2a433ee7ff.js.map
