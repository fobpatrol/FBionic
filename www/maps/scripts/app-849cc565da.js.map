{"version":3,"sources":["scripts/app.js"],"names":["MarkerClusterer","map","opt_markers","opt_options","this","extend","google","maps","OverlayView","map_","markers_","clusters_","sizes","styles_","ready_","options","gridSize_","minClusterSize_","maxZoom_","imagePath_","MARKER_CLUSTER_IMAGE_PATH_","imageExtension_","MARKER_CLUSTER_IMAGE_EXTENSION_","zoomOnClick_","undefined","averageCenter_","setupStyles_","setMap","prevZoom_","getZoom","that","event","addListener","zoom","resetViewport","redraw","length","addMarkers","Cluster","markerClusterer","markerClusterer_","getMap","getGridSize","getMinClusterSize","isAverageCenter","center_","bounds_","clusterIcon_","ClusterIcon","getStyles","cluster","styles","opt_padding","getMarkerClusterer","padding_","cluster_","div_","sums_","visible_","angular","module","openTermsDirective","restrict","link","scope","elem","attr","openModal","href","window","cordova","ThemeableBrowser","open","statusbar","color","toolbar","height","title","showPageTitle","backButtonCanClose","bind","directive","runMoment","amMoment","AppConfig","langvar","navigator","language","userlanguage","userlangvar","split","preferredLocale","searchLang","_","some","locales","code","filter","item","console","log","changeLocale","configLanguage","$translatePartialLoaderProvider","$translateProvider","tmhDynamicLocaleProvider","useLoader","urlTemplate","useSanitizeValueStrategy","useMissingTranslationHandlerLog","useLocalStorage","localeLocationPattern","preferredLanguage","$inject","config","run","constant","path","$ionicPopup","$ionicPopover","$rootScope","Loading","$translate","User","Gallery","Toast","$ionicModal","$scope","allImages","ngModel","activeSlide","index","indexActual","fromTemplateUrl","then","modal","show","slideChanged","openPopover","$event","popover","slidepopover","closePopover","hide","editPhoto","deletePhoto","gallery","confirm","instant","template","res","start","get","id","destroy","alert","text","$emit","closeModal","end","onReload","remove","canEdit","configCompile","$compileProvider","debugInfoEnabled","startParse","$localStorage","$location","Parse","initialize","parse","appId","serverURL","server","unit","mapType","type","currentUser","current","runIonic","$ionicPlatform","$cordovaGlobalization","$cordovaSplashscreen","ParsePush","ConnectMonitor","theme","ready","plugins","Keyboard","disableScroll","StatusBar","styleLightContent","splashscreen","user","init","lang","use","globalization","getPreferredLanguage","value","configIonic","$ionicConfigProvider","platform","ios","backButton","previousTitleText","icon","android","views","swipeBackEnabled","tabs","position","navBar","alignTitle","maxCache","configFacebook","$facebookProvider","setAppId","facebookAppId","setPermissions","runFacebook","LangVar","userLanguage","userLangVar","substring","toUpperCase","d","s","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","app","name","url","image","routes","home","login","gaTrackingId","translation","DAO","tables","columns","username","email","facebookimg","gender","img","facebook","qtdFollow","status","createdAt","attributes","user_id","followId","location","isLiked","likes","action","userAvatar","userName","gallery_id","key","$stateProvider","$urlRouterProvider","addPart","state","templateUrl","controller","controllerAs","abstract","$state","localStorage","$reset","go","clear","tabHome","tabSearch","tabActivity","tabProfile","otherwise","prototype","obj1","obj2","object","property","apply","onAdd","setReady_","draw","size","i","push","width","fitMapToMarkers","marker","markers","getMarkers","bounds","LatLngBounds","getPosition","fitBounds","setStyles","isZoomOnClick","getTotalMarkers","setMaxZoom","maxZoom","getMaxZoom","calculator_","numStyles","count","dv","parseInt","Math","min","setCalculator","calculator","getCalculator","opt_nodraw","pushMarkerTo_","isAdded","repaint","addMarker","removeMarker_","indexOf","m","splice","removeMarker","removed","removeMarkers","r","createClusters_","getTotalClusters","setGridSize","setMinClusterSize","getExtendedBounds","projection","getProjection","tr","LatLng","getNorthEast","lat","lng","bl","getSouthWest","trPix","fromLatLngToDivPixel","x","y","blPix","ne","fromDivPixelToLatLng","sw","isMarkerInBounds_","contains","clearMarkers","opt_hide","oldClusters","slice","setTimeout","distanceBetweenPoints_","p1","p2","R","dLat","PI","dLon","a","sin","cos","c","atan2","sqrt","addToClosestCluster_","distance","clusterToAddTo","center","getCenter","isMarkerInClusterBounds","mapBounds","getBounds","isMarkerAlreadyAdded","l","calculateBounds_","len","updateIcon","getSize","mz","sums","setCenter","setSums","triggerClusterClick","trigger","pos","getPosFromLatLng_","style","cssText","createCss","innerHTML","panes","getPanes","overlayMouseTarget","appendChild","isDragging","addDomListener","latlng","iconAnchor_","width_","height_","top","left","display","onRemove","removeChild","text_","index_","useStyle","max","url_","textColor_","anchor_","textSize_","backgroundPosition_","backgroundPosition","txtColor","txtSize","join","signinModalDirective","signinModalLink","routeLogged","form","password","submitLogin","rForm","data","copy","$valid","signIn","resp","forgotPass","subTitle","buttons","onTap","e","recoverPassword","preventDefault","animation","focusFirstInput","$on","signupModalDirective","signupModalLink","submitRegister","signUp","error","albumGridDirective","GalleryAlbum","albumGridLink","loadFeed","loading","list","params","create","page","showEmptyView","moreDataCanBeLoaded","$broadcast","showErrorView","objectId","unshift","search","onLoadMore","profile","albumPhotoGridDirective","Dialog","PhotoService","ParseFile","albumPhotoGridCtrl","getAlbum","album","photos","edit","closeAlbumPhotoGridModal","uploadPhoto","modalPost","upload","base64","imageUploaded","editAlbum","description","modalAlbum","createAlbum","save","deleteAlbum","message","buyDirective","$cordovaInAppBrowser","buyLink","closeButton","imagePressed","align","compareToDirective","targetModel","require","element","attrs","ctrl","compare","e1","val","e2","$watch","newValue","$setValidity","distanceModalDirective","distanceModalLink","storage","distances","onDistanceSelected","closeDistanceModal","emailValidatorDirective","emailValidatorLink","$asyncValidators","modelValue","viewValue","validateEmail","facebookLoginDirective","Facebook","facebookLoginLink","onLoginViaFacebook","getCurrentUser","response","processFacebookLogin","logIn","authData","fbAuthData","fbData","newUser","me","findByEmail","signInViaFacebook","deferred","$q","defer","reject","promise","updateWithFacebookData","info","facebookStatus","focusMeDirective","$timeout","openKeyboard","focus","click","galleryAlbumModalDirective","galleryAlbumModalLink","err","selectAlbum","galleryNewAlbumModalDirective","galleryNewAlbumModalLink","heartDirective","heartLink","addClass","ionLoading","runLoading","$ionicLoading","$cordovaProgress","showLoading","showSimple","hideLoading","seconds","factory","PhotogramLoadingDirective","mapPhotoUserDirective","Geolocation","mapPhotoUserLink","galleries","removeGallerys","latitude","longitude","mapOptions","setPosition","mapTypeId","MapTypeId","ROADMAP","Map","myPosition","getCurrentPosition","coords","loadGallerys","errorMessage","markerOption","Animation","DROP","Size","scaledSize","origin","Point","anchor","Marker","imagePath","latlngbounds","setGallerys","imageThumb","feed","maxRating","limit","onSearchHere","onGalleryClicked","load","photogramFollowDirective","Photogram","modalFollow","getFollow","photoGridDirective","Share","FeedbackModal","$ionicActionSheet","photoGridCtrl","actionButtons","share","buttonDelete","actionSheet","titleText","cancelText","buttonClicked","photoLikeDirective","_model","progress","liked","likeGallery","galleryId","likesTotal","photoListDirective","photoListController","openComment","itemShare","obj","openLikers","profileModalEditDirective","photo","linkFacebook","logout","submitUpdateProfile","facebookLink","dataForm","unsubscribe","subscribe","update","profileModalDirective","profileModalLink","follow","loadingFollow","userObj","isFollow","followersTotal","modalProfile","changeTab","tab","grid","ionSearchDirective","getData","watchSearch","minLength","str","results","placeholder","input","$apply","source","settingsModalDirective","Auth","getLoggedUser","languages","modalSetting","ev","closeSettingModal","sref","usernameValidatorDirective","usernameValidatorLink","validateUsername","hashtag","$filter","target","replacedText","targetAttr","isDefined","replacePattern1","replace","replacePattern2","words","isNaN","inputWords","global","exports","define","amd","moment","processRelativeTime","number","withoutSuffix","isFuture","format","h","dd","M","MM","yy","de","defineLocale","months","monthsShort","monthsParseExact","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","sameElse","nextDay","nextWeek","lastDay","lastWeek","relativeTime","future","past","mm","hh","ordinalParse","ordinal","week","dow","doy","symbolMap","1","2","3","4","5","6","7","8","9","0","numberMap","۱","۲","۳","۴","۵","۶","۷","۸","۹","۰","fa","meridiemParse","isPM","test","meridiem","hour","minute","isLower","preparse","string","match","postformat","pt_br","day","f","g","self","io","t","n","o","u","Error","call","_dereq_","lookup","uri","opts","parsed","sameNamespace","cache","nsps","newConnection","forceNew","multiplex","debug","Manager","socket","parser","managers","protocol","connect","Socket","./manager","./socket","./url","socket.io-parser","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","jitter","timeout","readyState","connecting","lastPing","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","eio","Emitter","on","has","Object","hasOwnProperty","emitAll","emit","arguments","nsp","updateSocketIds","engine","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","fn","skipReconnect","openSub","onopen","errorSub","cleanup","timer","close","clearTimeout","onping","Date","onpong","ondata","add","ondecoded","packet","onerror","onConnecting","encode","encodedPackets","write","processPacketQueue","pack","shift","sub","disconnect","reset","onclose","reason","delay","duration","onreconnect","attempt","./on","backo2","component-bind","component-emitter","engine.io-client","indexof","removeListener","json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","toArray","hasBin","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","ping","pong","subEvents","send","args","parserType","EVENT","BINARY_EVENT","compress","flags","pop","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","has-binary","to-array","loc","host","charAt","parseuri","port","ipv6","after","callback","err_cb","proxy","result","bail","noop","arraybuffer","bytes","byteLength","ArrayBuffer","abv","Uint8Array","ii","buffer","ms","factor","pow","rand","random","deviation","floor","chars","charCodeAt","decode","encoded1","encoded2","encoded3","encoded4","bufferLength","p","10","mapArrayBufferViews","ary","chunk","buf","set","byteOffset","BlobBuilderConstructor","bb","BlobBuilder","append","getBlob","BlobConstructor","Blob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobSupportsArrayBufferView","b","blobBuilderSupported","11","concat","12","mixin","addEventListener","_callbacks","once","off","removeAllListeners","removeEventListener","callbacks","cb","listeners","hasListeners","13","constructor","14","useColors","documentElement","firebug","exception","table","userAgent","toLowerCase","RegExp","$1","formatArgs","namespace","humanize","diff","Array","lastC","Function","namespaces","removeItem","localstorage","chrome","local","colors","formatters","j","JSON","stringify","enable","./debug","15","selectColor","prevColor","disabled","enabled","curr","prevTime","prev","coerce","formatter","logFn","skips","substr","names","disable","stack","16","./lib/","17","engine.io-parser","18","hostname","secure","query","agent","parseqs","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","freeGlobal","extraHeaders","keys","clone","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","setTransport","onDrain","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","to","onOpen","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","pingTimeoutTimer","pingIntervalTimer","sendPacket","prevBufferLen","writable","cleanupAndClose","waitForUpgrade","desc","filteredUpgrades","./transport","./transports","19","doOpen","doClose","packets","onData","decodePacket","20","polling","xhr","xd","xs","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest-ssl","21","empty","JSONPPolling","Polling","___eio","script","inherit","rNewline","rEscapedNewline","iframe","doPoll","async","insertAt","head","body","isUAgecko","doWrite","complete","initIframe","html","iframeId","area","className","method","setAttribute","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit","22","Request","isBinary","unloadHandler","requests","abort","request","req","sendXhr","pollXhr","setDisableHeaderCheck","setRequestHeader","responseType","withCredentials","hasXDR","onLoad","responseText","requestsCount","onSuccess","fromError","contentType","getResponseHeader","String","fromCharCode","ui8Arr","dataArray","idx","XDomainRequest","23","hasXHR2","yeast","poll","onPause","total","decodePayload","callbackfn","encodePayload","schema","b64","../transport","24","WS","BrowserWebSocket","WebSocket","MozWebSocket","check","protocols","headers","ws","supports","binary","addEventListeners","onmessage","done","encodePacket","Buffer","25","hasCORS","ActiveXObject","has-cors","26","27","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","each","next","eachWithIndex","el","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","packetslist","utf8encode","encoded","readAsDataURL","b64data","typed","basic","btoa","utf8decode","decodeBase64Packet","Number","asArray","rest","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","decodePayloadAsBinary","chr","ret","totalLength","reduce","acc","toString","resultArray","bufferIndex","forEach","isString","ab","view","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer","28","arr","29","_hasBinary","isBuffer","File","isArray","toJSON","isarray","30","31","32","33","34","runInContext","context","undef","isSupported","serialized","stringifySupported","isExtended","getClass","parseSupported","root","SyntaxError","TypeError","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","members","__proto__","original","parent","Properties","valueOf","isFunction","isConstructor","hasProperty","objectTypes","Escapes","92","leadingZeroes","toPaddedString","unicodePrefix","quote","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","date","time","hours","minutes","milliseconds","prefix","Index","Source","Unescapes","47","98","116","110","102","114","lex","begin","isSigned","hasMembers","walk","isLoader","function","freeExports","nodeType","previousJSON","isRestored","JSON3","noConflict","35","exec","parseFloat","short","round","long","plural","ceil","36","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","37","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","38","re","parts","authority","ipv6uri","39","isBuf","deconstructPacket","_deconstructPacket","_placeholder","num","newData","packetData","attachments","reconstructPacket","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer","40","encodeAsString","encodeAsBinary","writeEncoding","deconstruction","reconstructor","decodeString","types","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3","41","42","dup","43","array","44","ucs2decode","extra","output","counter","ucs2encode","stringFromCharCode","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp","freeModule","version","45","alphabet","decoded","now","seed","$provide","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","pluralCat","opt_precision","ActionSheetFactory","Camera","$cordovaActionSheet","option","sourceType","getPicture","resolve","buttonLabels","addCancelButtonWithLabel","androidEnableCancelButton","androidTheme","actionsheet","ANDROID_THEMES","THEME_HOLO_LIGHT","btnIndex","cancel","setSessionToken","sessionToken","mSessionToken","ensureLoggedIn","become","requestPasswordReset","success","resetPassword","logOut","CameraFactory","$cordovaCamera","PictureSourceType","CAMERA","PHOTOLIBRARY","quality","targetWidth","targetHeight","saveToPhotoAlbum","correctOrientation","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","fileInput","evt","tempImage","currentTarget","files","reader","toBase64Image","img_path","imageResizer","resizeImage","imageDataType","ImageResizer","IMAGE_DATA_TYPE_URL","resizeType","RESIZE_TYPE_FACTOR","RESIZE_TYPE_MIN_PIXEL","pixelDensity","storeImage","photoAlbum","service","ConnectMonitorFactory","$cordovaNetwork","watch","ionic","Platform","isWebView","onLine","isOnline","networkState","DAOFactory","$interval","database","_db","sqlitePlugin","openDatabase","createFromLocation","_promises","_query","_tables","all","getLastSync","column","lastSync","rows","insert","_columns","_values","bindings","transaction","executeSql","paginate","_table","_where","_join","_order","_limit","_query1","TOTAL","fetchAll","DataUtilFactory","parseData","parseString","toLocaleDateString","getDate","inicio","getFullYear","getMonth","formatDate","getMonthName","meses","getFirstDay","getLastDay","DialogFactory","$cordovaDialogs","buttonsText","FacebookFactory","$facebook","$cordovaFacebook","getLoginStatus","postImage","picture","_url","caption","ui","postImage1","api","published","getFriends","getMe","fields","invite","showDialog","friends","FacebookUtils","authResponse","userID","access_token","accessToken","expiration_date","getTime","Boolean","ParseCloud","ParseObject","getStatus","isApproved","Query","order","ascending","descending","startOf","endOf","greaterThanOrEqualTo","toDate","lessThanOrEqualTo","doesNotExist","equalTo","include","skip","find","defineProperty","GeoPoint","GalleryFactory","parseObject","itemId","objPlace","address","geo","comments","expiresAt","GeolocationFactory","$cordovaGeolocation","geolocation","enableHighAccuracy","maximumAge","GoogleAnalyticsFactory","$cordovaGoogleAnalytics","trackingId","debugMode","startTrackerWithId","canTrack","warn","TAG","trackEvent","category","label","trackView","viewName","trackException","isFatal","InstallFactory","ParseCloudFactory","Cloud","file","ext","filename","ParsePushFactory","ParsePushPlugin","getInstallationId","subscribeUser","getSubscriptions","subscriptions","channel","ShareFactory","$cordovaSocialSharing","ToastFactory","$cordovaToast","okType","UserFactory","$cordovaDevice","getFollowers","getLikers","getFollowing","updateUser","device","getDevice","getCordova","model","getModel","getPlatform","uuid","getUUID","getVersion","roleName","facebookAuthData","fetch","getPublicData","first","userData","Promise","setPhoto","parseFile","userId","delete","default_config","bgcolor","semi","rounded","clockwise","radius","stroke","iterations","interval","showProgressCircleInBrowser","showProgressCircleInDevice","provider","$get","_cache","cache_src","getCacheDir","localUrl","$compile","$cacheSrc","$cordovaFileTransfer","onProgress","onFinish","possible","makeProgressCircle","startsWith","sub_str","needDownload","attrToScope","textAlign","isIOS","progress_circle","documentsDirectory","dataDirectory","finish","css","addSrc","srcIs","$observe","cacheSrc","fileName","download","loaded","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","timeToCall","responsive","animationDelay","offset","$window","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","isNumber","base","querySelector","createElementNS","createSVGRect","resolveColor","hashIndex","toNumber","getOffset","$parent","$$getRoundProgressOptions","getTimestamp","performance","updateState","pathRadius","elementRadius","isSemicircle","perc","arcSweep","animations","linearEase","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","abs","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","roundProgressConfig","transclude","onRender","optionIsSpecified","lastTimeoutId","parentChangedListener","isNested","hasClass","svg","eq","ring","background","lastAnimationId","renderCircle","diameter","backgroundSize","overflow","paddingBottom","strokeWidth","strokeLinecap","cx","cy","renderState","oldValue","preventAnimationOverride","changeInValue","easingAnimation","preventAnimation","circleSize","aria-valuemax","aria-valuenow","doAnimation","startTime","currentTime","animateTo","$watchGroup","directiveName","nodeName","ionLanguageDirective","modalLanguageLink","searchValue","selectLanguage","GeoServiceFactory","$http","getLocation","posOptions","findMe","getGoogleAddress","logErr","address_normal","formatted_address","address_components","imagem","numero","short_name","rua","long_name","bairro","cidade","estado","uf","pais","paisCode","cep","w","parseAddress","place","resume","geometry","addressType","componentForm","componentFormName","street","city","country","searchAddress","autocompleteService","getQueryPredictions","getDetails","placeId","detailsService","places","AutocompleteService","PlacesService","street_number","route","locality","sublocality","neighborhood","political","administrative_area_level_1","postal_code","ionLocationDirective","GeoService","ionLocationLink","suggestions","selectPlace","place_id","closeModalLocation","choosePlace","modalLocation","fromTemplate","loading1","FeedbackModalFactory","GalleryFeedback","GalleryFeedbackForm","submitFeedback","$new","formFields","photogramId","subject","GalleryFeedbackFormFactory","templateOptions","required","valueProp","labelProp","iconPlaceholder","feedbackDirective","stop","GalleryCommentController","$stateParams","$ionicScrollDelegate","$ionicHistory","GalleryComment","nocomments","getComments","comment","scrollBottom","goBack","myIndexValue","searchPeople","term","peopleList","imageUrl","bio","people","when","getPeopleTextRaw","deleteComment","editComment","formEdit","submitComment","LoadingController","ProfileController","vm","more","isMe","openFollowers","openFollowing","GalleryShareFactory","facebookShare","privacity","modalFilter","closeAddress","MainTabController","GalleryShare","clearBadge","badge","clearHistory","pn","$applyAsync","postPhoto","AccountController","getFollower","loadingFollowers","loadingFollowing","loadingPhotos","buttonTheme","ActivityController","GalleryActivity","openProfile","HomeController","SearchCtrl","onSearch","clearSearch","SearchMapController","myLocation","scopes","states","loadMyLocation","UserAvatarController","submitAvatar","userAvatarDirective","ActionSheet","UserFollowerController","users","UserFollowingController","UserIntroController","$ionicSlideBoxDelegate","currentPlatform","slideIndex","previous","slides","UserLikerController","UserListController","UserMergeController","tempUser","submitMerge","recoveryPassDirective","register","recovery","erro","button","$viewValue","isUndefined","forgot","UserRecoveryPassController","submitForgot","ionCropDirective","$jrCrop","ionCropLink","getElem","fileUpload","crop","chooseText","canvas","toDataURL","cropSave","sliderFilterDirective","sliderFilterLink","slider","setSlider","jrCropController","View","imgWidth","imgHeight","imgSelect","imgFull","posX","posY","scale","rotate","last_scale","last_posX","last_posY","last_rotate","loadImage","naturalWidth","naturalHeight","cloneNode","bindHandlers","initImage","imgAspectRatio","selectAspectRatio","setImageTransform","setPosWithinBoundaries","calcMaxPos","min_pos_x","max_pos_x","min_pos_y","max_pos_y","currWidth","currHeight","scaleMin","transforming_correctX","transforming_correctY","scaleMax","image_ratio","cropper_ratio","prevent_default_directions","onGesture","gesture","deltaX","deltaY","rotation","transform","CSS","TRANSFORM","getContext","correctX","correctY","sourceX","sourceY","translate","drawImage","prop","defaultOptions","aspectRatio","initOptions","_options","PhotoServiceFactory","$cordovaCapture","setOptions","deviceInformation","setting","allowRotation","allowEdit","popoverOptions","CameraPopoverOptions","capture","cropModal","jrCrop","getVideo","captureVideo","mediaFiles","fullPath","VideoFactory","createFileEntry","fileURI","resolveLocalFileSystemURL","entry","copyFile","fail","fileEntry","lastIndexOf","newName","makeid","fileSystem2","copyTo","succ","onCopySuccess","nativeURL","PKVideoThumbnail","createThumbnail","prevSucc","prevImageSuccess","correctUrl","saveVideo","localURL","$templateCache","put"],"mappings":"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AI,KAIf9oC,QAAQC,OAAO,eAAiB,WAAY,SAAUi7C,GACpD,GAAIC,IACFC,KAAM,OACNC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,KAAM,OACNC,MAAO,QAETP,GAASryC,MAAM,WACb6yC,kBACEC,OACE,KACA,MAEFC,KACE,UACA,gBACA,cACA,eACA,eACA,cACA,UAEFC,UACE,kBACA,iBAEFC,MACE,OACA,QAEFC,eAAkB,EAClBC,OACE,UACA,YACA,QACA,QACA,OACA,QACA,QACA,SACA,WACA,UACA,WACA,YAEFC,UACE,MACA,MACA,MACA,MACA,MACA,MACA,OAEFC,YACE,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEFC,iBACE,UACA,YACA,QACA,QACA,OACA,QACA,QACA,SACA,WACA,UACA,WACA,YAEFC,cACE,EACA,GAEFC,SAAY,2BACZC,SAAY,qBACZC,OAAU,6BACVC,WAAc,oBACdC,WAAc,WACdtH,QAAS,iBACTuH,UAAa,WACbC,UAAa,SAEfC,gBACEC,aAAgB,KAChBC,YAAe,IACfC,UAAa,IACbC,WACEC,MAAS,EACTC,OAAU,EACVC,QAAW,EACXC,QAAW,EACXC,OAAU,EACVC,OAAU,IACVC,OAAU,GACVC,OAAU,GACVC,OAAU,KAEVR,MAAS,EACTC,OAAU,EACVC,QAAW,EACXC,QAAW,EACXC,OAAU,EACVC,OAAU,KACVC,OAAU,GACVC,OAAU,IACVC,OAAU,MAGd33C,GAAM,QACN43C,UAAa,SAAUjwB,EAAGkwB,GACxB,MAAIlwB,IAAK,GAAU,GAALA,GAAe,GAALA,EACf0tB,EAAgBE,IAElBF,EAAgBM,YAI7B,WACI,YAEI,IAAIvuB,GAAQxsB,OAAO0nB,OAAOY,aAAa,MACvCC,OAAQ,2FAA2FlnB,MAC/F,KACJmnB,YAAa,kDAAkDnnB,MAAM,KACrEqnB,SAAU,iFAAiFrnB,MAAM,KACjGsnB,cAAe,8BAA8BtnB,MAAM,KACnDunB,YAAa,yBAAyBvnB,MAAM,KAC5CynB,gBACIC,GAAI,QACJC,IAAK,WACLC,EAAG,aA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","file":"scripts/app-849cc565da.js","sourcesContent":["(function () {\n    'use strict';\n    angular\n        .module('starter', [\n            'ionic',\n            'ngMessages',\n            'ngCookies',\n            'ngStorage',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale', \n            'angularMoment',\n            'ngFacebook',\n            'angular-cache',\n            'ngSanitize',\n            'mentio',\n            'ion-affix',\n            'jett.ionic.scroll.sista',\n            'ngCordova',\n            'ionic.components',\n            'app.main',\n        ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('ionic.components', [\n            'ion-language',\n            'ion-location',\n            'ion-slideshow',\n            'ionic-cache-src',\n            'ion-photo'\n        ]);\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('href', openTermsDirective);\n\n    function openTermsDirective() {\n        return {\n            restrict: 'A',\n            link    : function (scope, elem, attr) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var href = attr.href;\n\n                    if (window.cordova) {\n                        window.cordova.ThemeableBrowser.open(href, '_blank', {\n                            statusbar         : {\n                                color: '#ffffffff'\n                            },\n                            toolbar           : {\n                                height: 44,\n                                color : '#f0f0f0ff'\n                            },\n                            title             : {\n                                color        : '#000',\n                                showPageTitle: true\n                            },\n                            backButtonCanClose: true\n                        })\n                        ;\n                    } else {\n                        window.open(href);\n                    }\n\n                    return false;\n                }\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('app.main', [\n            'ionic',\n            'ngCordova',\n        ]);\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('ion-language', [\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale', \n            'angularMoment' \n        ])\n        .config(configLanguage)\n        .run(runMoment);\n\n\n\n    function runMoment(amMoment, AppConfig) {\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n\n        if (searchLang) {\n            language = AppConfig.locales.filter(function (item) {\n                return language == item.code\n            })[0].code;\n        }\n\n                console.log(language);\n        amMoment.changeLocale(language);\n    }\n\n    function configLanguage($translatePartialLoaderProvider, $translateProvider, AppConfig, tmhDynamicLocaleProvider) {\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.useSanitizeValueStrategy(null);\n\n        $translateProvider.useMissingTranslationHandlerLog();\n        $translateProvider.useLocalStorage(); \n        tmhDynamicLocaleProvider.localeLocationPattern('../bower_components/angular-i18n/angular-locale_{{locale}}.js');\n\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n\n        if (searchLang) {\n            language = AppConfig.locales.filter(function (item) {\n                return language == item.code\n            })[0].code;\n        }\n        $translateProvider.preferredLanguage(language);\n    }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ion-location', [\n      'ionic'\n    ]);\n\n})();\n(function () {\n    'use strict';\n    angular.module('ion-photo', [\n        'ionic',\n        'ngCordova',\n        'jrCrop'\n    ]).constant('config', {\n        path: 'app/component/ion-photo'\n    })\n\n})();\n(function () {\n    'use strict';\n    angular.module('ion-slideshow', [])\n           .directive('ionSlideshow', function ($ionicPopup, $ionicPopover, $rootScope, Loading, $translate, User, Gallery, Toast, $ionicModal) {\n               return {\n                   restrict: 'A',\n                   scope   : {\n                       ngModel: '=',\n                       index  : '=',\n                       canEdit: '='\n                   },\n                   link    : link\n               };\n\n               function link($scope, elem, attr) {\n\n                   elem.bind('click', function () {\n                       $scope.allImages   = $scope.ngModel;\n                       $scope.activeSlide = $scope.index;\n\n                       $scope.indexActual = $scope.index;\n\n                       console.log($scope.index);\n\n                       $ionicModal.fromTemplateUrl('app/component/ion-slideshow/image-popover.html', {\n                           scope: $scope,\n                       }).then(function (modal) {\n                           $scope.modal = modal;\n                           $scope.modal.show();\n                       });\n\n                       $scope.slideChanged = function (index) {\n                           $scope.indexActual = index;\n                       };\n\n                       $scope.openPopover  = function ($event) {\n                           $ionicPopover.fromTemplateUrl('app/component/ion-slideshow/ion-slideshow.popover.html', {\n                               scope: $scope\n                           }).then(function (popover) {\n                               $scope.slidepopover = popover;\n                               $scope.slidepopover.show($event);\n                           });\n                       };\n                       $scope.closePopover = function () {\n                           $scope.slidepopover.hide();\n                       };\n\n\n                       $scope.editPhoto = function () {\n                           $scope.closePopover();\n                       };\n\n\n                       $scope.deletePhoto = function () {\n                           var index   = $scope.indexActual;\n                           var gallery = $scope.allImages[index];\n                           $scope.closePopover();\n\n                           $ionicPopup\n                               .confirm({\n                                   title   : $translate.instant('deleteGalleryConfirmText'),\n                                   template: $translate.instant('areSure')\n                               })\n                               .then(function (res) {\n                                   if (res) {\n                                       Loading.start();\n                                       Gallery.get(gallery.id).then(function (gallery) {\n                                           if (gallery) {\n                                               Gallery.destroy(gallery).then(function () {\n                                                   console.log('Photo deleted');\n                                                   Toast.alert({\n                                                       title: 'Photo',\n                                                       text : 'Photo deleted'\n                                                   });\n                                                   $rootScope.$emit('photogrid:modal:reload', true);\n                                                   $scope.closeModal();\n                                                   Loading.end();\n                                               });\n                                           } else {\n                                               $scope.onReload();\n                                               Loading.end();\n                                           }\n                                       }).catch(function () {\n                                           $scope.onReload();\n                                           Loading.end();\n                                       })\n\n                                   }\n                               });\n                       };\n\n                       $scope.closeModal = function () {\n                           $scope.modal.hide();\n                           $scope.modal.remove()\n                       };\n                   });\n\n\n               }\n           });\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.main');\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('starter')\n        .run(startParse)\n        .run(runIonic)\n        .run(runFacebook)\n        .config(configCompile)\n        .config(configFacebook)\n        .config(configIonic);\n\n    function configCompile($compileProvider) {\n        $compileProvider.debugInfoEnabled(false);\n    }\n\n    function startParse(AppConfig, $localStorage, $location, $rootScope) {\n        Parse.initialize(AppConfig.parse.appId);\n        Parse.serverURL = AppConfig.parse.server;\n\n        if (!$localStorage.unit) {\n            $localStorage.unit = AppConfig.map.unit;\n        }\n\n        if (!$localStorage.mapType) {\n            $localStorage.mapType = AppConfig.map.type;\n        }\n\n        $rootScope.currentUser = Parse.User.current();\n        console.log($rootScope.currentUser);\n        if (!$rootScope.currentUser) {\n            $location.path('/');\n        }\n    }\n\n    function runIonic($ionicPlatform, $rootScope, amMoment, $translate, $cordovaGlobalization, $cordovaSplashscreen, ParsePush, ConnectMonitor, AppConfig, User) {\n\n        $rootScope.theme = AppConfig.theme;\n\n        $ionicPlatform.ready(function () {\n\n            if (window.cordova && window.cordova.plugins.Keyboard) {\n                cordova.plugins.Keyboard.disableScroll(true);\n                window.StatusBar.styleLightContent();\n            }\n\n\n\n            if (navigator && navigator.splashscreen) {\n                $cordovaSplashscreen.hide();\n            }\n\n            var user = Parse.User.current();\n            if (user) {\n                ParsePush.init();\n\n                var lang = $translate.use();\n                if (lang) {\n                    $translate.use(lang);\n                    amMoment.changeLocale(lang);\n\n                                        console.log(lang);\n                } else {\n                    if (typeof navigator.globalization !== 'undefined') {\n                        $cordovaGlobalization.getPreferredLanguage().then(function (language) {\n                            $translate.use((language.value).split('-')[0]);\n                            amMoment.changeLocale(language.value);\n                        }, null);\n                    }\n                }\n\n            }\n        });\n\n\n    }\n\n    function configIonic($ionicConfigProvider) {\n        $ionicConfigProvider.platform.ios.backButton.previousTitleText(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.platform.android.backButton.previousTitleText(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.views.swipeBackEnabled(false);\n        $ionicConfigProvider.backButton.text(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.tabs.position('bottom');\n        $ionicConfigProvider.navBar.alignTitle('center');\n        $ionicConfigProvider.views.maxCache(1);\n    }\n\n    function configFacebook($facebookProvider, AppConfig) {\n        if (!window.cordova) {\n            $facebookProvider.setAppId(AppConfig.facebookAppId);\n            $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n        }\n    }\n\n    function runFacebook() {\n\n        if (!window.cordova) {\n            console.log('Facebook Browser');\n            var LangVar     = window.navigator.language || window.navigator.userLanguage;\n            var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n            (function (d, s, id) {\n                var js, fjs = d.getElementsByTagName(s)[0];\n                if (d.getElementById(id)) {return;}\n                js     = d.createElement(s);\n                js.id  = id;\n                js.src = 'http://connect.facebook.net/' + userLangVar + '/sdk.js';\n                fjs.parentNode.insertBefore(js, fjs);\n            }(document, 'script', 'facebook-jssdk'));\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('ionic').constant('AppConfig', AppConfig());\n\n    function AppConfig() {\n        return {\n            path           : 'app/module/photogram',\n            app            : {\n                name : 'Photogram',\n                url  : 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes         : {\n                home : 'tab.home',\n                login: 'intro'\n            },\n            theme : 'positive',\n            gaTrackingId   : 'UA-69485876-2',\n            facebookAppId  : '1024016557617380',\n            parse          : {\n                appId : 'myAppId',\n                server: 'https://photogram.codevibe.io/parse/',\n            },\n            map            : {\n                unit: 'mi',\n                type: 'normal',\n            },\n            locales        : [\n                {\n                    translation: 'portugues',\n                    code       : 'pt'\n                },\n                {\n                    translation: 'english',\n                    code       : 'en'\n                },\n                {\n                    translation: 'turkish',\n                    code       : 'tr'\n                },\n                {\n                    translation: 'persian',\n                    code       : 'fa'\n                },\n                {\n                    translation: 'german',\n                    code       : 'de'\n                }\n            ],\n            preferredLocale: 'en',\n            DAO            : {\n                name  : 'photogram_db',\n                tables: [\n                    {\n                        name   : 'User',\n                        columns: {\n                            id         : 'TEXT PRIMARY KEY',\n                            name       : 'TEXT',\n                            username   : 'TEXT',\n                            email      : 'TEXT',\n                            language   : 'TEXT',\n                            facebookimg: 'TEXT',\n                            gender     : 'TEXT',\n                            img        : 'TEXT',\n                            facebook   : 'INTEGER',\n                            qtdFollow  : 'INTEGER',\n                            status     : 'TEXT',\n                            createdAt  : 'INTEGER',\n                            attributes : 'TEXT'\n                        }\n                    },\n                    {\n                        name   : 'UserFollow',\n                        columns: {\n                            id      : 'TEXT PRIMARY KEY',\n                            user_id : 'TEXT',\n                            followId: 'TEXT'\n                        },\n                    },\n                    {\n                        name   : 'Gallery',\n                        columns: {\n                            id       : 'TEXT PRIMARY KEY',\n                            img      : 'TEXT',\n                            title    : 'TEXT',\n                            user_id  : 'TEXT',\n                            location : 'TEXT',\n                            isLiked  : 'BOOLEAN',\n                            likes    : 'INTEGER',\n                            createdAt: 'INTEGER'\n                        }\n                    },\n                    {\n                        name   : 'GalleryActivity',\n                        columns: {\n                            id        : 'TEXT PRIMARY KEY',\n                            action    : 'TEXT',\n                            img       : 'TEXT',\n                            userAvatar: 'TEXT',\n                            userName  : 'TEXT',\n                            user_id   : 'TEXT',\n                            gallery_id: 'TEXT',\n                            createdAt : 'INTEGER'\n                        }\n                    },\n                    {\n                        name   : 'GalleryComment',\n                        columns: {\n                            id        : 'TEXT PRIMARY KEY',\n                            name      : 'TEXT',\n                            user_id   : 'TEXT',\n                            userName  : 'TEXT',\n                            gallery_id: 'TEXT',\n                            createdAt : 'INTEGER'\n                        }\n                    },\n                    {\n                        name   : 'GallerySetting',\n                        columns: {\n                            key  : 'TEXT',\n                            value: 'TEXT'\n                        }\n                    }\n                ]\n            }\n        };\n    }\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').config(routes);\n\n    function routes($stateProvider, $urlRouterProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart('app');\n\n        $stateProvider\n\n            .state('loading', {\n                url         : '/',\n                templateUrl : 'app/main/loading/loading.html',\n                controller  : 'LoadingCtrl',\n                controllerAs: 'vm'\n            })\n\n\n            .state('intro', {\n                url         : '/intro',\n                templateUrl : 'app/main/user-intro/user-intro.html',\n                controller  : 'UserIntroCtrl',\n                controllerAs: 'vm',\n            })\n\n            .state('user.intro', {\n                url        : '/intro',\n                templateUrl: 'app/main/user-intro/user-intro.html',\n                controller : 'UserIntroCtrl'\n            })\n\n            .state('user', {\n                url        : '/user',\n                abstract   : true,\n                templateUrl: 'app/main/user-layout/user-layout.html'\n            })\n\n            .state('user.avatar', {\n                url         : '/avatar',\n                templateUrl : 'app/main/user-avatar/user-avatar.html',\n                controller  : 'UserAvatarCtrl',\n                controllerAs: 'vm'\n            })\n\n\n            .state('user.merge', {\n                url         : '/merge',\n                controller  : 'UserMergeCtrl',\n                controllerAs: 'vm',\n                templateUrl : 'app/main/user-merge/merge.html'\n            })\n\n            .state('logout', {\n                url         : '/logout',\n                template    : '<ion-view view-title=\"Logout\" cache-view=\"false\"><ion-content></ion-content></ion-view>',\n                controller  : function (User, $localStorage, AppConfig, $state) {\n                    delete window.localStorage['Parse/' + AppConfig.parse.appId + '/currentUser'];\n                    delete window.localStorage['Parse/' + AppConfig.parse.appId + '/installationId'];\n                    $localStorage.$reset({});\n                    $state.go('intro', {clear: true});\n                },\n                controllerAs: 'vm'\n            })\n\n            .state('profile', {\n                url         : '/profile/:username',\n                templateUrl : 'app/main/profile/profile.html',\n                controllerAs: 'vm',\n            })\n\n            .state('tab', {\n                url         : '/tab',\n                abstract    : true,\n                controller  : 'MainTabCtrl',\n                controllerAs: 'vm',\n                templateUrl : 'app/main/tab/main-tab.html'\n            })\n\n            .state('tab.home', {\n                url  : '/home',\n                views: {\n                    tabHome: {\n                        controller  : 'HomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-home/home.html'\n                    }\n                }\n            })\n\n            .state('tab.homeProfile', {\n                url  : '/home/:username',\n                views: {\n                    tabHome: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('galleryComments', {\n                url         : '/home/:galleryId/comments',\n                controller  : 'GalleryComment',\n                controllerAs: 'vm',\n                templateUrl : 'app/main/gallery-comment/gallery-comment.html'\n            })\n\n            .state('tab.homeGalleryLikers', {\n                url  : '/home/:galleryId/likers',\n                views: {\n                    tabHome: {\n                        controller  : 'UserLikersCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-likers/user-likers.html'\n                    }\n                }\n            })\n\n            .state('tab.homeProfileFollowers', {\n                url  : '/home/:username/followers',\n                views: {\n                    tabHome: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.homeProfileFollowing', {\n                url  : '/home/:username/follwing',\n                views: {\n                    tabHome: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n            .state('tab.homeUserlist', {\n                url  : '/home/userlist',\n                views: {\n                    tabHome: {\n                        controller  : 'UserListCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-list/user-list.html'\n                    }\n                }\n            })\n\n            .state('tab.search', {\n                url  : '/search/:text',\n                views: {\n                    tabSearch: {\n                        controller  : 'SearchCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-search/search.html',\n                    }\n                }\n            })\n\n            .state('tab.searchProfile', {\n                url  : '/search/:username',\n                views: {\n                    tabSearch: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('tab.searchProfileFollowers', {\n                url  : '/search/:username/followers',\n                views: {\n                    tabSearch: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.map', {\n                url  : '/map',\n                views: {\n                    tabSearch: {\n                        controller  : 'SearchMapCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-search-map/searchMap.html',\n                    }\n                }\n            })\n\n            .state('tab.mapProfile', {\n                url  : '/map/:username',\n                views: {\n                    tabSearch: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('tab.mapProfileFollowers', {\n                url  : '/map/:username/followers',\n                views: {\n                    tabSearch: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.mapProfileFollowing', {\n                url  : '/map/:username/follwing',\n                views: {\n                    tabActivity: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n            .state('tab.account', {\n                url  : '/account',\n                views: {\n                    tabProfile: {\n                        controller  : 'AccountCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-account/account.html'\n                    }\n                }\n            })\n\n            .state('tab.accountFollowers', {\n                url  : '/account/:username/followers',\n                views: {\n                    tabProfile: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.accountFollowing', {\n                url  : '/account/:username/follwing',\n                views: {\n                    tabProfile: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n            .state('tab.activity', {\n                url  : '/activity',\n                views: {\n                    tabActivity: {\n                        controller  : 'ActivityCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-activity/activity.html'\n                    }\n                }\n            })\n\n            .state('tab.activityProfile', {\n                url  : '/activity/:username',\n                views: {\n                    tabActivity: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('tab.activityProfileFollowers', {\n                url  : '/activity/:username/followers',\n                views: {\n                    tabActivity: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.activityProfileFollowing', {\n                url  : '/activity/:username/follwing',\n                views: {\n                    tabActivity: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n        ;\n\n        $urlRouterProvider.otherwise('/');\n\n    }\n\n\n})();\n\n\n\n\nfunction MarkerClusterer(map, opt_markers, opt_options) {\n    this.extend(MarkerClusterer, google.maps.OverlayView);\n    this.map_ = map;\n\n    this.markers_ = [];\n\n    this.clusters_ = [];\n\n    this.sizes = [53, 56, 66, 78, 90];\n\n    this.styles_ = [];\n\n    this.ready_ = false;\n\n    var options = opt_options || {};\n\n    this.gridSize_ = options['gridSize'] || 60;\n\n    this.minClusterSize_ = options['minimumClusterSize'] || 2;\n\n\n    this.maxZoom_ = options['maxZoom'] || null;\n\n    this.styles_ = options['styles'] || [];\n\n    this.imagePath_ = options['imagePath'] ||\n        this.MARKER_CLUSTER_IMAGE_PATH_;\n\n    this.imageExtension_ = options['imageExtension'] ||\n        this.MARKER_CLUSTER_IMAGE_EXTENSION_;\n\n    this.zoomOnClick_ = true;\n\n    if (options['zoomOnClick'] != undefined) {\n        this.zoomOnClick_ = options['zoomOnClick'];\n    }\n\n    this.averageCenter_ = false;\n\n    if (options['averageCenter'] != undefined) {\n        this.averageCenter_ = options['averageCenter'];\n    }\n\n    this.setupStyles_();\n\n    this.setMap(map);\n\n    this.prevZoom_ = this.map_.getZoom();\n\n    var that = this;\n    google.maps.event.addListener(this.map_, 'zoom_changed', function() {\n        var zoom = that.map_.getZoom();\n\n        if (that.prevZoom_ != zoom) {\n            that.prevZoom_ = zoom;\n            that.resetViewport();\n        }\n    });\n\n    google.maps.event.addListener(this.map_, 'idle', function() {\n        that.redraw();\n    });\n\n    if (opt_markers && opt_markers.length) {\n        this.addMarkers(opt_markers, false);\n    }\n}\n\n\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_ = '../images/m';\n\n\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_ = 'png';\n\n\nMarkerClusterer.prototype.extend = function(obj1, obj2) {\n    return (function(object) {\n        for (var property in object.prototype) {\n            this.prototype[property] = object.prototype[property];\n        }\n        return this;\n    }).apply(obj1, [obj2]);\n};\n\n\nMarkerClusterer.prototype.onAdd = function() {\n    this.setReady_(true);\n};\n\nMarkerClusterer.prototype.draw = function() {};\n\nMarkerClusterer.prototype.setupStyles_ = function() {\n    if (this.styles_.length) {\n        return;\n    }\n\n    for (var i = 0, size; size = this.sizes[i]; i++) {\n        this.styles_.push({\n            url: this.imagePath_ + (i + 1) + '.' + this.imageExtension_,\n            height: size,\n            width: size\n        });\n    }\n};\n\nMarkerClusterer.prototype.fitMapToMarkers = function() {\n    var markers = this.getMarkers();\n    var bounds = new google.maps.LatLngBounds();\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        bounds.extend(marker.getPosition());\n    }\n\n    this.map_.fitBounds(bounds);\n};\n\n\nMarkerClusterer.prototype.setStyles = function(styles) {\n    this.styles_ = styles;\n};\n\n\nMarkerClusterer.prototype.getStyles = function() {\n    return this.styles_;\n};\n\n\nMarkerClusterer.prototype.isZoomOnClick = function() {\n    return this.zoomOnClick_;\n};\n\nMarkerClusterer.prototype.isAverageCenter = function() {\n    return this.averageCenter_;\n};\n\n\nMarkerClusterer.prototype.getMarkers = function() {\n    return this.markers_;\n};\n\n\nMarkerClusterer.prototype.getTotalMarkers = function() {\n    return this.markers_.length;\n};\n\n\nMarkerClusterer.prototype.setMaxZoom = function(maxZoom) {\n    this.maxZoom_ = maxZoom;\n};\n\n\nMarkerClusterer.prototype.getMaxZoom = function() {\n    return this.maxZoom_;\n};\n\n\nMarkerClusterer.prototype.calculator_ = function(markers, numStyles) {\n    var index = 0;\n    var count = markers.length;\n    var dv = count;\n    while (dv !== 0) {\n        dv = parseInt(dv / 10, 10);\n        index++;\n    }\n\n    index = Math.min(index, numStyles);\n    return {\n        text: count,\n        index: index\n    };\n};\n\n\nMarkerClusterer.prototype.setCalculator = function(calculator) {\n    this.calculator_ = calculator;\n};\n\n\nMarkerClusterer.prototype.getCalculator = function() {\n    return this.calculator_;\n};\n\n\nMarkerClusterer.prototype.addMarkers = function(markers, opt_nodraw) {\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        this.pushMarkerTo_(marker);\n    }\n    if (!opt_nodraw) {\n        this.redraw();\n    }\n};\n\n\nMarkerClusterer.prototype.pushMarkerTo_ = function(marker) {\n    marker.isAdded = false;\n    if (marker['draggable']) {\n        var that = this;\n        google.maps.event.addListener(marker, 'dragend', function() {\n            marker.isAdded = false;\n            that.repaint();\n        });\n    }\n    this.markers_.push(marker);\n};\n\n\nMarkerClusterer.prototype.addMarker = function(marker, opt_nodraw) {\n    this.pushMarkerTo_(marker);\n    if (!opt_nodraw) {\n        this.redraw();\n    }\n};\n\n\nMarkerClusterer.prototype.removeMarker_ = function(marker) {\n    var index = -1;\n    if (this.markers_.indexOf) {\n        index = this.markers_.indexOf(marker);\n    } else {\n        for (var i = 0, m; m = this.markers_[i]; i++) {\n            if (m == marker) {\n                index = i;\n                break;\n            }\n        }\n    }\n\n    if (index == -1) {\n        return false;\n    }\n\n    marker.setMap(null);\n\n    this.markers_.splice(index, 1);\n\n    return true;\n};\n\n\nMarkerClusterer.prototype.removeMarker = function(marker, opt_nodraw) {\n    var removed = this.removeMarker_(marker);\n\n    if (!opt_nodraw && removed) {\n        this.resetViewport();\n        this.redraw();\n        return true;\n    } else {\n        return false;\n    }\n};\n\n\nMarkerClusterer.prototype.removeMarkers = function(markers, opt_nodraw) {\n    var removed = false;\n\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        var r = this.removeMarker_(marker);\n        removed = removed || r;\n    }\n\n    if (!opt_nodraw && removed) {\n        this.resetViewport();\n        this.redraw();\n        return true;\n    }\n};\n\n\nMarkerClusterer.prototype.setReady_ = function(ready) {\n    if (!this.ready_) {\n        this.ready_ = ready;\n        this.createClusters_();\n    }\n};\n\n\nMarkerClusterer.prototype.getTotalClusters = function() {\n    return this.clusters_.length;\n};\n\n\nMarkerClusterer.prototype.getMap = function() {\n    return this.map_;\n};\n\n\nMarkerClusterer.prototype.setMap = function(map) {\n    this.map_ = map;\n};\n\n\nMarkerClusterer.prototype.getGridSize = function() {\n    return this.gridSize_;\n};\n\n\nMarkerClusterer.prototype.setGridSize = function(size) {\n    this.gridSize_ = size;\n};\n\n\nMarkerClusterer.prototype.getMinClusterSize = function() {\n    return this.minClusterSize_;\n};\n\nMarkerClusterer.prototype.setMinClusterSize = function(size) {\n    this.minClusterSize_ = size;\n};\n\n\nMarkerClusterer.prototype.getExtendedBounds = function(bounds) {\n    var projection = this.getProjection();\n\n    var tr = new google.maps.LatLng(bounds.getNorthEast().lat(),\n        bounds.getNorthEast().lng());\n    var bl = new google.maps.LatLng(bounds.getSouthWest().lat(),\n        bounds.getSouthWest().lng());\n\n    var trPix = projection.fromLatLngToDivPixel(tr);\n    trPix.x += this.gridSize_;\n    trPix.y -= this.gridSize_;\n\n    var blPix = projection.fromLatLngToDivPixel(bl);\n    blPix.x -= this.gridSize_;\n    blPix.y += this.gridSize_;\n\n    var ne = projection.fromDivPixelToLatLng(trPix);\n    var sw = projection.fromDivPixelToLatLng(blPix);\n\n    bounds.extend(ne);\n    bounds.extend(sw);\n\n    return bounds;\n};\n\n\nMarkerClusterer.prototype.isMarkerInBounds_ = function(marker, bounds) {\n    return bounds.contains(marker.getPosition());\n};\n\n\nMarkerClusterer.prototype.clearMarkers = function() {\n    this.resetViewport(true);\n\n    this.markers_ = [];\n};\n\n\nMarkerClusterer.prototype.resetViewport = function(opt_hide) {\n    for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n        cluster.remove();\n    }\n\n    for (var i = 0, marker; marker = this.markers_[i]; i++) {\n        marker.isAdded = false;\n        if (opt_hide) {\n            marker.setMap(null);\n        }\n    }\n\n    this.clusters_ = [];\n};\n\nMarkerClusterer.prototype.repaint = function() {\n    var oldClusters = this.clusters_.slice();\n    this.clusters_.length = 0;\n    this.resetViewport();\n    this.redraw();\n\n    window.setTimeout(function() {\n        for (var i = 0, cluster; cluster = oldClusters[i]; i++) {\n            cluster.remove();\n        }\n    }, 0);\n};\n\n\nMarkerClusterer.prototype.redraw = function() {\n    this.createClusters_();\n};\n\n\nMarkerClusterer.prototype.distanceBetweenPoints_ = function(p1, p2) {\n    if (!p1 || !p2) {\n        return 0;\n    }\n\n    var R = 6371; \n    var dLat = (p2.lat() - p1.lat()) * Math.PI / 180;\n    var dLon = (p2.lng() - p1.lng()) * Math.PI / 180;\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.cos(p1.lat() * Math.PI / 180) * Math.cos(p2.lat() * Math.PI / 180) *\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c;\n    return d;\n};\n\n\nMarkerClusterer.prototype.addToClosestCluster_ = function(marker) {\n    var distance = 40000; \n    var clusterToAddTo = null;\n    var pos = marker.getPosition();\n    for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n        var center = cluster.getCenter();\n        if (center) {\n            var d = this.distanceBetweenPoints_(center, marker.getPosition());\n            if (d < distance) {\n                distance = d;\n                clusterToAddTo = cluster;\n            }\n        }\n    }\n\n    if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n        clusterToAddTo.addMarker(marker);\n    } else {\n        var cluster = new Cluster(this);\n        cluster.addMarker(marker);\n        this.clusters_.push(cluster);\n    }\n};\n\n\nMarkerClusterer.prototype.createClusters_ = function() {\n    if (!this.ready_) {\n        return;\n    }\n\n    var mapBounds = new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),\n        this.map_.getBounds().getNorthEast());\n    var bounds = this.getExtendedBounds(mapBounds);\n\n    for (var i = 0, marker; marker = this.markers_[i]; i++) {\n        if (!marker.isAdded && this.isMarkerInBounds_(marker, bounds)) {\n            this.addToClosestCluster_(marker);\n        }\n    }\n};\n\n\nfunction Cluster(markerClusterer) {\n    this.markerClusterer_ = markerClusterer;\n    this.map_ = markerClusterer.getMap();\n    this.gridSize_ = markerClusterer.getGridSize();\n    this.minClusterSize_ = markerClusterer.getMinClusterSize();\n    this.averageCenter_ = markerClusterer.isAverageCenter();\n    this.center_ = null;\n    this.markers_ = [];\n    this.bounds_ = null;\n    this.clusterIcon_ = new ClusterIcon(this, markerClusterer.getStyles(),\n        markerClusterer.getGridSize());\n}\n\nCluster.prototype.isMarkerAlreadyAdded = function(marker) {\n    if (this.markers_.indexOf) {\n        return this.markers_.indexOf(marker) != -1;\n    } else {\n        for (var i = 0, m; m = this.markers_[i]; i++) {\n            if (m == marker) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\n\n\nCluster.prototype.addMarker = function(marker) {\n    if (this.isMarkerAlreadyAdded(marker)) {\n        return false;\n    }\n\n    if (!this.center_) {\n        this.center_ = marker.getPosition();\n        this.calculateBounds_();\n    } else {\n        if (this.averageCenter_) {\n            var l = this.markers_.length + 1;\n            var lat = (this.center_.lat() * (l-1) + marker.getPosition().lat()) / l;\n            var lng = (this.center_.lng() * (l-1) + marker.getPosition().lng()) / l;\n            this.center_ = new google.maps.LatLng(lat, lng);\n            this.calculateBounds_();\n        }\n    }\n\n    marker.isAdded = true;\n    this.markers_.push(marker);\n\n    var len = this.markers_.length;\n    if (len < this.minClusterSize_ && marker.getMap() != this.map_) {\n        marker.setMap(this.map_);\n    }\n\n    if (len == this.minClusterSize_) {\n        for (var i = 0; i < len; i++) {\n            this.markers_[i].setMap(null);\n        }\n    }\n\n    if (len >= this.minClusterSize_) {\n        marker.setMap(null);\n    }\n\n    this.updateIcon();\n    return true;\n};\n\n\nCluster.prototype.getMarkerClusterer = function() {\n    return this.markerClusterer_;\n};\n\n\nCluster.prototype.getBounds = function() {\n    var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n    var markers = this.getMarkers();\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        bounds.extend(marker.getPosition());\n    }\n    return bounds;\n};\n\n\nCluster.prototype.remove = function() {\n    this.clusterIcon_.remove();\n    this.markers_.length = 0;\n    delete this.markers_;\n};\n\n\nCluster.prototype.getSize = function() {\n    return this.markers_.length;\n};\n\n\nCluster.prototype.getMarkers = function() {\n    return this.markers_;\n};\n\n\nCluster.prototype.getCenter = function() {\n    return this.center_;\n};\n\n\nCluster.prototype.calculateBounds_ = function() {\n    var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n    this.bounds_ = this.markerClusterer_.getExtendedBounds(bounds);\n};\n\n\nCluster.prototype.isMarkerInClusterBounds = function(marker) {\n    return this.bounds_.contains(marker.getPosition());\n};\n\n\nCluster.prototype.getMap = function() {\n    return this.map_;\n};\n\n\nCluster.prototype.updateIcon = function() {\n    var zoom = this.map_.getZoom();\n    var mz = this.markerClusterer_.getMaxZoom();\n\n    if (mz && zoom > mz) {\n        for (var i = 0, marker; marker = this.markers_[i]; i++) {\n            marker.setMap(this.map_);\n        }\n        return;\n    }\n\n    if (this.markers_.length < this.minClusterSize_) {\n        this.clusterIcon_.hide();\n        return;\n    }\n\n    var numStyles = this.markerClusterer_.getStyles().length;\n    var sums = this.markerClusterer_.getCalculator()(this.markers_, numStyles);\n    this.clusterIcon_.setCenter(this.center_);\n    this.clusterIcon_.setSums(sums);\n    this.clusterIcon_.show();\n};\n\n\nfunction ClusterIcon(cluster, styles, opt_padding) {\n    cluster.getMarkerClusterer().extend(ClusterIcon, google.maps.OverlayView);\n\n    this.styles_ = styles;\n    this.padding_ = opt_padding || 0;\n    this.cluster_ = cluster;\n    this.center_ = null;\n    this.map_ = cluster.getMap();\n    this.div_ = null;\n    this.sums_ = null;\n    this.visible_ = false;\n\n    this.setMap(this.map_);\n}\n\n\nClusterIcon.prototype.triggerClusterClick = function(event) {\n    var markerClusterer = this.cluster_.getMarkerClusterer();\n\n    google.maps.event.trigger(markerClusterer, 'clusterclick', this.cluster_, event);\n\n    if (markerClusterer.isZoomOnClick()) {\n        this.map_.fitBounds(this.cluster_.getBounds());\n    }\n};\n\n\nClusterIcon.prototype.onAdd = function() {\n    this.div_ = document.createElement('DIV');\n    if (this.visible_) {\n        var pos = this.getPosFromLatLng_(this.center_);\n        this.div_.style.cssText = this.createCss(pos);\n        this.div_.innerHTML = this.sums_.text;\n    }\n\n    var panes = this.getPanes();\n    panes.overlayMouseTarget.appendChild(this.div_);\n\n    var that = this;\n    var isDragging = false;\n    google.maps.event.addDomListener(this.div_, 'click', function(event) {\n        if (!isDragging) {\n            that.triggerClusterClick(event);\n        }\n    });\n    google.maps.event.addDomListener(this.div_, 'mousedown', function() {\n        isDragging = false;\n    });\n    google.maps.event.addDomListener(this.div_, 'mousemove', function() {\n        isDragging = true;\n    });\n};\n\n\nClusterIcon.prototype.getPosFromLatLng_ = function(latlng) {\n    var pos = this.getProjection().fromLatLngToDivPixel(latlng);\n\n    if (typeof this.iconAnchor_ === 'object' && this.iconAnchor_.length === 2) {\n        pos.x -= this.iconAnchor_[0];\n        pos.y -= this.iconAnchor_[1];\n    } else {\n        pos.x -= parseInt(this.width_ / 2, 10);\n        pos.y -= parseInt(this.height_ / 2, 10);\n    }\n    return pos;\n};\n\n\nClusterIcon.prototype.draw = function() {\n    if (this.visible_) {\n        var pos = this.getPosFromLatLng_(this.center_);\n        this.div_.style.top = pos.y + 'px';\n        this.div_.style.left = pos.x + 'px';\n    }\n};\n\n\nClusterIcon.prototype.hide = function() {\n    if (this.div_) {\n        this.div_.style.display = 'none';\n    }\n    this.visible_ = false;\n};\n\n\nClusterIcon.prototype.show = function() {\n    if (this.div_) {\n        var pos = this.getPosFromLatLng_(this.center_);\n        this.div_.style.cssText = this.createCss(pos);\n        this.div_.style.display = '';\n    }\n    this.visible_ = true;\n};\n\n\nClusterIcon.prototype.remove = function() {\n    this.setMap(null);\n};\n\n\nClusterIcon.prototype.onRemove = function() {\n    if (this.div_ && this.div_.parentNode) {\n        this.hide();\n        this.div_.parentNode.removeChild(this.div_);\n        this.div_ = null;\n    }\n};\n\n\nClusterIcon.prototype.setSums = function(sums) {\n    this.sums_ = sums;\n    this.text_ = sums.text;\n    this.index_ = sums.index;\n    if (this.div_) {\n        this.div_.innerHTML = sums.text;\n    }\n\n    this.useStyle();\n};\n\n\nClusterIcon.prototype.useStyle = function() {\n    var index = Math.max(0, this.sums_.index - 1);\n    index = Math.min(this.styles_.length - 1, index);\n    var style = this.styles_[index];\n    this.url_ = style['url'];\n    this.height_ = style['height'];\n    this.width_ = style['width'];\n    this.textColor_ = style['textColor'];\n    this.anchor_ = style['anchor'];\n    this.textSize_ = style['textSize'];\n    this.backgroundPosition_ = style['backgroundPosition'];\n    this.iconAnchor_ = style['iconAnchor'];\n};\n\n\nClusterIcon.prototype.setCenter = function(center) {\n    this.center_ = center;\n};\n\n\nClusterIcon.prototype.createCss = function(pos) {\n    var style = [];\n    style.push('background-image:url(' + this.url_ + ');');\n    var backgroundPosition = this.backgroundPosition_ ? this.backgroundPosition_ : '0 0';\n    style.push('background-position:' + backgroundPosition + ';');\n\n    if (typeof this.anchor_ === 'object') {\n        if (typeof this.anchor_[0] === 'number' && this.anchor_[0] > 0 &&\n            this.anchor_[0] < this.height_) {\n            style.push('height:' + (this.height_ - this.anchor_[0]) +\n                'px; padding-top:' + this.anchor_[0] + 'px;');\n        } else if (typeof this.anchor_[0] === 'number' && this.anchor_[0] < 0 &&\n            -this.anchor_[0] < this.height_) {\n            style.push('height:' + this.height_ + 'px; line-height:' + (this.height_ + this.anchor_[0]) +\n                'px;');\n        } else {\n            style.push('height:' + this.height_ + 'px; line-height:' + this.height_ +\n                'px;');\n        }\n        if (typeof this.anchor_[1] === 'number' && this.anchor_[1] > 0 &&\n            this.anchor_[1] < this.width_) {\n            style.push('width:' + (this.width_ - this.anchor_[1]) +\n                'px; padding-left:' + this.anchor_[1] + 'px;');\n        } else {\n            style.push('width:' + this.width_ + 'px; text-align:center;');\n        }\n    } else {\n        style.push('height:' + this.height_ + 'px; line-height:' +\n            this.height_ + 'px; width:' + this.width_ + 'px; text-align:center;');\n    }\n\n    var txtColor = this.textColor_ ? this.textColor_ : 'black';\n    var txtSize = this.textSize_ ? this.textSize_ : 11;\n\n    style.push('cursor:pointer; top:' + pos.y + 'px; left:' +\n        pos.x + 'px; color:' + txtColor + '; position:absolute; font-size:' +\n        txtSize + 'px; font-family:Arial,sans-serif; font-weight:bold');\n    return style.join('');\n};\n\n\nwindow['MarkerClusterer'] = MarkerClusterer;\nMarkerClusterer.prototype['addMarker'] = MarkerClusterer.prototype.addMarker;\nMarkerClusterer.prototype['addMarkers'] = MarkerClusterer.prototype.addMarkers;\nMarkerClusterer.prototype['clearMarkers'] =\n    MarkerClusterer.prototype.clearMarkers;\nMarkerClusterer.prototype['fitMapToMarkers'] =\n    MarkerClusterer.prototype.fitMapToMarkers;\nMarkerClusterer.prototype['getCalculator'] =\n    MarkerClusterer.prototype.getCalculator;\nMarkerClusterer.prototype['getGridSize'] =\n    MarkerClusterer.prototype.getGridSize;\nMarkerClusterer.prototype['getExtendedBounds'] =\n    MarkerClusterer.prototype.getExtendedBounds;\nMarkerClusterer.prototype['getMap'] = MarkerClusterer.prototype.getMap;\nMarkerClusterer.prototype['getMarkers'] = MarkerClusterer.prototype.getMarkers;\nMarkerClusterer.prototype['getMaxZoom'] = MarkerClusterer.prototype.getMaxZoom;\nMarkerClusterer.prototype['getStyles'] = MarkerClusterer.prototype.getStyles;\nMarkerClusterer.prototype['getTotalClusters'] =\n    MarkerClusterer.prototype.getTotalClusters;\nMarkerClusterer.prototype['getTotalMarkers'] =\n    MarkerClusterer.prototype.getTotalMarkers;\nMarkerClusterer.prototype['redraw'] = MarkerClusterer.prototype.redraw;\nMarkerClusterer.prototype['removeMarker'] =\n    MarkerClusterer.prototype.removeMarker;\nMarkerClusterer.prototype['removeMarkers'] =\n    MarkerClusterer.prototype.removeMarkers;\nMarkerClusterer.prototype['resetViewport'] =\n    MarkerClusterer.prototype.resetViewport;\nMarkerClusterer.prototype['repaint'] =\n    MarkerClusterer.prototype.repaint;\nMarkerClusterer.prototype['setCalculator'] =\n    MarkerClusterer.prototype.setCalculator;\nMarkerClusterer.prototype['setGridSize'] =\n    MarkerClusterer.prototype.setGridSize;\nMarkerClusterer.prototype['setMaxZoom'] =\n    MarkerClusterer.prototype.setMaxZoom;\nMarkerClusterer.prototype['onAdd'] = MarkerClusterer.prototype.onAdd;\nMarkerClusterer.prototype['draw'] = MarkerClusterer.prototype.draw;\n\nCluster.prototype['getCenter'] = Cluster.prototype.getCenter;\nCluster.prototype['getSize'] = Cluster.prototype.getSize;\nCluster.prototype['getMarkers'] = Cluster.prototype.getMarkers;\n\nClusterIcon.prototype['onAdd'] = ClusterIcon.prototype.onAdd;\nClusterIcon.prototype['draw'] = ClusterIcon.prototype.draw;\nClusterIcon.prototype['onRemove'] = ClusterIcon.prototype.onRemove;\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('signinModal', signinModalDirective);\n\n    function signinModalDirective($ionicModal, Loading, User, $translate, $state, Toast, $ionicPopup, AppConfig, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : signinModalLink,\n        };\n\n        function signinModalLink($scope, elem, attr) {\n            elem.bind('click', function () {\n\n                $scope.routeLogged = AppConfig.routes.home;\n\n                $scope.form = {\n                    username: '',\n                    password: ''\n                };\n\n                $scope.submitLogin = function (rForm, data) {\n                    var form = angular.copy(data);\n                    if (rForm.$valid) {\n                        Loading.start();\n                        User.signIn(form).then(function (data) {\n                            console.log(data);\n                            $rootScope.currentUser = data;\n                            $state.go($scope.routeLogged, {\n                                clear: true\n                            });\n                            $scope.closeModal();\n                            $rootScope.$emit('photolist:reload', true);\n                            Loading.end();\n                        }).catch(function (resp) {\n                            Toast.alert({\n                                title: 'Error',\n                                text : $translate.instant('incorrectEmail')\n                            });\n                            Loading.end();\n                        });\n                    } else {\n                        return false;\n                    }\n                };\n\n\n                $scope.forgotPass = function () {\n\n                    $scope.data = {};\n                    $ionicPopup.show({\n                        template: '<input type=\"email\" ng-model=\"data.email\">',\n                        title   : $translate.instant('recoveryPass'),\n                        subTitle: $translate.instant('fillEmail'),\n                        scope   : $scope,\n                        buttons : [\n                            {text: $translate.instant('cancel')},\n                            {\n                                text : '<b >' + $translate.instant('submit') + '</b>',\n                                type : 'button-positive',\n                                onTap: function (e) {\n                                    if (!$scope.data.email) {\n                                        e.preventDefault();\n                                    } else {\n                                        Loading.start();\n                                        User.recoverPassword($scope.data.email).then(function (resp) {\n                                            Toast.alert({\n                                                title: 'Alert',\n                                                text : $translate.instant('recoverySuccess')\n                                            });\n                                            Loading.end();\n                                        });\n                                    }\n                                }\n                            }\n                        ]\n                    });\n\n                };\n\n                $ionicModal.fromTemplateUrl('app/directive/SigninModalDirective.html', {\n                    scope          : $scope,\n                    animation      : 'slide-in-up',\n                    focusFirstInput: true,\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n            });\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('signupModal', signupModalDirective);\n\n    function signupModalDirective(AppConfig, Loading, User, $state, Toast, $ionicModal, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : signupModalLink,\n        };\n\n        function signupModalLink($scope, elem, attr) {\n            elem.bind('click', function () {\n\n                $scope.routeLogged = AppConfig.routes.home;\n\n                $scope.form = {\n                    username: '',\n                    email   : '',\n                    password: ''\n                };\n\n                $scope.submitRegister = function (rForm, data) {\n                    if (rForm.$valid) {\n                        Loading.start();\n                        var form = angular.copy(data);\n                        User.signUp(form).then(function (resp) {\n                            console.log(resp);\n\n                            User.signIn({\n                                username: form.username,\n                                password: form.password\n                            }).then(function (data) {\n                                console.log(data);\n                                $rootScope.currentUser = Parse.User.current();\n                                $state.go('user.avatar', {\n                                    clear: true\n                                });\n                                Loading.end();\n                                $rootScope.$emit('photolist:reload', true);\n                                $scope.closeModal();\n                            }).catch(function (resp) {\n                                console.log(resp);\n                                Toast.alert({\n                                    title: 'Alert',\n                                    text : resp.error\n                                });\n                                Loading.end();\n                            });\n                        }).catch(function (resp) {\n                            console.log(resp);\n                            Toast.alert({\n                                title: 'Alert',\n                                text : resp.error\n                            });\n                            Loading.end();\n                        });\n                    }\n\n\n                };\n\n                $ionicModal.fromTemplateUrl('app/directive/SignupModalDirective.html', {\n                    scope          : $scope,\n                    animation      : 'slide-in-up',\n                    focusFirstInput: true,\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n            });\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('albumGrid', albumGridDirective);\n\n    function albumGridDirective(GalleryAlbum, $rootScope) {\n\n        return {\n            restrict   : 'E',\n            scope      : {\n                username: '=',\n                user    : '=',\n                profile : '=',\n                onReload: '=',\n            },\n            templateUrl: 'app/directive/albumGridDirective.html',\n            link       : albumGridLink\n        };\n\n        function albumGridLink($scope, elem, attr) {\n            $scope.canEdit = ($scope.username === Parse.User.current().username) ? true : false;\n\n            init();\n\n            if ($scope.username) {\n                $scope.params.username = $scope.username;\n            }\n\n\n            $rootScope.$on('photoInclude', function (elem, item) {\n                if (item.objectId) {\n                    item.id = item.objectId;\n                }\n                $scope.data.unshift(item);\n            });\n\n\n            $rootScope.$on('gallery:search', function (elem, item) {\n                console.log(elem, item);\n                $scope.params.search = item.text;\n                $scope.onReload();\n            });\n\n            $rootScope.$on('albumGrid:reload', function (elem, item) {\n                init();\n                $scope.onReload();\n            });\n\n\n            loadFeed();\n\n            function loadFeed() {\n                if ($scope.loading) return;\n                $scope.loading = true;\n                GalleryAlbum.list($scope.params).then(function (data) {\n\n                    if ($scope.canEdit) {\n                        if (!_.some($scope.data, {create: true})) {\n                            $scope.data.push({\n                                create: true\n                            });\n                        }\n                    }\n\n                    if (data.length > 0) {\n                        $scope.params.page++;\n                        data.map(function (item) {\n                            $scope.data.push(item);\n                        });\n                    } else {\n                        if ($scope.data.length === 0) {\n                            $scope.showEmptyView = true;\n                        }\n                        $scope.moreDataCanBeLoaded = false;\n                    }\n\n                    $scope.loading = false;\n                    $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                    $rootScope.$broadcast('scroll.refreshComplete');\n\n                }).catch(function () {\n                    if ($scope.data.length === 0) {\n                        $scope.showErrorView = true;\n                    }\n                    $scope.$broadcast('scroll.refreshComplete');\n                });\n            }\n\n            $scope.onLoadMore = function () {\n                loadFeed();\n            };\n\n            $scope.onReload = function () {\n                init()\n                loadFeed();\n                $scope.$broadcast('scroll.refreshComplete');\n            };\n\n            function init() {\n                $scope.params              = {};\n                $scope.params.page         = 1;\n                $scope.data                = [];\n                $scope.moreDataCanBeLoaded = true;\n                $scope.loading             = false;\n            }\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('albumPhotoGrid', albumPhotoGridDirective);\n\n    function albumPhotoGridDirective(AppConfig, Gallery, GalleryAlbum, Dialog, $rootScope, PhotoService, Loading, ParseFile, $translate, Toast, $ionicModal, $ionicPopover) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                album: '=',\n                edit : '='\n            },\n            link    : albumPhotoGridCtrl\n        };\n\n        function albumPhotoGridCtrl($scope, elem, attr) {\n\n            elem.bind('click', function () {\n                $scope.theme   = AppConfig.theme;\n                $scope.canEdit = $scope.edit;\n\n                if (!$scope.album) {\n                    return false;\n                }\n                $ionicModal.fromTemplateUrl('app/directive/albumPhotoGridDirective.html', {\n                    scope: $scope,\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.closeAlbumPhotoGridModal = function () {\n                    $scope.modal.hide();\n                };\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n\n                $rootScope.$on('photogrid:modal:reload', init);\n\n                function init() {\n                    $scope.loading = true;\n                    Gallery.getAlbum({id: $scope.album}).then(function (data) {\n                        console.log(data);\n                        $scope.title   = data.album.attributes.title;\n                        $scope.data    = data.photos;\n                        $scope.loading = false;\n                    });\n                }\n\n                init();\n\n\n                $scope.openPopover  = function ($event) {\n                    $ionicPopover.fromTemplateUrl('app/directive/albumPhotoGridPopover.html', {\n                        scope: $scope\n                    }).then(function (popover) {\n                        $scope.popover = popover;\n                        $scope.popover.show($event);\n                    });\n                };\n                $scope.closePopover = function () {\n                    $scope.popover.hide();\n                };\n\n                $scope.uploadPhoto = function () {\n                    $scope.closePopover();\n                    PhotoService.open().then(PhotoService.modalPost).then(function (form) {\n                        Loading.start();\n                        ParseFile.upload({base64: form.image}).then(function (imageUploaded) {\n                            form.image = imageUploaded;\n                            Gallery.create(form).then(function (item) {\n                                $scope.$emit('albumGrid:reload', item);\n                                init();\n                                Loading.end();\n                            });\n                        });\n                    });\n                    $scope.closePopover();\n                };\n\n                $scope.editAlbum = function () {\n                    $scope.closePopover();\n                    $scope.form = {\n                        title      : '',\n                        description: ''\n                    };\n\n\n                    $ionicModal.fromTemplateUrl('app/directive/galleryNewAlbumModalDirective.html', {\n                        scope          : $scope,\n                        focusFirstInput: true\n                    }).then(function (modal) {\n                        $scope.modalAlbum = modal;\n\n                        Loading.start();\n                        GalleryAlbum.get($scope.album).then(function (album) {\n                            $scope.form = album;\n                            $scope.modalAlbum.show();\n                            Loading.end();\n                        });\n                    });\n                    $scope.createAlbum = function (rForm, form) {\n                        console.log(rForm, form);\n                        if (rForm.$valid) {\n                            $scope.form.save().then(function (data) {\n                                console.log(data);\n                                $scope.closeAlbumPhotoGridModal();\n                                $scope.closeModal();\n                                $rootScope.$emit('albumGrid:reload', true);\n                            });\n                        }\n                    };\n\n                    $scope.closeModal = function () {\n                        $scope.modalAlbum.hide();\n                    };\n                };\n\n                $scope.deleteAlbum = function () {\n                    $scope.closePopover();\n                    Dialog.confirm({\n                        title  : $translate.instant('deleteAlbum'),\n                        message: $translate.instant('areSure?')\n                    }).then(function (resp) {\n                        console.log(resp);\n                        if (resp) {\n                            Loading.start();\n                            GalleryAlbum.get($scope.album).then(function (item) {\n                                GalleryAlbum.destroy(item).then(function (resp) {\n                                    console.log(resp);\n                                    $scope.closeAlbumPhotoGridModal();\n                                    Loading.end();\n                                    Toast.alert({\n                                        title: $translate.instant('album'),\n                                        text : $translate.instant('removedSuccess')\n                                    });\n                                    $rootScope.$emit('albumGrid:reload', true);\n                                });\n                            })\n                        }\n                    });\n                };\n\n\n            });\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .directive('buy', buyDirective);\n\n    function buyDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            link: buyLink\n        };\n\n        function buyLink(scope, elem) {\n            elem.bind('click', function () {\n                var url     = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S';\n\n                if(window.cordova ) {\n                    cordova\n                        .ThemeableBrowser\n                        .open(url, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#333333',\n                                showPageTitle: true\n                            },\n                            closeButton: {\n                                image: 'close',\n                                imagePressed: 'close_pressed',\n                                align: 'left',\n                                event: 'closePressed'\n                            },\n                            backButtonCanClose: true\n                        });\n                } else {\n                    window.open(url,'_blank');\n                }\n            });\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('compareTo', compareToDirective);\n\n    function compareToDirective() {\n        return {\n            restrict: 'A',\n            scope   : {\n                targetModel: '=compareTo'\n            },\n            require : 'ngModel',\n            link    : function postLink(scope, element, attrs, ctrl) {\n\n                var compare = function () {\n\n                    var e1 = element.val();\n                    var e2 = scope.targetModel;\n\n                    if (e2 !== null) {\n                        return e1 === e2;\n                    }\n\n                    return false;\n                };\n\n                scope.$watch(compare, function (newValue) {\n                    ctrl.$setValidity('errorCompareTo', newValue);\n                });\n\n            }\n        };\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('distanceModal', distanceModalDirective);\n\n    function distanceModalDirective($localStorage, $ionicModal) {\n        return {\n            restrict: 'A',\n            link    : distanceModalLink\n        };\n\n        function distanceModalLink($scope, elem, attr) {\n\n            elem.bind('click', function () {\n                    $scope.storage   = $localStorage;\n                    $scope.distances = [\n                        {\n                            val : 0.20,\n                            text: 'perto'\n                        },\n                        {\n                            val : 0.60,\n                            text: 'longe'\n                        },\n                        {\n                            val : 1.00,\n                            text: '1 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 5.00,\n                            text: '5 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 10.00,\n                            text: '10 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 25.00,\n                            text: '25 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 50.00,\n                            text: '50 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 100.00,\n                            text: '100 ' + $scope.storage.unit\n                        },\n                    ];\n\n                    $ionicModal.fromTemplateUrl('app/directive/distanceModal.html', {\n                        scope: $scope\n                    }).then(function (modal) {\n                        $scope.modal = modal;\n                        $scope.modal.show();\n\n                    });\n\n                    $scope.onDistanceSelected = function (distance) {\n                        console.log('Distance', distance);\n                    };\n\n                    $scope.closeDistanceModal = function () {\n                        $scope.modal.hide();\n                        $scope.modal.remove();\n                    };\n\n\n                }\n            );\n        }\n    }\n\n})\n();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('emailValidator', emailValidatorDirective);\n\n    function emailValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            link    : emailValidatorLink,\n        };\n\n        function emailValidatorLink(scope, elem, attr,ngModel) {\n            ngModel.$asyncValidators.email = function  (modelValue, viewValue) {\n                console.log(viewValue);\n                if(viewValue) {\n                    return User.validateEmail(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective(Loading, $state, $translate, AppConfig, Facebook, Dialog, User, $rootScope) {\n        return {\n            restrict: 'E',\n            link    : facebookLoginLink,\n            template: '<button class=\"button button-block button-facebook\"><i class=\"icon ion-social-facebook\"></i> <ion-spinner ng-if=\"loading\"></ion-spinner> <span ng-if=\"!loading\">{{ me.name || \\'loginWithFacebook\\'| translate}}</span> </button>',\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            scope.facebookStatus = null;\n\n            elem.bind('click', onLoginViaFacebook);\n\n\n            function onLoginViaFacebook() {\n\n                Facebook.getCurrentUser().then(function (response) {\n\n                    if (response.status === 'connected') {\n                        processFacebookLogin(response);\n                    } else {\n                        Facebook.logIn().then(function (authData) {\n                            processFacebookLogin(authData);\n                        });\n                    }\n                });\n            }\n\n            function processFacebookLogin(fbAuthData) {\n\n                Loading.start('Conectando com o Facebook')\n                var fbData, newUser;\n\n                return Facebook.me().then(function (data) {\n                    fbData = data;\n                    return User.findByEmail(data.email);\n                }).then(function (user) {\n                    console.log(user);\n\n                    if (!user.id) {\n                        newUser = true;\n                        return User.signInViaFacebook(fbAuthData);\n                    }\n\n                    var authData = user.get('authData');\n                    console.log(authData.facebook.id, fbData.id);\n\n                    if (authData) {\n                        if (authData.facebook.id === fbData.id) {\n                            return User.signInViaFacebook(fbAuthData);\n                        }\n                    } else {\n                        var deferred = $q.defer();\n                        deferred.reject('Facebook error');\n                        return deferred.promise;\n                    }\n                }).then(function () {\n                    return User.updateWithFacebookData(fbData);\n                }).then(function (user) {\n                    console.log(user, user.attributes);\n                    $rootScope.currentUser = user;\n                    $rootScope.$broadcast('onUserLogged');\n                    Loading.end();\n                    if (newUser) {\n                        $state.go('app.profile', {clear: true})\n                    } else {\n                        $state.go(AppConfig.routes.home, {clear: true});\n                    }\n                    Loading.end();\n                }, function (error) {\n                    console.info(error);\n                    Loading.end();\n                    Dialog.alert(error);\n                })\n            }\n\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').directive('focusMe', focusMeDirective);\n\n    function focusMeDirective($timeout, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : function (scope, element, attrs) {\n\n                $rootScope.$on('openKeyboard', openKeyboard);\n\n                openKeyboard();\n\n                function openKeyboard() {\n                    $timeout(function () {\n                        element[0].focus();\n                        element[0].click();\n                        if (window.cordova) {\n                            cordova.plugins.Keyboard.show();\n                        }\n                    }, 750);\n                }\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('galleryAlbumModal', galleryAlbumModalDirective);\n\n    function galleryAlbumModalDirective($ionicModal, AppConfig, $q, GalleryAlbum, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : galleryAlbumModalLink,\n            scope   : {\n                ngModel: '='\n            }\n        };\n\n        function galleryAlbumModalLink($scope, elem, attr) {\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n                var defer = $q.defer();\n\n                $scope.loading = true;\n                $scope.theme = AppConfig.theme;\n\n\n                init();\n                loadFeed();\n\n                function loadFeed() {\n                    if ($scope.loading) return;\n                    $scope.loading = true;\n                    GalleryAlbum.list($scope.params).then(function (data) {\n                        console.log(data);\n                        if (data.length > 0) {\n                            $scope.params.page++;\n                            data.map(function (item) {\n                                $scope.data.push(item);\n                            });\n                        } else {\n                            if ($scope.data.length === 0) {\n                                $scope.showEmptyView = true;\n                            }\n                            $scope.moreDataCanBeLoaded = false;\n                        }\n\n                        $scope.loading = false;\n                        $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                        $rootScope.$broadcast('scroll.refreshComplete');\n\n                    }).catch(function (err) {\n                        if ($scope.data.length === 0) {\n                            $scope.showErrorView = true;\n                        }\n                        $scope.$broadcast('scroll.refreshComplete');\n                    });\n                }\n\n                $scope.onLoadMore = function () {\n                    loadFeed();\n                };\n\n                $scope.onReload = function () {\n                    init()\n                    loadFeed();\n                    $scope.$broadcast('scroll.refreshComplete');\n                };\n\n                function init() {\n                    $scope.params              = {};\n                    $scope.params.page         = 1;\n                    $scope.data                = [];\n                    $scope.moreDataCanBeLoaded = true;\n                    $scope.loading             = false;\n\n                    if ($scope.canEdit) {\n                        $scope.data.push({\n                            create: true\n                        });\n                    }\n                }\n\n                $ionicModal.fromTemplateUrl('app/directive/galleryAlbumModalDirective.html', {\n                    scope          : $scope,\n                    focusFirstInput: true\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $rootScope.$on('selectAlbum', function (event, album) {\n                    console.log('selectAlbum', event);\n                    console.log('selectAlbum', album);\n                    $scope.ngModel = album;\n                    $scope.closeModal();\n                });\n\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n\n                $scope.selectAlbum = function (album) {\n                    $scope.ngModel = album;\n                    $scope.closeModal();\n                };\n\n                return defer.promise;\n            }\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('galleryNewAlbumModal', galleryNewAlbumModalDirective);\n\n    function galleryNewAlbumModalDirective($ionicModal, $q, $rootScope, GalleryAlbum) {\n        return {\n            restrict: 'A',\n            link    : galleryNewAlbumModalLink,\n            scope   : {\n                ngModel: '='\n            }\n        };\n\n        function galleryNewAlbumModalLink($scope, elem, attr) {\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n                var defer = $q.defer();\n\n                $scope.form = {\n                    title      : '',\n                    description: ''\n                };\n\n\n                $ionicModal.fromTemplateUrl('app/directive/galleryNewAlbumModalDirective.html', {\n                    scope          : $scope,\n                    focusFirstInput: true\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.createAlbum = function (rForm, form) {\n                    console.log(rForm, form);\n                    if (rForm.$valid) {\n                        GalleryAlbum.create(angular.copy(form)).then(function (album) {\n                            console.log('album created', album);\n                            $scope.ngModel = album;\n                            $scope.closeModal();\n                            $rootScope.$emit('selectAlbum', album);\n                            $rootScope.$emit('albumGrid:reload', album);\n                        });\n                    } else {\n\n                    }\n                };\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n\n                $scope.selectAlbum = function (album) {\n                    $scope.ngModel = album;\n                    $scope.closeModal();\n                };\n\n                return defer.promise;\n            }\n\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n angular\n    .module('starter')\n    .directive('heart', heartDirective);\n\n  function heartDirective() {\n    return {\n      restrict: 'A',\n      scope: {\n        item: '='\n      },\n      link: heartLink\n    };\n\n    function heartLink(scope, elem, attr) {\n      elem.bind('click', function () {\n        console.log(scope.item);\n        elem.addClass('happy');\n      });\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter')\n           .directive('ionLoading', ionLoading)\n           .run(runLoading)\n           .factory('Loading', Loading);\n\n    function ionLoading() {\n        return {\n            restrict: 'E',\n            scope   : {\n                icon   : '@',\n                loading: '='\n            },\n            template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n        };\n    }\n\n    function runLoading($rootScope, $ionicLoading) {\n        $rootScope.$on('ionicLoading:true', function (text) {\n            $rootScope.loading = true;\n            $ionicLoading.show(text);\n        });\n        $rootScope.$on('ionicLoading:false', function () {\n            $rootScope.loading = false;\n            $ionicLoading.hide();\n        });\n    }\n\n    function Loading($rootScope, $cordovaProgress, $timeout) {\n        var seconds = 0;\n\n        return {\n            start: showLoading,\n            end  : hideLoading,\n        };\n\n\n        function showLoading(text) {\n            if (window.cordova) {\n                $cordovaProgress.showSimple();\n            } else {\n                $rootScope.$broadcast('ionicLoading:true', text);\n            }\n        }\n\n        function hideLoading() {\n            $timeout(function () {\n                if (window.cordova) {\n                    $cordovaProgress.hide();\n                } else {\n                    $rootScope.$broadcast('ionicLoading:false');\n                }\n            }, parseInt(seconds + '000'));\n        }\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('starter')\n    .directive('loading', PhotogramLoadingDirective);\n\n  function PhotogramLoadingDirective() {\n    return {\n      restrict: 'E',\n      scope   : {\n        loading: '=',\n        icon   : '@'\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('mapPhotoUser', mapPhotoUserDirective);\n\n    function mapPhotoUserDirective($state, $localStorage, Toast, Gallery, Geolocation, Dialog) {\n        return {\n            restrict: 'E',\n            link    : mapPhotoUserLink,\n            scope      : {\n                username  : '=',\n                load      : '=',\n                onReload  : '=',\n            },\n            templateUrl: 'app/directive/mapPhotoUserDirective.html'\n        };\n\n        function mapPhotoUserLink($scope, elem, attr) {\n\n            var markers      = [];\n            var latlngbounds = new google.maps.LatLngBounds();\n            $scope.maxRating = 5;\n            $scope.storage   = $localStorage;\n            $scope.galleries = [];\n            $scope.params    = {\n                location: null,\n                distance: 100.00,\n                page    : 1,\n                limit   : 10,\n                username: $scope.username\n            };\n            $scope.loading   = true;\n            $scope.map\n\n            function init() {\n                $scope.galleries = [];\n                removeGallerys();\n                removeMarkers();\n\n                var position   = {\n                    latitude : -18.8800397,\n                    longitude: -47.05878999999999\n                };\n                var mapOptions = {\n                    center   : setPosition(position),\n                    zoom     : 15,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP\n                };\n\n                $scope.map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);\n            }\n\n            init();\n            myPosition();\n\n\n            function myPosition() {\n                Geolocation.getCurrentPosition().then(function (position) {\n\n                    console.log(position);\n\n                    $scope.params.location = {\n                        latitude : position.coords.latitude,\n                        longitude: position.coords.longitude\n                    };\n\n                    var marker = {\n                        position: setPosition($scope.params.location),\n                        title   : 'I am here',\n                        id      : 0\n                    }\n\n                    addMarker(marker);\n\n                    $scope.map.setCenter(setPosition($scope.params.location));\n\n                    loadGallerys();\n                }, function (error) {\n                    $scope.params.location = null;\n\n                    var errorMessage;\n                    if (error.code === 1 || error.code === 3) {\n                        errorMessage = 'errorGpsDisabledText';\n                    } else {\n                        errorMessage = 'errorLocationMissingText';\n                    }\n                    Dialog.alert(errorMessage);\n\n                });\n            }\n\n            function setPosition(location) {\n                if (location) {\n                    return new google.maps.LatLng(location.latitude, location.longitude);\n                }\n            }\n\n            function addMarker(item) {\n\n\n                var markerOption = {\n                    id       : item.id,\n                    map      : $scope.map,\n                    position : item.position,\n                    title    : item.title,\n                    animation: google.maps.Animation.DROP\n                };\n\n                if (item.icon) {\n                    var size          = 40;\n                    markerOption.icon = {\n                        url       : item.icon,\n                        size      : new google.maps.Size(size, size),\n                        scaledSize: new google.maps.Size(size, size),\n                        origin    : new google.maps.Point(0, 0),\n                        anchor    : new google.maps.Point(size / 4, size / 4),\n                    };\n                }\n\n                var marker = new google.maps.Marker(markerOption);\n\n                google.maps.event.addListener(marker, 'click', function () {\n\n                    console.log(item.username);\n\n                });\n\n                markers.push(marker);\n\n                new MarkerClusterer($scope.map, markers, {\n                    imagePath: '../img/m'\n                });\n\n                latlngbounds.extend(item.position);\n                $scope.map.fitBounds(latlngbounds);\n            }\n\n            function setGallerys(galleries) {\n                $scope.galleries = galleries;\n                galleries.map(function (item) {\n\n                    if (item.location) {\n                        var marker = {\n                            map     : $scope.map,\n                            id      : item.id,\n                            position: setPosition(item.location),\n                            title   : item.title,\n                            image   : item.image.url(),\n                            icon    : item.imageThumb.url(),\n                        };\n\n                        addMarker(marker)\n                    }\n                });\n\n\n            }\n\n            function loadGallerys() {\n                $scope.loading = true;\n                Gallery.feed($scope.params).then(function (galleries) {\n\n                    if (galleries.length > 0) {\n                        setGallerys(galleries);\n                    } else {\n                        Dialog.alert('galleriesNotFoundText');\n                    }\n\n                    $scope.loading = false;\n\n                }, function () {\n                    Toast.show('errorText');\n                });\n            }\n\n            function removeGallerys() {\n                $scope.galleries = [];\n            }\n\n            function removeMarkers() {\n                markers.map(function (item) {\n                    item.setMap(null);\n                });\n                markers = [];\n            };\n\n            $scope.onSearchHere = function () {\n                $scope.params.location.latitude  = $scope.map.getCenter().lat();\n                $scope.params.location.longitude = $scope.map.getCenter().lng();\n                removeGallerys();\n                removeMarkers();\n                loadGallerys();\n            }\n\n            $scope.onGalleryClicked = function (item) {\n                console.log(item);\n            };\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n    angular\n    .module('starter')\n    .directive('photogramFollow', photogramFollowDirective);\n\n  function photogramFollowDirective($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          $ionicModal.fromTemplateUrl(path + '/directive/follow/photogram.follow.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modalFollow = modal;\n            console.log('Open modal follow', scope.user);\n\n            Photogram\n              .getFollow(scope.user)\n              .then(function (resp) {\n                console.log(resp);\n                scope.data = resp;\n                scope.modalFollow.show();\n              });\n\n          });\n        }\n\n        function closeModal() {\n          scope.modalFollow.hide();\n          scope.modalFollow.remove();\n        }\n      }\n    }\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('photoGrid', photoGridDirective);\n\n    function photoGridDirective(Gallery, $rootScope, $ionicPopup, Share, FeedbackModal, $ionicActionSheet) {\n\n        return {\n            restrict   : 'E',\n            scope      : {\n                username: '=',\n                user    : '=',\n                profile : '=',\n                onReload: '=',\n            },\n            templateUrl: 'app/directive/photoGridDirective.html',\n            link       : photoGridCtrl\n        };\n\n        function photoGridCtrl($scope, elem, attr) {\n            init();\n\n            if ($scope.username) {\n                $scope.params.username = $scope.username;\n            }\n\n            $rootScope.$on('photoInclude', function (elem, item) {\n                if (item.objectId) {\n                    item.id = item.objectId;\n                }\n                $scope.data.unshift(item);\n            });\n\n            $rootScope.$on('gallery:search', function (elem, item) {\n                console.log(elem, item);\n                $scope.params.search = item.text;\n                $scope.onReload();\n            });\n\n\n            loadFeed();\n\n            function loadFeed() {\n                if ($scope.loading) return;\n                $scope.loading = true;\n                Gallery.feed($scope.params).then(function (data) {\n                    console.log(data);\n\n                    if (data.length > 0) {\n                        $scope.params.page++;\n                        data.map(function (item) {\n                            $scope.data.push(item);\n                        });\n                    } else {\n                        if ($scope.data.length === 0) {\n                            $scope.showEmptyView = true;\n                        }\n                        $scope.moreDataCanBeLoaded = false;\n                    }\n\n                    $scope.loading = false;\n                    $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                    $rootScope.$broadcast('scroll.refreshComplete');\n\n                }).catch(function () {\n                    if ($scope.data.length === 0) {\n                        $scope.showErrorView = true;\n                    }\n                    $scope.$broadcast('scroll.refreshComplete');\n                });\n            }\n\n            $scope.onLoadMore = function () {\n                loadFeed();\n            };\n\n\n            $scope.onReload = function () {\n                init()\n                loadFeed();\n                $scope.$broadcast('scroll.refreshComplete');\n            };\n\n            function init() {\n                $scope.params              = {};\n                $scope.params.page         = 1;\n                $scope.data                = [];\n                $scope.loading             = false;\n                $scope.moreDataCanBeLoaded = true;\n                $scope.showEmptyView       = false;\n                $scope.showErrorView       = false;\n\n                if ($scope.canEdit) {\n                    $scope.data.push({\n                        create: true\n                    });\n                }\n            }\n\n            $scope.action = function (gallery) {\n\n                var buttons = [\n                    {\n                        text: '<i class=\"icon ion-share\"></i>' + ('Share')\n                    }, {\n                        text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n                    }\n                ];\n\n\n                console.log(gallery);\n\n                if (Parse.User.current().id === gallery.user_id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message = {\n                    text : gallery.title,\n                    image: gallery.img\n                };\n\n                var actionSheet = {\n                    buttons      : buttons,\n                    titleText    : ('Photo'),\n                    cancelText   : ('Cancel'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            Share.share(message);\n                            break;\n                        case 1:\n                            FeedbackModal.modal(gallery);\n                            break;\n                        case 2:\n\n                            $ionicPopup\n                                .confirm({\n                                    title   : ('Delete photo'),\n                                    template: ('Are you sure?')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Gallery.destroy(gallery).then(function () {\n                                            console.log('Photo deleted');\n                                            $scope.$emit('PhotogramHome:reload');\n                                        });\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n                $ionicActionSheet.show(actionSheet);\n            };\n\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').directive('photoLike', photoLikeDirective);\n\n    function photoLikeDirective(Gallery) {\n        return {\n            restrict: 'A',\n            scope   : {\n                ngModel: '=',\n                loading: '='\n            },\n            link    : function (scope, elem) {\n                elem.bind('click', function () {\n                        if (scope.loading) return;\n                        var _model      = scope.ngModel;\n                        _model.progress = true;\n                        _model.liked    = !_model.liked;\n                        scope.loading   = true;\n\n                        Gallery.likeGallery({galleryId: scope.ngModel.id}).then(function (resp) {\n                            console.log(resp);\n                            _model.likes    = resp.likes;\n                            _model.progress = false;\n                            console.log(_model, resp);\n                            if (resp.action === 'like') {\n                                scope.ngModel.isLiked = true;\n                                scope.ngModel.likesTotal += 1;\n                            }\n\n                            if (resp.action === 'unlike') {\n                                scope.ngModel.isLiked = false;\n                                scope.ngModel.likesTotal -= 1;\n                            }\n\n                            scope.loading = false;\n                        });\n                    }\n                );\n\n            }\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('photoList', photoListDirective);\n\n    function photoListDirective(Gallery, $rootScope, Loading, $ionicPopup, $translate, $state, Share, Toast, FeedbackModal, $ionicActionSheet) {\n\n        return {\n            restrict   : 'E',\n            scope      : {\n                username  : '=',\n                profile   : '=',\n                load      : '=',\n                openLikers: '=',\n                onReload  : '=',\n                id        : '='\n            },\n            templateUrl: 'app/directive/photoListDirective.html',\n            link       : photoListController\n        };\n\n        function photoListController($scope, elem, attr) {\n            $scope.params = {};\n            init();\n\n            var currentUser = Parse.User.current();\n\n            if ($scope.username) {\n                $scope.params.username = $scope.username;\n            }\n\n            if ($scope.id) {\n                $scope.params.id = $scope.id;\n            }\n\n            $rootScope.$on('photoInclude', function (elem, item) {\n                if (item.objectId) {\n                    item.id = item.objectId;\n                }\n                $scope.data.unshift(item);\n            });\n\n            $scope.openComment = function (galleryId) {\n                $state.go('galleryComments', {galleryId: galleryId})\n            };\n\n            $scope.share = function (item) {\n                var itemShare = {\n                    title   : item.title,\n                    image   : item.image.url(),\n                    userName: item.user.name,\n                    url     : 'http://market.ionic.io/starters/photogram-ionic-instagram-clone',\n                };\n                console.log(item, itemShare);\n                Share.open();\n            };\n\n\n            loadFeed();\n\n            function loadFeed() {\n                if ($scope.loading) return;\n                $scope.loading = true;\n                Gallery.feed($scope.params).then(function (data) {\n                    if (data.length > 0) {\n                        $scope.params.page++;\n                        data.map(function (item) {\n                            if (item.album) {\n                                item.canEdit = (currentUser.id === item.album.attributes.user.id) ? true : false;\n                            } else {\n                                item.canEdit = false;\n                            }\n                            $scope.data.push(item);\n                        });\n                    } else {\n                        if ($scope.data.length === 0) {\n                            $scope.showEmptyView = true;\n                        }\n                        $scope.moreDataCanBeLoaded = false;\n                    }\n\n                    $scope.loading = false;\n                    $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                    $rootScope.$broadcast('scroll.refreshComplete');\n\n                }).catch(function (err) {\n                    if ($scope.data.length === 0) {\n                        $scope.showErrorView = true;\n                    }\n                    $scope.$broadcast('scroll.refreshComplete');\n                });\n            }\n\n            $scope.onLoadMore = function () {\n                loadFeed();\n            };\n\n            $scope.onReload = function () {\n                init()\n                loadFeed();\n                $scope.$broadcast('scroll.refreshComplete');\n            };\n\n            function init() {\n                $scope.params.page         = 1;\n                $scope.data                = [];\n                $scope.loading             = false;\n                $scope.moreDataCanBeLoaded = true;\n                $scope.showEmptyView       = false;\n                $scope.showErrorView       = false;\n\n                if ($scope.canEdit) {\n                    $scope.data.push({\n                        create: true\n                    });\n                }\n            }\n\n            $rootScope.$on('photolist:reload', $scope.onReload);\n\n            $scope.action = function (gallery) {\n\n                var buttons = [\n                    {\n                        text: '<i class=\"icon ion-alert-circled\"></i>' + $translate.instant('reportText')\n                    }\n                ];\n\n\n                console.log(gallery);\n\n                if (Parse.User.current().id === gallery.user.obj.id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + $translate.instant('deleteGallery')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message = {\n                    text : gallery.title,\n                    image: gallery.img\n                };\n\n                var actionSheet = {\n                    buttons      : buttons,\n                    cancelText   : $translate.instant('cancelText'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            FeedbackModal.modal(gallery.id);\n                            break;\n                        case 1:\n\n                            $ionicPopup\n                                .confirm({\n                                    title   : $translate.instant('deleteGalleryConfirmText'),\n                                    template: $translate.instant('areSure')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Loading.start();\n                                        Gallery.get(gallery.id).then(function (gallery) {\n                                            if (gallery) {\n                                                Gallery.destroy(gallery).then(function () {\n                                                    console.log('Photo deleted');\n                                                    Toast.alert({\n                                                        title: 'Photo',\n                                                        text : 'Photo deleted'\n                                                    });\n                                                    $scope.onReload();\n                                                    Loading.end();\n                                                });\n                                            } else {\n                                                $scope.onReload();\n                                                Loading.end();\n                                            }\n                                        }).catch(function () {\n                                            $scope.onReload();\n                                            Loading.end();\n                                        })\n\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n                $ionicActionSheet.show(actionSheet);\n            };\n\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('profileModalEdit', profileModalEditDirective);\n\n    function profileModalEditDirective($ionicModal, $rootScope, ParsePush, $localStorage, User, Loading, $state) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                user: '='\n            },\n            template: '',\n            link    : function (scope, elem) {\n\n\n                elem.bind('click', openModal);\n\n\n                function init() {\n                    scope.theme      = $rootScope.theme;\n                    var user         = Parse.User.current().attributes;\n                    scope.form       = {\n                        name    : user.name,\n                        email   : user.email,\n                        status  : user.status,\n                        photo   : user.photo,\n                        username: user.username,\n                        gender  : user.gender,\n                        facebook: user.facebook\n                    };\n                }\n\n\n                function openModal() {\n\n                    scope.linkFacebook        = linkFacebook;\n                    scope.logout              = logout;\n                    scope.submitUpdateProfile = submitUpdateProfile;\n                    scope.closeModal          = closeModal;\n                    scope.currentUser         = $rootScope.currentUser;\n\n                    init();\n\n                    $ionicModal.fromTemplateUrl('app/directive/profile-edit-modal.html', {\n                        scope: scope\n                    }).then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n                    });\n\n                    scope.$on('$destroy', function () {\n                        scope.modal.remove();\n                    });\n\n                }\n\n                function logout() {\n                    delete window.localStorage['Parse/myAppId/currentUser'];\n                    delete window.localStorage['Parse/myAppId/installationId'];\n                    $localStorage.$reset({});\n                    $state.go('user.intro', {clear: true});\n                    scope.closeModal();\n                }\n\n                function linkFacebook() {\n                    User.facebookLink().then(function (resp) {\n                        console.log(resp);\n                    });\n                }\n\n                function submitUpdateProfile() {\n                    var dataForm = angular.copy(scope.form);\n                    Loading.start();\n\n                    var username = Parse.User.current().username;\n\n                    if (username != dataForm.username) {\n                        ParsePush.unsubscribe(username);\n                        ParsePush.subscribe(username);\n                    }\n\n                    User.update(dataForm).then(function (resp) {\n                        scope.user             = resp;\n                        $rootScope.currentUser = resp;\n                        Loading.end();\n                        scope.closeModal();\n                    });\n                }\n\n                function closeModal() {\n                    scope.modal.hide();\n                }\n\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').directive('profileModal', profileModalDirective);\n\n    function profileModalDirective($ionicModal, User) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                username: '='\n            },\n            link    : profileModalLink\n        };\n\n        function profileModalLink(scope, elem) {\n            elem.bind('click', function () {\n\n                console.log(scope.username);\n\n                User.profile(scope.username).then(function (data) {\n                    console.log(data);\n                    scope.user = data;\n                    openModal();\n                });\n\n            });\n\n            function openModal() {\n\n                console.log(scope.user.attributes);\n\n                $ionicModal.fromTemplateUrl('app/directive/profile-modal.html', {\n                    scope: scope\n                }).then(function (modal) {\n                    scope.modalProfile  = modal;\n                    scope.loadingFollow = true;\n                    scope.changeTab     = changeTab;\n                    scope.follow        = follow;\n                    scope.closeModal    = closeModal;\n                    scope.modalProfile.show();\n\n                    changeTab('list');\n\n                    function follow() {\n\n                        scope.loadingFollow = true;\n                        var status;\n\n                        if (scope.user.follow) {\n                            status = false;\n                        } else {\n                            status = true;\n                        }\n\n                        User.follow(scope.user.userObj.id).then(function (resp) {\n                            console.log('Follow result', resp);\n                            scope.user.isFollow = (resp === 'follow') ? true : false;\n                            if (resp == 'follow') {\n                                scope.user.followersTotal += 1;\n                            }\n                            if (resp == 'unfollow') {\n                                scope.user.followersTotal -= 1;\n                            }\n                            scope.loadingFollow = false;\n                        });\n\n\n                    }\n\n                    function closeModal() {\n                        delete scope.data;\n                        scope.modalProfile.hide();\n                    }\n                });\n\n                scope.$on('$destroy', function () {\n                    scope.modalProfile.remove();\n                });\n            }\n\n            function changeTab(tab) {\n                if (tab === 'list') {\n                    scope.tab = {\n                        list: true,\n                        grid: false\n                    };\n                } else {\n                    scope.tab = {\n                        list: false,\n                        grid: true\n                    };\n                }\n            }\n\n\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('starter')\n    .directive('ionSearch', ionSearchDirective);\n\n  function ionSearchDirective($timeout) {\n\n    return {\n      restrict   : 'E',\n      scope      : {\n        getData: '&source',\n        ngModel: '=?',\n        search : '=?filter'\n      },\n      templateUrl: 'app/module/photogram/directive/search/search-directive.html',\n      link       : function (scope, element, attrs) {\n        attrs.minLength = attrs.minLength || 0;\n        scope.placeholder = attrs.placeholder || '';\n        scope.clear = function () {\n          console.log('Limpar campo');\n          scope.input = '';\n          scope.$apply();\n        };\n\n        if (attrs.class) {\n          element.addClass(attrs.class);\n        }\n\n        if (attrs.source) {\n          scope.$watch('search.value', watchSearch);\n        }\n\n        function watchSearch(newValue) {\n          if (newValue.length > attrs.minLength) {\n            $timeout(function () {\n              scope\n                .getData({\n                  str: newValue\n                })\n                .then(function (results) {\n                  scope.ngModel = results;\n                });\n            }, 1000);\n          } else {\n            scope.ngModel = [];\n          }\n        }\n\n      }\n\n    };\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('starter')\n        .directive('settingsModal', settingsModalDirective);\n\n    function settingsModalDirective($ionicModal, $translate, AppConfig, amMoment, $cordovaInAppBrowser, Share, Auth, User, $state) {\n\n        return {\n            restrict: 'A',\n            template: '',\n            link    : function (scope, elem) {\n\n                elem.bind('click', openModal);\n                scope.share = Share.share;\n\n                scope.logout = function () {\n                    $state.go(AppConfig.routes.login);\n                    scope.closeSettingModal();\n                };\n\n                function init() {\n                    scope.form      = Auth.getLoggedUser();\n                    scope.languages = AppConfig.locales;\n                    scope.language  = $translate.use();\n                }\n\n                function openModal() {\n\n                    init();\n                    $ionicModal.fromTemplateUrl('app/directive/settings-modal.html', {\n                        scope: scope\n                    }).then(function (modal) {\n                        scope.modalSetting = modal;\n                        scope.modalSetting.show();\n\n                    });\n\n                    scope.$on('changeLanguage', function (ev, value) {\n                        User.update({lang: value});\n                        console.log(value);\n                        amMoment.changeLocale(value.code);\n                        $translate.use(value.code);\n                    });\n\n                    scope.closeSettingModal = function () {\n                        scope.modalSetting.hide();\n                        scope.modalSetting.remove();\n                    };\n\n                    scope.link = function (sref) {\n                        $state.go(sref);\n                        scope.closeModal();\n                    };\n                }\n\n\n            }\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('usernameValidator', usernameValidatorDirective);\n\n    function usernameValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            restrict: 'A',\n            link    : usernameValidatorLink,\n        };\n\n        function usernameValidatorLink(scope, elem, attr, ngModel) {\n            ngModel.$asyncValidators.username = function  (modelValue, viewValue) {\n                if(viewValue) {\n                    return User.validateUsername(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').filter('hashtag', hashtag);\n\n    function hashtag($filter) {\n        return function (text, target) {\n            if (!text) return text;\n\n            var replacedText = $filter('linky')(text, target);\n\n            var targetAttr = \"\";\n            if (angular.isDefined(target)) {\n                targetAttr = target;\n            }\n\n            var replacePattern1 = /(^|\\s)#(\\w*[a-zA-Z_]+\\w*)/gim;\n            replacedText        = text.replace(replacePattern1, '$1<a href=\"#/tab/search/%23$2\"' + targetAttr + '>#$2</a>');\n\n            var replacePattern2 = /(^|\\s)\\@(\\w*[a-zA-Z_]+\\w*)/gim;\n            replacedText        = replacedText.replace(replacePattern2, '$1<a href=\"#/tab/home/$2\" >@$2</a>');\n\n            return replacedText;\n        };\n    }\n\n})();\n\n\n(function () {\n    'use strict';\n\n    angular.module('starter').filter('words', words);\n\n    function words() {\n\n\n        return function (input, words) {\n            if (isNaN(words)) {\n                return input;\n            }\n            if (words <= 0) {\n                return '';\n            }\n            if (input) {\n                var inputWords = input.split(/\\s+/);\n                if (inputWords.length > words) {\n                    input = inputWords.slice(0, words).join(' ') + '\\u2026';\n                }\n            }\n            return input;\n        };\n    }\n\n})();\n\n\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var de = moment.defineLocale('de', {\n        months : 'Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, \n            doy : 4  \n        }\n    });\n\n    return de;\n\n}));\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '۱',\n        '2': '۲',\n        '3': '۳',\n        '4': '۴',\n        '5': '۵',\n        '6': '۶',\n        '7': '۷',\n        '8': '۸',\n        '9': '۹',\n        '0': '۰'\n    }, numberMap = {\n        '۱': '1',\n        '۲': '2',\n        '۳': '3',\n        '۴': '4',\n        '۵': '5',\n        '۶': '6',\n        '۷': '7',\n        '۸': '8',\n        '۹': '9',\n        '۰': '0'\n    };\n\n    var fa = moment.defineLocale('fa', {\n        months : 'ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر'.split('_'),\n        monthsShort : 'ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر'.split('_'),\n        weekdays : 'یک\\u200cشنبه_دوشنبه_سه\\u200cشنبه_چهارشنبه_پنج\\u200cشنبه_جمعه_شنبه'.split('_'),\n        weekdaysShort : 'یک\\u200cشنبه_دوشنبه_سه\\u200cشنبه_چهارشنبه_پنج\\u200cشنبه_جمعه_شنبه'.split('_'),\n        weekdaysMin : 'ی_د_س_چ_پ_ج_ش'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /قبل از ظهر|بعد از ظهر/,\n        isPM: function (input) {\n            return /بعد از ظهر/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return 'قبل از ظهر';\n            } else {\n                return 'بعد از ظهر';\n            }\n        },\n        calendar : {\n            sameDay : '[امروز ساعت] LT',\n            nextDay : '[فردا ساعت] LT',\n            nextWeek : 'dddd [ساعت] LT',\n            lastDay : '[دیروز ساعت] LT',\n            lastWeek : 'dddd [پیش] [ساعت] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'در %s',\n            past : '%s پیش',\n            s : 'چندین ثانیه',\n            m : 'یک دقیقه',\n            mm : '%d دقیقه',\n            h : 'یک ساعت',\n            hh : '%d ساعت',\n            d : 'یک روز',\n            dd : '%d روز',\n            M : 'یک ماه',\n            MM : '%d ماه',\n            y : 'یک سال',\n            yy : '%d سال'\n        },\n        preparse: function (string) {\n            return string.replace(/[۰-۹]/g, function (match) {\n                return numberMap[match];\n            }).replace(/،/g, ',');\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            }).replace(/,/g, '،');\n        },\n        ordinalParse: /\\d{1,2}م/,\n        ordinal : '%dم',\n        week : {\n            dow : 6, \n            doy : 12 \n        }\n    });\n\n    return fa;\n\n}));\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var pt_br = moment.defineLocale('pt', {\n        months : 'Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split('_'),\n        monthsShort : 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays : 'Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado'.split('_'),\n        weekdaysShort : 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\n        weekdaysMin : 'Dom_2ª_3ª_4ª_5ª_6ª_Sáb'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D [de] MMMM [de] YYYY',\n            LLL : 'D [de] MMMM [de] YYYY [às] HH:mm',\n            LLLL : 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\n        },\n        calendar : {\n            sameDay: '[Hoje às] LT',\n            nextDay: '[Amanhã às] LT',\n            nextWeek: 'dddd [às] LT',\n            lastDay: '[Ontem às] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[Último] dddd [às] LT' : \n                    '[Última] dddd [às] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'em %s',\n            past : '%s atrás',\n            s : 'poucos segundos',\n            m : 'um minuto',\n            mm : '%d minutos',\n            h : 'uma hora',\n            hh : '%d horas',\n            d : 'um dia',\n            dd : '%d dias',\n            M : 'um mês',\n            MM : '%d meses',\n            y : 'um ano',\n            yy : '%d anos'\n        },\n        ordinalParse: /\\d{1,2}º/,\n        ordinal : '%dº'\n    });\n\n    return pt_br;\n\n}));\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.io = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\n\nvar url = _dereq_('./url');\nvar parser = _dereq_('socket.io-parser');\nvar Manager = _dereq_('./manager');\nvar debug = _dereq_('debug')('socket.io-client');\n\n\nmodule.exports = exports = lookup;\n\n\nvar cache = exports.managers = {};\n\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n\nexports.protocol = parser.protocol;\n\n\nexports.connect = lookup;\n\n\nexports.Manager = _dereq_('./manager');\nexports.Socket = _dereq_('./socket');\n\n},{\"./manager\":2,\"./socket\":4,\"./url\":5,\"debug\":14,\"socket.io-parser\":40}],2:[function(_dereq_,module,exports){\n\n\nvar eio = _dereq_('engine.io-client');\nvar Socket = _dereq_('./socket');\nvar Emitter = _dereq_('component-emitter');\nvar parser = _dereq_('socket.io-parser');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:manager');\nvar indexOf = _dereq_('indexof');\nvar Backoff = _dereq_('backo2');\n\n\nvar has = Object.prototype.hasOwnProperty;\n\n\nmodule.exports = Manager;\n\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\n\n\nEmitter(Manager.prototype);\n\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    this.reconnect();\n  }\n};\n\n\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  this.cleanup();\n\n  this.readyState = 'open';\n  this.emit('open');\n\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n\nManager.prototype.onping = function(){\n  this.lastPing = new Date;\n  this.emitAll('ping');\n};\n\n\nManager.prototype.onpong = function(){\n  this.emitAll('pong', new Date - this.lastPing);\n};\n\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n    });\n\n    if (this.autoConnect) {\n      onConnecting();\n    }\n  }\n\n  function onConnecting() {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { \n    self.packetBuffer.push(packet);\n  }\n};\n\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n\nManager.prototype.cleanup = function(){\n  debug('cleanup');\n\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' == this.readyState) {\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n\nManager.prototype.onclose = function(reason){\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":3,\"./socket\":4,\"backo2\":8,\"component-bind\":11,\"component-emitter\":12,\"debug\":14,\"engine.io-client\":16,\"indexof\":32,\"socket.io-parser\":40}],3:[function(_dereq_,module,exports){\n\n\nmodule.exports = on;\n\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],4:[function(_dereq_,module,exports){\n\n\nvar parser = _dereq_('socket.io-parser');\nvar Emitter = _dereq_('component-emitter');\nvar toArray = _dereq_('to-array');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:socket');\nvar hasBin = _dereq_('has-binary');\n\n\nmodule.exports = exports = Socket;\n\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n\nvar emit = Emitter.prototype.emit;\n\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; \n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (this.io.autoConnect) this.open();\n}\n\n\nEmitter(Socket.prototype);\n\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); \n  if ('open' == this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; \n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } \n  var packet = { type: parserType, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n\nSocket.prototype.onack = function(packet){\n  var ack = this.acks[packet.id];\n  if ('function' == typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  this.destroy();\n\n  if (this.connected) {\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n\nSocket.prototype.compress = function(compress){\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n},{\"./on\":3,\"component-bind\":11,\"component-emitter\":12,\"debug\":14,\"has-binary\":30,\"socket.io-parser\":40,\"to-array\":43}],5:[function(_dereq_,module,exports){\n(function (global){\n\n\nvar parseuri = _dereq_('parseuri');\nvar debug = _dereq_('debug')('socket.io-client:url');\n\n\nmodule.exports = url;\n\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  obj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"debug\":14,\"parseuri\":38}],6:[function(_dereq_,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        if (err) {\n            bail = true\n            callback(err)\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],7:[function(_dereq_,module,exports){\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],8:[function(_dereq_,module,exports){\n\n\nmodule.exports = Backoff;\n\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],9:[function(_dereq_,module,exports){\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n},{}],10:[function(_dereq_,module,exports){\n(function (global){\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],11:[function(_dereq_,module,exports){\n\nvar slice = [].slice;\n\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],12:[function(_dereq_,module,exports){\n\n\nmodule.exports = Emitter;\n\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],13:[function(_dereq_,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],14:[function(_dereq_,module,exports){\n\n\nexports = module.exports = _dereq_('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n\nfunction useColors() {\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n\nfunction log() {\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n\nexports.enable(load());\n\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":15}],15:[function(_dereq_,module,exports){\n\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = _dereq_('ms');\n\n\nexports.names = [];\nexports.skips = [];\n\n\nexports.formatters = {};\n\n\nvar prevColor = 0;\n\n\nvar prevTime;\n\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n\nfunction debug(namespace) {\n\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  function enabled() {\n\n    var self = enabled;\n\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      args = ['%o'].concat(args);\n    }\n\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; \n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n\nfunction disable() {\n  exports.enable('');\n}\n\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":35}],16:[function(_dereq_,module,exports){\n\nmodule.exports =  _dereq_('./lib/');\n\n},{\"./lib/\":17}],17:[function(_dereq_,module,exports){\n\nmodule.exports = _dereq_('./socket');\n\nmodule.exports.parser = _dereq_('engine.io-parser');\n\n},{\"./socket\":18,\"engine.io-parser\":27}],18:[function(_dereq_,module,exports){\n(function (global){\n\nvar transports = _dereq_('./transports');\nvar Emitter = _dereq_('component-emitter');\nvar debug = _dereq_('debug')('engine.io-client:socket');\nvar index = _dereq_('indexof');\nvar parser = _dereq_('engine.io-parser');\nvar parseuri = _dereq_('parseuri');\nvar parsejson = _dereq_('parsejson');\nvar parseqs = _dereq_('parseqs');\n\n\nmodule.exports = Socket;\n\n\nfunction noop(){}\n\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n  }\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n\nEmitter(Socket.prototype);\n\n\nSocket.protocol = parser.protocol; \n\n\nSocket.Socket = Socket;\nSocket.Transport = _dereq_('./transport');\nSocket.transports = _dereq_('./transports');\nSocket.parser = _dereq_('engine.io-parser');\n\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  query.EIO = parser.protocol;\n\n  query.transport = name;\n\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  this.transport = transport;\n\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function(){\n    self.emit('ping');\n  });\n};\n\n\nSocket.prototype.onDrain = function() {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if('function' == typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' == typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close() {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose() {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade() {\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    this.transport.removeAllListeners('close');\n\n    this.transport.close();\n\n    this.transport.removeAllListeners();\n\n    this.readyState = 'closed';\n\n    this.id = null;\n\n    this.emit('close', reason, desc);\n\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./transport\":19,\"./transports\":20,\"component-emitter\":26,\"debug\":14,\"engine.io-parser\":27,\"indexof\":32,\"parsejson\":36,\"parseqs\":37,\"parseuri\":38}],19:[function(_dereq_,module,exports){\n\nvar parser = _dereq_('engine.io-parser');\nvar Emitter = _dereq_('component-emitter');\n\n\nmodule.exports = Transport;\n\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  this.extraHeaders = opts.extraHeaders;\n}\n\n\nEmitter(Transport.prototype);\n\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":26,\"engine.io-parser\":27}],20:[function(_dereq_,module,exports){\n(function (global){\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar XHR = _dereq_('./polling-xhr');\nvar JSONP = _dereq_('./polling-jsonp');\nvar websocket = _dereq_('./websocket');\n\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling-jsonp\":21,\"./polling-xhr\":22,\"./websocket\":24,\"xmlhttprequest-ssl\":25}],21:[function(_dereq_,module,exports){\n(function (global){\n\n\nvar Polling = _dereq_('./polling');\nvar inherit = _dereq_('component-inherit');\n\n\nmodule.exports = JSONPPolling;\n\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n\nvar callbacks;\n\n\nvar index = 0;\n\n\nfunction empty () { }\n\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  if (!callbacks) {\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  this.index = callbacks.length;\n\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  this.query.j = this.index;\n\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n\ninherit(JSONPPolling, Polling);\n\n\nJSONPPolling.prototype.supportsBinary = false;\n\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  }\n  else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n\n    if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":23,\"component-inherit\":13}],22:[function(_dereq_,module,exports){\n(function (global){\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar Polling = _dereq_('./polling');\nvar Emitter = _dereq_('component-emitter');\nvar inherit = _dereq_('component-inherit');\nvar debug = _dereq_('debug')('engine.io-client:polling-xhr');\n\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n\nfunction empty(){}\n\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\n\n\ninherit(XHR, Polling);\n\n\nXHR.prototype.supportsBinary = true;\n\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n\nEmitter(Request.prototype);\n\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":23,\"component-emitter\":26,\"component-inherit\":13,\"debug\":14,\"xmlhttprequest-ssl\":25}],23:[function(_dereq_,module,exports){\n\nvar Transport = _dereq_('../transport');\nvar parseqs = _dereq_('parseqs');\nvar parser = _dereq_('engine.io-parser');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:polling');\n\n\nmodule.exports = Polling;\n\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n\ninherit(Polling, Transport);\n\n\nPolling.prototype.name = 'polling';\n\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    self.onPacket(packet);\n  };\n\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  if ('closed' != this.readyState) {\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n},{\"../transport\":19,\"component-inherit\":13,\"debug\":14,\"engine.io-parser\":27,\"parseqs\":37,\"xmlhttprequest-ssl\":25,\"yeast\":45}],24:[function(_dereq_,module,exports){\n(function (global){\n\nvar Transport = _dereq_('../transport');\nvar parser = _dereq_('engine.io-parser');\nvar parseqs = _dereq_('parseqs');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  try {\n    WebSocket = _dereq_('ws');\n  } catch (e) { }\n}\n\n\nmodule.exports = WS;\n\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  Transport.call(this, opts);\n}\n\n\ninherit(WS, Transport);\n\n\nWS.prototype.name = 'websocket';\n\n\nWS.prototype.supportsBinary = true;\n\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n\n  this.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'buffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function(packet) {\n      parser.encodePacket(packet, self.supportsBinary, function(data) {\n        if (!BrowserWebSocket) {\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        try {\n          if (BrowserWebSocket) {\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e){\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done(){\n    self.emit('flush');\n\n    setTimeout(function(){\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"../transport\":19,\"component-inherit\":13,\"debug\":14,\"engine.io-parser\":27,\"parseqs\":37,\"ws\":undefined,\"yeast\":45}],25:[function(_dereq_,module,exports){\nvar hasCORS = _dereq_('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  var xscheme = opts.xscheme;\n\n  var enablesXDR = opts.enablesXDR;\n\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":31}],26:[function(_dereq_,module,exports){\n\n\nmodule.exports = Emitter;\n\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],27:[function(_dereq_,module,exports){\n(function (global){\n\nvar keys = _dereq_('./keys');\nvar hasBinary = _dereq_('has-binary');\nvar sliceBuffer = _dereq_('arraybuffer.slice');\nvar base64encoder = _dereq_('base64-arraybuffer');\nvar after = _dereq_('after');\nvar utf8 = _dereq_('utf8');\n\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n\nexports.protocol = 3;\n\n\nvar packets = exports.packets = {\n    open:     0    \n  , close:    1    \n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n\nvar err = { type: 'error', data: 'parser error' };\n\n\nvar Blob = _dereq_('blob');\n\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  var encoded = packets[packet.type];\n\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    return callback(err, 0, 1);\n  }\n\n};\n\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; \n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { \n        resultArray[bufferIndex++] = 0;\n      } else { \n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./keys\":28,\"after\":6,\"arraybuffer.slice\":7,\"base64-arraybuffer\":9,\"blob\":10,\"has-binary\":29,\"utf8\":44}],28:[function(_dereq_,module,exports){\n\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],29:[function(_dereq_,module,exports){\n(function (global){\n\n\nvar isArray = _dereq_('isarray');\n\n\nmodule.exports = hasBinary;\n\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":33}],30:[function(_dereq_,module,exports){\n(function (global){\n\n\nvar isArray = _dereq_('isarray');\n\n\nmodule.exports = hasBinary;\n\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON && 'function' == typeof obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":33}],31:[function(_dereq_,module,exports){\n\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  module.exports = false;\n}\n\n},{}],32:[function(_dereq_,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],33:[function(_dereq_,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],34:[function(_dereq_,module,exports){\n(function (global){\n;(function () {\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    var isExtended = new Date(-3509827334573292);\n    try {\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    function has(name) {\n      if (has[name] !== undef) {\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                stringify(0) === \"0\" &&\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                stringify(getClass) === undef &&\n                stringify(undef) === undef &&\n                stringify() === undef &&\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                stringify([undef]) == \"[null]\" &&\n                stringify(null) == \"null\" &&\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              if (parse(\"0\") === 0 && !parse(false)) {\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      if (!isExtended) {\n        var floor = Math.floor;\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            \"toString\": 1\n          }, members).toString != getClass) {\n            isProperty = function (property) {\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            constructor = members.constructor;\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        members = new Properties();\n        for (property in members) {\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        if (!size) {\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          forEach = function (object, callback) {\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      if (!has(\"json-stringify\")) {\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                if (getDay) {\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            return \"\" + value;\n          } else if (className == numberClass) {\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            return quote(\"\" + value);\n          }\n          if (typeof value == \"object\") {\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                throw TypeError();\n              }\n            }\n            stack.push(value);\n            results = [];\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            stack.pop();\n            return result;\n          }\n        };\n\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        var Index, Source;\n\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    abort();\n                  } else if (charCode == 92) {\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            abort();\n                          }\n                        }\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  Index++;\n                  return value;\n                }\n                abort();\n              default:\n                begin = Index;\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                if (charCode >= 48 && charCode <= 57) {\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    abort();\n                  }\n                  isSigned = false;\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  return +source.slice(begin, Index);\n                }\n                if (isSigned) {\n                  abort();\n                }\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                abort();\n            }\n          }\n          return \"$\";\n        };\n\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              return value.slice(1);\n            }\n            if (value == \"[\") {\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                if (value == \"]\") {\n                  break;\n                }\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      abort();\n                    }\n                  } else {\n                    abort();\n                  }\n                }\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                if (value == \"}\") {\n                  break;\n                }\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      abort();\n                    }\n                  } else {\n                    abort();\n                  }\n                }\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            abort();\n          }\n          return value;\n        };\n\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          if (lex() != \"$\") {\n            abort();\n          }\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    runInContext(root, freeExports);\n  } else {\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],35:[function(_dereq_,module,exports){\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],36:[function(_dereq_,module,exports){\n(function (global){\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],37:[function(_dereq_,module,exports){\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],38:[function(_dereq_,module,exports){\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],39:[function(_dereq_,module,exports){\n(function (global){\n\n\nvar isArray = _dereq_('isarray');\nvar isBuf = _dereq_('./is-buffer');\n\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; \n  return {packet: pack, buffers: buffers};\n};\n\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; \n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; \n  return packet;\n};\n\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      var fileReader = new FileReader();\n      fileReader.onload = function() { \n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); \n    } else if (isArray(obj)) { \n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { \n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./is-buffer\":41,\"isarray\":33}],40:[function(_dereq_,module,exports){\n\n\nvar debug = _dereq_('debug')('socket.io-parser');\nvar json = _dereq_('json3');\nvar isArray = _dereq_('isarray');\nvar Emitter = _dereq_('component-emitter');\nvar binary = _dereq_('./binary');\nvar isBuf = _dereq_('./is-buffer');\n\n\nexports.protocol = 4;\n\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n\nexports.CONNECT = 0;\n\n\nexports.DISCONNECT = 1;\n\n\nexports.EVENT = 2;\n\n\nexports.ACK = 3;\n\n\nexports.ERROR = 4;\n\n\nexports.BINARY_EVENT = 5;\n\n\nexports.BINARY_ACK = 6;\n\n\nexports.Encoder = Encoder;\n\n\nexports.Decoder = Decoder;\n\n\nfunction Encoder() {}\n\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  str += obj.type;\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); \n    callback(buffers); \n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n\nEmitter(Decoder.prototype);\n\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { \n      this.reconstructor = new BinaryReconstructor(packet);\n\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { \n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { \n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { \n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { \n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":39,\"./is-buffer\":41,\"component-emitter\":42,\"debug\":14,\"isarray\":33,\"json3\":34}],41:[function(_dereq_,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],42:[function(_dereq_,module,exports){\narguments[4][26][0].apply(exports,arguments)\n},{\"dup\":26}],43:[function(_dereq_,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}],44:[function(_dereq_,module,exports){\n(function (global){\n;(function(root) {\n\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { \n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { \n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { \n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { \n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { \n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { \n\t\t\tfreeModule.exports = utf8;\n\t\t} else { \n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { \n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],45:[function(_dereq_,module,exports){\n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\nfor (; i < length; i++) map[alphabet[i]] = i;\n\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n},{}]},{},[1])(1)\n});\n\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function ($provide) {\n  var PLURAL_CATEGORY = {\n    ZERO: \"zero\",\n    ONE: \"one\",\n    TWO: \"two\",\n    FEW: \"few\",\n    MANY: \"many\",\n    OTHER: \"other\"\n  };\n  $provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n      \"AMPMS\": [\n        \"AM\",\n        \"PM\"\n      ],\n      \"DAY\": [\n        \"domingo\",\n        \"segunda-feira\",\n        \"ter\\u00e7a-feira\",\n        \"quarta-feira\",\n        \"quinta-feira\",\n        \"sexta-feira\",\n        \"s\\u00e1bado\"\n      ],\n      \"ERANAMES\": [\n        \"Antes de Cristo\",\n        \"Ano do Senhor\"\n      ],\n      \"ERAS\": [\n        \"a.C.\",\n        \"d.C.\"\n      ],\n      \"FIRSTDAYOFWEEK\": 6,\n      \"MONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"SHORTDAY\": [\n        \"dom\",\n        \"seg\",\n        \"ter\",\n        \"qua\",\n        \"qui\",\n        \"sex\",\n        \"s\\u00e1b\"\n      ],\n      \"SHORTMONTH\": [\n        \"jan\",\n        \"fev\",\n        \"mar\",\n        \"abr\",\n        \"mai\",\n        \"jun\",\n        \"jul\",\n        \"ago\",\n        \"set\",\n        \"out\",\n        \"nov\",\n        \"dez\"\n      ],\n      \"STANDALONEMONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"WEEKENDRANGE\": [\n        5,\n        6\n      ],\n      \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n      \"longDate\": \"d 'de' MMMM 'de' y\",\n      \"medium\": \"d 'de' MMM 'de' y HH:mm:ss\",\n      \"mediumDate\": \"d 'de' MMM 'de' y\",\n      \"mediumTime\": \"HH:mm:ss\",\n      \"short\": \"dd/MM/yy HH:mm\",\n      \"shortDate\": \"dd/MM/yy\",\n      \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n      \"CURRENCY_SYM\": \"R$\",\n      \"DECIMAL_SEP\": \",\",\n      \"GROUP_SEP\": \".\",\n      \"PATTERNS\": [{\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 3,\n        \"minFrac\": 0,\n        \"minInt\": 1,\n        \"negPre\": \"-\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\",\n        \"posSuf\": \"\"\n      }, {\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 2,\n        \"minFrac\": 2,\n        \"minInt\": 1,\n        \"negPre\": \"-\\u00a4\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\\u00a4\",\n        \"posSuf\": \"\"\n      }]\n    },\n    \"id\": \"pt-br\",\n    \"pluralCat\": function (n, opt_precision) {\n      if (n >= 0 && n <= 2 && n != 2) {\n        return PLURAL_CATEGORY.ONE;\n      }\n      return PLURAL_CATEGORY.OTHER;\n    }\n  });\n}]);\n(function () {\n    'use strict';\n\n        var pt_br = window.moment.defineLocale('pt', {\n        months: 'Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split(\n            '_'),\n        monthsShort: 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays: 'Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado'.split('_'),\n        weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\n        weekdaysMin: 'Dom_2ª_3ª_4ª_5ª_6ª_Sáb'.split('_'),\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY [às] HH:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\n        },\n        calendar: {\n            sameDay: '[Hoje às] LT',\n            nextDay: '[Amanhã às] LT',\n            nextWeek: 'dddd [às] LT',\n            lastDay: '[Ontem às] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[Último] dddd [às] LT' : \n                    '[Última] dddd [às] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: 'em %s',\n            past: '%s atrás',\n            s: 'segs',\n            m: 'um minuto',\n            mm: '%d minutos',\n            h: 'uma hora',\n            hh: '%d horas',\n            d: 'um dia',\n            dd: '%d dias',\n            M: 'um mês',\n            MM: '%d meses',\n            y: 'um ano',\n            yy: '%d anos'\n        },\n        ordinalParse: /\\d{1,2}º/,\n        ordinal: '%dº'\n    });\n\n    return pt_br;\n})();\n(function () {\n    'use strict';\n    angular.module('starter').factory('ActionSheet', ActionSheetFactory);\n\n    function ActionSheetFactory($ionicActionSheet, Camera, $cordovaActionSheet, $q) {\n\n        return {\n            show : show,\n            image: image\n        };\n\n        function image() {\n            var defer = $q.defer();\n            show({\n                title     : 'Choose an option',\n                cancelText: 'Cancel',\n                options   : [{text: 'Photo Library'}, {text: 'Photo'}]\n            }).then(function (option) {\n                var sourceType;\n                if (option === 1) {\n                    sourceType = 'photoLibrary';\n                }\n\n                if (option === 2) {\n                    sourceType = 'camera';\n                }\n                return Camera.getPicture({sourceType: sourceType});\n            }).then(defer.resolve).catch(defer.reject);\n\n            return defer.promise;\n        }\n\n        function show(params) {\n\n            var defer = $q.defer();\n\n            if (window.cordova) {\n\n                var options = {\n                    title                    : params.title,\n                    buttonLabels             : _.map(params.options, function (item) {return item.text}),\n                    addCancelButtonWithLabel : params.cancelText,\n                    androidEnableCancelButton: true,\n                    androidTheme             : window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT\n                };\n\n                $cordovaActionSheet.show(options).then(function (btnIndex) {\n                    if (btnIndex !== 3) {\n                        defer.resolve(btnIndex);\n                    }\n                    defer.reject('cancel');\n                });\n\n            } else {\n                var actionSheet = $ionicActionSheet.show({\n                    buttons      : params.options,\n                    titleText    : params.title,\n                    cancelText   : params.cancelText,\n                    cancel       : function () {\n                        actionSheet();\n                    },\n                    buttonClicked: function (btnIndex) {\n                        actionSheet();\n                        if (btnIndex !== 3) {\n                            defer.resolve(btnIndex);\n                        }\n                        defer.reject('cancel');\n                    }\n                });\n\n            }\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Auth', function ($q) {\n\n        var mSessionToken = null;\n        return {\n            getLoggedUser  : getLoggedUser,\n            setSessionToken: setSessionToken,\n            ensureLoggedIn : ensureLoggedIn,\n            recoverPassword: recoverPassword,\n            resetPassword  : resetPassword,\n            logIn          : logIn,\n            logOut         : logOut\n        };\n\n        function getLoggedUser() {\n            return Parse.User.current();\n        }\n\n        function setSessionToken(sessionToken) {\n            mSessionToken = sessionToken;\n        }\n\n        function ensureLoggedIn() {\n            var defer = $q.defer();\n\n            if (mSessionToken === null) {\n                defer.reject('Session token invalid');\n                return defer.promise;\n            }\n\n            if (!Parse.User.current()) {\n                Parse.User.become(mSessionToken).then(defer.resolve, defer.reject);\n            } else {\n                defer.resolve(Parse.User.current());\n            }\n\n            return defer.promise;\n        }\n\n        function recoverPassword(email) {\n            var defer = $q.defer();\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function resetPassword(email) {\n\n            var defer = $q.defer();\n\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logIn(obj) {\n            var defer = $q.defer();\n\n            Parse.User.logIn(obj.username, obj.password, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            Parse.User.logOut().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').service('Camera', CameraFactory);\n\n    function CameraFactory($cordovaCamera, $q) {\n\n        return {\n            getPicture   : getPicture,\n            resizeImage  : resizeImage,\n            toBase64Image: toBase64Image\n        };\n\n        function getPicture(params) {\n\n            var defer = $q.defer();\n            if (window.cordova) {\n                var sourceType = params.sourceType || Camera.PictureSourceType.CAMERA;\n                if (params.sourceType === 'photoLibrary') {\n                    sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n                }\n                if (params.sourceType === 'camera') {\n                    sourceType = Camera.PictureSourceType.CAMERA;\n                }\n\n                var options = {\n                    quality           : 70,\n                    targetWidth       : 800,\n                    targetHeight      : 800,\n                    saveToPhotoAlbum  : false,\n                    correctOrientation: true,\n                    sourceType        : sourceType,\n                    destinationType   : Camera.DestinationType.DATA_URL,\n                    encodingType      : Camera.EncodingType.JPEG,\n                };\n\n                $cordovaCamera.getPicture(options).then(defer.resolve, defer.reject);\n            } else {\n                console.log('Input File');\n\n                var fileInput = angular.element('<input type=\"file\" accept=\"image/x-png, image/gif, image/jpeg\" max-size=\"2048\" />');\n                fileInput[0].click();\n                fileInput.on('change', function (evt) {\n                    var tempImage = evt.currentTarget.files[0];\n                    var reader    = new FileReader();\n                    reader.onload = function (evt) {\n                        defer.resolve(evt.target.result);\n                    };\n                    reader.readAsDataURL(tempImage);\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function toBase64Image(img_path, width, height) {\n            var defer = $q.defer();\n            window.imageResizer.resizeImage(defer.resolve, defer.reject, img_path, width || 1, height || 1, {\n                imageDataType: ImageResizer.IMAGE_DATA_TYPE_URL,\n                resizeType   : ImageResizer.RESIZE_TYPE_FACTOR,\n                format       : 'jpg'\n            });\n\n            return defer.promise;\n        }\n\n        function resizeImage(img_path, width, height) {\n            var defer = $q.defer();\n            window.imageResizer.resizeImage(defer.resolve, defer.reject,  img_path, width || 640, height || 640, {\n                imageDataType: ImageResizer.IMAGE_DATA_TYPE_URL,\n                resizeType   : ImageResizer.RESIZE_TYPE_MIN_PIXEL,\n                pixelDensity : true,\n                storeImage   : false,\n                photoAlbum   : false,\n                format       : 'jpg'\n            });\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .factory('ConnectMonitor', ConnectMonitorFactory);\n\n    function ConnectMonitorFactory($rootScope, $cordovaNetwork) {\n\n                return {\n            watch: watch\n        };\n\n        function watch() {\n\n            if (ionic.Platform.isWebView()) {\n                $rootScope.onLine = $cordovaNetwork.isOnline();\n                $rootScope.$apply();\n\n\n                $rootScope.$on('$cordovaNetwork:online', function (event, networkState) {\n                    console.log('went online');\n                    $rootScope.onLine = true;\n                    $rootScope.$apply();\n                });\n\n                $rootScope.$on('$cordovaNetwork:offline', function (event, networkState) {\n                    console.log('went offline');\n                    $rootScope.onLine = false;\n                    $rootScope.$apply();\n                });\n            } else {\n                $rootScope.onLine = navigator.onLine;\n                $rootScope.$apply();\n\n                window.addEventListener('online', function (e) {\n                    console.log('went online');\n                    $rootScope.onLine = true;\n                    $rootScope.$apply();\n                }, false);\n\n                window.addEventListener('offline', function (e) {\n                    console.log('went offline');\n                    $rootScope.onLine = false;\n                    $rootScope.$apply();\n                }, false);\n            }\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .factory('DAO', DAOFactory);\n    function DAOFactory($interval, $q) {\n        var _db;\n        var _tables = [];\n\n        return {\n            init       : init,\n            insert     : insert,\n            query      : query,\n            getLastSync: getLastSync,\n            paginate   : paginate,\n            fetchAll   : fetchAll\n        };\n\n        function init(database) {\n\n            if (!_db) {\n                if (window.sqlitePlugin !== undefined) {\n                    _db = window.sqlitePlugin.openDatabase({\n                        name              : database.name,\n                        location          : 2,\n                        createFromLocation: 1\n                    });\n                } else {\n                    _db = window.openDatabase(database.name, \"1.0\", \"Database\", 200000);\n                }\n            }\n\n            var _promises = [];\n            angular.forEach(database.tables, function (table) {\n                var columns = [];\n                angular.forEach(table.columns, function (type, name) {\n                    columns.push(name + ' ' + type);\n                });\n                query('DROP TABLE ' + table.name);\n                var _query = 'CREATE TABLE IF NOT EXISTS ' + table.name + ' (' + columns.join(',') + ')';\n                _promises.push(query(_query));\n                _tables.push(table);\n            });\n\n            return $q.all(_promises);\n        }\n\n        function getLastSync(table, column) {\n            var defer = $q.defer();\n            query(\"SELECT MAX(\" + column + \") as lastSync FROM \" + table)\n                .then(function (data) {\n                    var lastSync = data.rows.item[0].lastSync;\n                    defer.resolve(lastSync);\n                });\n            return defer.promise;\n        }\n\n        function insert(obj) {\n            var defer    = $q.defer();\n            var _columns = [];\n            var _values  = [];\n\n            angular.forEach(obj.columns, function (value, key) {\n                _columns.push(key);\n                if (typeof  value === 'number') {\n                    _values.push(value);\n                } else {\n                    _values.push(\"'\" + value + \"'\");\n                }\n            });\n\n            var _query = \"INSERT OR REPLACE INTO \" + obj.table + \" (\" + _columns.join(',') + \") VALUES (\" + _values.join(',') + \")\"\n            query(_query).then(defer.resolve).catch(defer.reject);\n            return defer.promise;\n\n        }\n\n        function query(query, bindings) {\n            bindings  = typeof bindings !== 'undefined' ? bindings : [];\n            var defer = $q.defer();\n\n            _db.transaction(function (transaction) {\n                transaction.executeSql(query, bindings, function (transaction, result) {\n                    var results = {\n                        rows: []\n                    };\n                    if (result && result.rows) {\n                        for (var i = 0; i < result.rows.length; i++) {\n                            results.rows.push(angular.copy(result.rows[i]));\n                        }\n                    }\n                    defer.resolve(results);\n                }, function (transaction, error) {\n                    console.log(transaction, error);\n                    defer.reject(error);\n                });\n            });\n\n            return defer.promise;\n        }\n\n        function paginate(_table, columns, _where, _join, _order, limit, page) {\n            var defer = $q.defer();\n            if (page === undefined) page = -1;\n            var _columns = columns;\n            var _limit   = limit ? limit : 10;\n            var _query1  = \"SELECT SUM(id) as TOTAL FROM \" + _table + \"  \" + _where;\n            var _query   = \"SELECT \" + _columns + \" FROM \" + _table + \"  \" + _where + \" \" + _join + \" \" + _order + \" LIMIT \" + _limit + \" OFFSET \" + page;\n\n            console.log('query', _query1);\n            console.log('query', _query);\n\n            query(_query1).then(function (data) {\n                var result = {\n                    page : page,\n                    total: data.rows[0].TOTAL,\n                    rows : []\n                };\n\n                query(_query).then(function (data) {\n                    console.log(data);\n\n                    result.rows = data.rows;\n                    defer.resolve(result);\n                });\n            });\n            return defer.promise;\n        }\n\n        function fetchAll(result) {\n            var output = [];\n            for (var i = 0; i < result.rows.length; i++) {\n                output.push(result.rows.item(i));\n            }\n            return output;\n        }\n    }\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .factory('DataUtil', DataUtilFactory);\n\n    function DataUtilFactory() {\n\n        return {\n            parseData: parseData,\n            parseString: parseString,\n            getDate: getDate,\n            formatDate: formatDate,\n            getMonthName: getMonthName,\n            getFirstDay: getFirstDay,\n            getLastDay: getLastDay\n        };\n\n        function parseData(string) {\n            var parts = string.split('-');\n            return new Date(parts[0], parts[1] - 1, parts[2]);\n        }\n\n        function parseString(data) {\n            return new Date(data).toLocaleDateString();\n        }\n\n\n        function getDate() {\n            var data   = new Date();\n            var inicio = \"00\";\n            var year   = data.getFullYear();\n            var month  = (inicio + (data.getMonth() + 1)).slice(-inicio.length);\n            var day    = (inicio + (data.getDate())).slice(-inicio.length);\n            return year + '-' + month + '-' + day;\n        }\n\n        function formatDate(milliseconds) {\n            var data   = new Date(milliseconds);\n            var inicio = \"00\";\n            var year   = data.getFullYear();\n            var month  = (inicio + (data.getMonth() + 1)).slice(-inicio.length);\n            var day    = (inicio + (data.getDate())).slice(-inicio.length);\n            return year + '-' + month + '-' + day;\n        }\n\n        function getMonthName(data) {\n            var meses = ['Janeiro', 'Feveiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];\n            return meses[data.getMonth()];\n        }\n\n        function getFirstDay(data) {\n            var year  = data.getFullYear();\n            var month = data.getMonth();\n            return new Date(year, month, 1);\n        }\n\n        function getLastDay(data) {\n            var year  = data.getFullYear();\n            var month = data.getMonth() + 1;\n            return new Date(year, month, 0);\n        }\n\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').service('Dialog', DialogFactory);\n\n    function DialogFactory($cordovaDialogs, $ionicPopup, $q) {\n\n        return {\n            alert  : alert,\n            confirm: confirm\n        };\n\n        function alert(message, title) {\n            var defer = $q.defer();\n            if (window.cordova) {\n                $cordovaDialogs.alert(message, title).then(defer.resolve);\n            } else {\n                $ionicPopup.alert({\n                    title   : title,\n                    template: message\n                });\n            }\n            return defer.promise;\n        }\n\n        function confirm(options) {\n            var defer = $q.defer();\n            if (window.cordova) {\n                $cordovaDialogs.confirm(options.message, options.title, options.buttonsText).then(function (result) {\n                    console.log(result);\n                    if (result === 1) {\n                        defer.resolve(true);\n                    }\n                    defer.reject(true);\n                });\n\n            } else {\n                $ionicPopup.confirm({\n                    title   : options.title,\n                    template: options.message\n                }).then(function (res) {\n                    if (res) {\n                        defer.resolve(true);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n            }\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').service('Facebook', FacebookFactory);\n\n    function FacebookFactory($q, $facebook, $cordovaFacebook) {\n\n        var facebook = window.cordova ? $cordovaFacebook : $facebook;\n        var me;\n\n        return {\n            logIn         : logIn,\n            logOut        : logOut,\n            me            : getMe,\n            invite        : invite,\n            friends       : friends,\n            api           : api,\n            getCurrentUser: getCurrentUser,\n            getFriends    : getFriends,\n            postImage     : postImage,\n            postImage1    : postImage1,\n            link          : link\n        };\n\n        function getCurrentUser() {\n            return facebook.getLoginStatus();\n        }\n\n        function logIn() {\n            console.log('facebook login', facebook);\n            return facebook.login(['public_profile', 'email']);\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            $cordovaFacebook.logout().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function postImage(image) {\n            var defer = $q.defer();\n            var item  = {\n                method     : 'feed',\n                name       : image.title,\n                link       : 'https://photogram.codevibe.io/',\n                picture    : image.image._url,\n                caption    : image.title,\n                description: image.title,\n                message    : ''\n            };\n\n            console.log(item);\n            facebook.ui(item, defer.resolve);\n            return defer.promise;\n        }\n\n        function postImage1(image) {\n            var defer = $q.defer();\n            facebook.api('/me/feed', 'post', {\n                message  : image.title,\n                link     : image.image._url,\n                picture  : image.image._url,\n                published: true\n            }, defer.resolve);\n            return defer.promise;\n        }\n\n        function getFriends() {\n            var defer = $q.defer();\n            facebook.api('/me/friends', defer.resolve)\n            return defer.promise;\n        }\n\n        function getMe() {\n\n            var defer = $q.defer();\n            if (window.cordova) {\n\n                $cordovaFacebook\n                    .api('me?fields=name,first_name,last_name,gender,email', ['public_profile'])\n                    .then(defer.resolve, defer.reject);\n\n            } else {\n                facebook.api('/me', {fields: 'name, first_name, last_name, gender, email'}).then(function (response) {\n                    if (!response || response.error) {\n                        defer.reject(response.error);\n                    } else {\n                        defer.resolve(response);\n                    }\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function invite() {\n            var defer = $q.defer();\n            if (window.cordova) {\n                facebook.showDialog({\n                    method : 'apprequests',\n                    message: 'Venha para o nosso clube!'\n                }).then(defer.resolve, defer.reject);\n            } else {\n                facebook.ui({\n                    method : 'apprequests',\n                    message: 'Venha para o nosso clube!'\n                }).then(defer.resolve, defer.reject);\n            }\n            return defer.promise;\n        }\n\n\n        function friends() {\n            var defer = $q.defer();\n            facebook.api('me/friends').then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function api(api) {\n            var defer = $q.defer();\n            facebook.api(api).then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function link(user) {\n            var defer = $q.defer();\n            if (user) {\n                facebook.login(['email']).then(function (response) {\n                    console.log('facebook login', response);\n                    console.log(user, response, data);\n\n                    Parse.FacebookUtils.link(user, {\n                        id             : String(response.authResponse.userID),\n                        access_token   : response.authResponse.accessToken,\n                        expiration_date: (new Date().getTime() + 1000).toString()\n                    }, {\n                        success: function (user) {\n                            console.log('User', user);\n                            user.set('facebook', response['authResponse']['userID']);\n                            user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] + '/picture?width=250&height=250');\n                            user.set('facebook_complete', Boolean(true));\n                            user.save().then(defer.resolve);\n                        }\n                    });\n                }, defer.resolve);\n            } else {\n                defer.reject('not logged');\n            }\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryActivity', function ($q, ParseCloud, moment) {\n\n        var ParseObject = Parse.Object.extend('GalleryActivity', {\n            getStatus: function () {\n                if (this.isApproved) {\n                    return 'Approved';\n                } else if (this.isApproved === false) {\n                    return 'Rejected';\n                } else {\n                    return 'Pending';\n                }\n            }\n        }, {\n            update : function (item) {\n                var defer = $q.defer();\n                item.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy: function (item) {\n                var defer = $q.defer();\n                item.destroy({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            feed   : function (params) {\n                return ParseCloud.run('feedActivity', params);\n            },\n            all    : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n                if (params.filter != '') {\n                    query.contains('words', params.filter);\n                }\n\n                if (params.order) {\n                    if (params.order.indexOf('-') < -1) {\n                        query.ascending(params.order);\n                    } else {\n                        query.descending(params.order.replace('-'));\n                    }\n                }\n\n                if (params.date && params.date !== null) {\n                    var start = moment(params.date).startOf('day');\n                    var end   = moment(params.date).endOf('day');\n                    query.greaterThanOrEqualTo('createdAt', start.toDate());\n                    query.lessThanOrEqualTo('createdAt', end.toDate());\n                }\n\n                if (params.status && params.status !== null) {\n\n                    if (params.status === 'pending') {\n                        query.doesNotExist('isApproved');\n                    } else if (params.status === 'rejected') {\n                        query.equalTo('isApproved', false);\n                    } else if (params.status === 'approved') {\n                        query.equalTo('isApproved', true);\n                    }\n\n                }\n\n                query.include('gallery')\n                query.include('user')\n                query.limit(params.limit);\n                query.skip((params.page * params.limit) - params.limit);\n                query.find({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            count  : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n                if (params.filter != '') {\n                    query.contains('words', params.filter);\n                }\n\n\n                if (params.date && params.date !== null) {\n                    var start = moment(params.date).startOf('day');\n                    var end   = moment(params.date).endOf('day');\n                    query.greaterThanOrEqualTo('createdAt', start.toDate());\n                    query.lessThanOrEqualTo('createdAt', end.toDate());\n                }\n\n                if (params.status && params.status !== null) {\n\n                    if (params.status === 'pending') {\n                        query.doesNotExist('isApproved');\n                    } else if (params.status === 'rejected') {\n                        query.equalTo('isApproved', false);\n                    } else if (params.status === 'approved') {\n                        query.equalTo('isApproved', true);\n                    }\n                }\n\n                query.count({\n                    success: function (count) {\n                        defer.resolve(count);\n                    },\n                    error  : function (error) {\n                        defer.reject(error);\n                    }\n                });\n\n                return defer.promise;\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'fromUser', {\n            get: function () {\n                return this.get('fromUser');\n            },\n            set: function (value) {\n                this.set('fromUser', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'toUser', {\n            get: function () {\n                return this.get('toUser');\n            },\n            set: function (value) {\n                this.set('toUser', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'gallery', {\n            get: function () {\n                return this.get('gallery');\n            },\n            set: function (value) {\n                this.set('gallery', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'hashtags', {\n            get: function () {\n                return this.get('hashtags');\n            },\n            set: function (value) {\n                this.set('hashtags', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'words', {\n            get: function () {\n                return this.get('words');\n            },\n            set: function (value) {\n                this.set('words', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'address', {\n            get: function () {\n                return this.get('address');\n            },\n            set: function (value) {\n                this.set('address', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'location', {\n            get: function () {\n                return this.get('location');\n            },\n            set: function (val) {\n                this.set('location', new Parse.GeoPoint({\n                    latitude : val.latitude,\n                    longitude: val.longitude\n                }));\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryAlbum', GalleryFactory);\n\n    function GalleryFactory($q, ParseCloud, moment) {\n\n        var ParseObject = Parse.Object.extend('GalleryAlbum', {\n                getStatus: function () {\n                    if (this.isApproved) {\n                        return 'Approved';\n                    } else if (this.isApproved === false) {\n                        return 'Rejected';\n                    } else {\n                        return 'Pending';\n                    }\n                }\n            },\n            {\n                create : function (item) {\n                    var defer       = $q.defer();\n                    var parseObject = new ParseObject();\n                    parseObject.save(item, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                update : function (item) {\n                    var defer = $q.defer();\n                    item.save(null, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                destroy: function (item) {\n                    var defer = $q.defer();\n                    item.destroy({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                photos : function (params) {\n                    return ParseCloud.run('photoAlbum', params);\n                },\n                list   : function (params) {\n                    return ParseCloud.run('listAlbum', params);\n                },\n                get    : function (objectId) {\n                    var defer = $q.defer();\n                    new Parse.Query(this)\n                        .get(objectId, {\n                            success: defer.resolve,\n                            error  : defer.reject\n                        });\n\n                    return defer.promise;\n                },\n            });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'qtyPhotos', {\n            get: function () {\n                return this.get('qtyPhotos');\n            },\n            set: function (value) {\n                this.set('qtyPhotos', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryComment', function ($q, moment) {\n\n        var ParseObject = Parse.Object.extend('GalleryComment', {\n            getStatus: function () {\n                if (this.isApproved) {\n                    return 'Approved';\n                } else if (this.isApproved === false) {\n                    return 'Rejected';\n                } else {\n                    return 'Pending';\n                }\n            }\n        }, {\n            get        : function (itemId) {\n                var defer = $q.defer();\n                new Parse.Query(this)\n                    .get(itemId, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                return defer.promise;\n            },\n            create : function (item) {\n                var defer = $q.defer();\n                new ParseObject().save(item, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            update : function (item) {\n                var defer = $q.defer();\n                item.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy: function (item) {\n                var defer = $q.defer();\n                item.destroy({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            all    : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n\n                query.include('user');\n                query.ascending('createdAt');\n                query.equalTo('gallery', params.gallery);\n                query.limit(params.limit);\n                query.skip((params.page * params.limit) - params.limit);\n                query.find({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            count  : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n                if (params.filter != '') {\n                    query.contains('words', params.filter);\n                }\n\n\n                if (params.date && params.date !== null) {\n                    var start = moment(params.date).startOf('day');\n                    var end   = moment(params.date).endOf('day');\n                    query.greaterThanOrEqualTo('createdAt', start.toDate());\n                    query.lessThanOrEqualTo('createdAt', end.toDate());\n                }\n\n                if (params.status && params.status !== null) {\n\n                    if (params.status === 'pending') {\n                        query.doesNotExist('isApproved');\n                    } else if (params.status === 'rejected') {\n                        query.equalTo('isApproved', false);\n                    } else if (params.status === 'approved') {\n                        query.equalTo('isApproved', true);\n                    }\n                }\n\n                query.count({\n                    success: function (count) {\n                        defer.resolve(count);\n                    },\n                    error  : function (error) {\n                        defer.reject(error);\n                    }\n                });\n\n                return defer.promise;\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'user', {\n            get: function () {\n                return this.get('user');\n            },\n            set: function (value) {\n                this.set('user', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'text', {\n            get: function () {\n                return this.get('text');\n            },\n            set: function (value) {\n                this.set('text', value);\n            }\n        });\n\n        return ParseObject;\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Gallery', GalleryFactory);\n\n    function GalleryFactory($q, ParseCloud, moment) {\n\n        var ParseObject = Parse.Object.extend('Gallery', {\n                getStatus: function () {\n                    if (this.isApproved) {\n                        return 'Approved';\n                    } else if (this.isApproved === false) {\n                        return 'Rejected';\n                    } else {\n                        return 'Pending';\n                    }\n                }\n            },\n            {\n                create     : function (item) {\n                    var defer    = $q.defer();\n                    var objPlace = new ParseObject();\n\n                    if (item.address.geo) {\n                        item.location = new Parse.GeoPoint(item.address.geo);\n                    }\n\n                    objPlace.save(item, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n                update     : function (item) {\n                    var defer = $q.defer();\n                    item.save(null, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                destroy    : function (item) {\n                    var defer = $q.defer();\n                    item.destroy({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                comments   : function (params) {\n                    return ParseCloud.run('commentGallery', params);\n                },\n                getAlbum   : function (params) {\n                    return ParseCloud.run('getAlbum', params);\n                },\n                feed       : function (params) {\n                    console.log('feedGallery', params);\n                    return ParseCloud.run('feedGallery', params);\n                },\n                search     : function (params) {\n                    console.log(params);\n                    return ParseCloud.run('searchGallery', params);\n                },\n                follow     : function (params) {\n                    console.log('Follow', params);\n                    return ParseCloud.run('followUser', params);\n                },\n                likeGallery: function (params) {\n                    console.log(params);\n                    return ParseCloud.run('likeGallery', {galleryId: params.galleryId});\n                },\n                get        : function (galleryId) {\n                    var defer = $q.defer();\n                    new Parse.Query(this)\n                        .include('profile')\n                        .get(galleryId, {\n                            success: defer.resolve,\n                            error  : defer.reject\n                        });\n\n                    return defer.promise;\n                },\n                all        : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n\n                    if (params.order) {\n                        if (params.order.indexOf('-') < -1) {\n                            query.ascending(params.order);\n                        } else {\n                            query.descending(params.order.replace('-'));\n                        }\n                    }\n\n                    if (params.status && params.status !== null) {\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    query.limit(params.limit);\n\n                    query.skip((params.page * params.limit) - params.limit);\n                    query.find({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n                count      : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n                    if (params.filter != '') {\n                        query.contains('words', params.filter);\n                    }\n\n                    if (params.date && params.date !== null) {\n                        var start = moment(params.date).startOf('day');\n                        var end   = moment(params.date).endOf('day');\n                        query.greaterThanOrEqualTo('createdAt', start.toDate());\n                        query.lessThanOrEqualTo('createdAt', end.toDate());\n                    }\n\n                    if (params.status && params.status !== null) {\n\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    query.count({\n                        success: function (count) {\n                            defer.resolve(count);\n                        },\n                        error  : function (error) {\n                            defer.reject(error);\n                        }\n                    });\n\n                    return defer.promise;\n                }\n            });\n\n        Object.defineProperty(ParseObject.prototype, 'likesTotal', {\n            get: function () {\n                return this.get('likesTotal');\n            },\n            set: function (value) {\n                this.set('likesTotal', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'user', {\n            get: function () {\n                return this.get('user');\n            },\n            set: function (value) {\n                this.set('user', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'profile', {\n            get: function () {\n                return this.get('profile');\n            },\n            set: function (value) {\n                this.set('profile', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'hashtags', {\n            get: function () {\n                return this.get('hashtags');\n            },\n            set: function (value) {\n                this.set('hashtags', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'words', {\n            get: function () {\n                return this.get('words');\n            },\n            set: function (value) {\n                this.set('words', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'location', {\n            get: function () {\n                return this.get('location');\n            },\n            set: function (val) {\n                this.set('location', new Parse.GeoPoint({\n                    latitude : val.latitude,\n                    longitude: val.longitude\n                }));\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'address', {\n            get: function () {\n                return this.get('address');\n            },\n            set: function (value) {\n                this.set('address', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'icon', {\n            get: function () {\n                return this.get('icon');\n            },\n            set: function (value) {\n                this.set('icon', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('starter').factory('GalleryFeedback', function ($q, moment) {\n\n    var ParseObject = Parse.Object.extend('GalleryFeedback', {\n      getStatus: function () {\n        if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n        item.user    = Parse.User.current();\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n\n        }\n\n        query.include('gallery')\n        query.include('User')\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.order) {\n          if (params.order.indexOf('-') < -1) {\n            query.ascending(params.order);\n          } else {\n            query.descending(params.order.replace('-'));\n          }\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n        }\n\n        query.count({\n          success: function (count) {\n            defer.resolve(count);\n          },\n          error  : function (error) {\n            defer.reject(error);\n          }\n        });\n\n        return defer.promise;\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'user', {\n      get: function () {\n        return this.get('user');\n      },\n      set: function (value) {\n        this.set('user', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'subject', {\n      get: function () {\n        return this.get('subject');\n      },\n      set: function (value) {\n        this.set('subject', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'message', {\n      get: function () {\n        return this.get('title');\n      },\n      set: function (value) {\n        this.set('title', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'hashtags', {\n      get: function () {\n        return this.get('hashtags');\n      },\n      set: function (value) {\n        this.set('hashtags', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'words', {\n      get: function () {\n        return this.get('words');\n      },\n      set: function (value) {\n        this.set('words', value);\n      }\n    });\n\n\n    Object.defineProperty(ParseObject.prototype, 'isApproved', {\n      get: function () {\n        return this.get('isApproved');\n      },\n      set: function (value) {\n        this.set('isApproved', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n      get: function () {\n        return this.get('expiresAt');\n      },\n      set: function (value) {\n        this.set('expiresAt', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('starter').factory('GallerySetting', function ($q, moment) {\n\n    var ParseObject = Parse.Object.extend('GallerySetting', {\n      getStatus: function () {\n        if (moment().toDate() >= this.expiresAt) {\n          return 'Expired';\n        }\n        else if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('canonical', params.filter);\n        }\n\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        query.count({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      }\n\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'key', {\n      get: function () {\n        return this.get('key');\n      },\n      set: function (value) {\n        this.set('key', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'value', {\n      get: function () {\n        return this.get('value');\n      },\n      set: function (value) {\n        this.set('value', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Geolocation', GeolocationFactory);\n\n    function GeolocationFactory($ionicPlatform, $q) {\n        return {\n            getCurrentPosition: getCurrentPosition\n        };\n\n        function getCurrentPosition($cordovaGeolocation) {\n            var defer = $q.defer();\n\n            $ionicPlatform.ready(function () {\n                var options = {\n                    maximumAge        : 3000,\n                    timeout           : 1000,\n                    enableHighAccuracy: true\n                };\n\n                var options = {timeout: 10000, enableHighAccuracy: true};\n\n                if (navigator.geolocation) {\n                    navigator.geolocation.getCurrentPosition(\n                        function(position) {\n                            console.log(position);\n                            defer.resolve(position);\n                        },\n                        function(error) {\n                            defer.reject(error);\n                        },\n                        {timeout: 30000, enableHighAccuracy: true, maximumAge: 75000}\n                    );\n                }\n\n\n            });\n\n            return defer.promise;\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular.module('starter').factory('GoogleAnalytics', GoogleAnalyticsFactory);\n\n  function GoogleAnalyticsFactory($cordovaGoogleAnalytics) {\n    var TAG      = 'AnalyticsService';\n    var canTrack = false;\n    return {\n      init          : init,\n      trackView     : trackView,\n      trackEvent    : trackEvent,\n      trackException: trackException\n    };\n\n    function init(trackingId) {\n      if (trackingId !== null && trackingId !== '' && window.cordova) {\n        $cordovaGoogleAnalytics.debugMode();\n        $cordovaGoogleAnalytics.startTrackerWithId(trackingId);\n        canTrack = true;\n      } else {\n        console.warn('[' + TAG + ']: Invalid Tracker ID or not using emulator');\n      }\n    }\n\n    function trackEvent(category, action, label) {\n      if (canTrack) {\n        $cordovaGoogleAnalytics.trackEvent(category, action, label);\n      }\n    }\n\n    function trackView(viewName) {\n      if (canTrack) {\n        $cordovaGoogleAnalytics.trackView(viewName);\n      }\n    }\n\n    function trackException(description, isFatal) {\n      if (canTrack) {\n        $cordovaGoogleAnalytics.trackException(description, isFatal)\n      }\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Install', InstallFactory);\n\n    function InstallFactory(ParseCloud) {\n        return {\n            start : start,\n            status: status,\n        };\n\n        function start(data) {\n            return ParseCloud.run('install', data);\n        }\n\n        function status(data) {\n            return ParseCloud.run('status', data);\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('ParseCloud', ParseCloudFactory);\n\n    function ParseCloudFactory($q) {\n        return {\n            run: run\n        };\n\n        function run(action, data) {\n            var defer = $q.defer();\n            Parse.Cloud.run(action, data, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('starter').factory('ParseFile', function ($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(file, ext) {\n      var defer = $q.defer();\n      var filename = 'file.jpg';\n\n      if (ext) {\n        filename.replace('.jpg', ext);\n      }\n\n            new Parse.File(filename, file)\n        .save({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n      return defer.promise;\n    }\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('ParsePush', ParsePushFactory);\n\n    function ParsePushFactory($q) {\n\n        return {\n            init            : init,\n            on              : on,\n            subscribe       : subscribe,\n            getSubscriptions: getSubscriptions,\n            unsubscribe     : unsubscribe,\n            subscribeUser   : subscribeUser,\n        };\n\n\n        function init() {\n            var defer = $q.defer();\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.getInstallationId(function (id) {\n                    console.log(\"device installationId: \" + id);\n                    subscribeUser();\n                    defer.resolve(id);\n                }, function (e) {\n                    console.log('error', e);\n                    defer.reject(e);\n                });\n            } else {\n                defer.reject('Not Parse Push');\n            }\n            return defer.promise;\n        }\n\n        function getSubscriptions() {\n            var defer = $q.defer();\n            ParsePushPlugin.getSubscriptions(function (subscriptions) {\n                console.log(subscriptions);\n                defer.resolve(subscriptions);\n            }, function (e) {\n                console.log('error', e);\n                defer.reject(e);\n            });\n            return defer.promise;\n        }\n\n\n        function subscribeUser() {\n            var defer = $q.defer();\n            var user  = Parse.User.current();\n\n            if (window.ParsePushPlugin && user) {\n                subscribe(user.username);\n            } else {\n                defer.reject('Not device');\n            }\n            return defer.promise;\n        }\n\n        function on(event, callback) {\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.on(event, callback);\n            }\n        }\n\n        function subscribe(channel) {\n            var defer = $q.defer();\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.subscribe(channel, function (resp) {\n                    console.log('Subcribe in channel', channel);\n                    defer.resolve(resp);\n                }, function (err) {\n                    console.log('Not Subcribe in channel', channel);\n                    defer.reject(err);\n                });\n            }\n            return defer.promise;\n        }\n\n        function unsubscribe(channel) {\n            var defer = $q.defer();\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.unsubscribe(channel, function (resp) {\n                    console.log('Unsubcribe in channel', channel);\n                    defer.resolve(resp);\n                }, function (err) {\n                    console.log('Not Unsubcribe in channel', channel);\n                    defer.reject(err);\n                });\n            }\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Share', ShareFactory);\n\n    function ShareFactory($cordovaSocialSharing) {\n\n        var TAG = 'ShareService';\n\n        return {\n            open: open\n        };\n\n        function open(item) {\n            if (window.cordova && item) {\n                $cordovaSocialSharing.share(item.title, item.userName, item.image, item.url).then(function (result) {\n                    console.log(result);\n                }, function (err) {\n                    console.warn(err);\n                });\n            } else {\n                console.warn('[' + TAG + '] Unsupported platform');\n            }\n        }\n\n    }\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('starter').factory('Toast', ToastFactory);\n\n  function ToastFactory($cordovaToast, $ionicPopup) {\n\n    return {\n      alert  : alert,\n      confirm: confirm\n    };\n\n    function alert(params) {\n      if (window.cordova) {\n        $cordovaToast.show(params.text, 'short', 'bottom');\n      } else {\n        $ionicPopup.alert({\n          title   : params.title,\n          template: params.text,\n          okType  : 'button button-clear button-assertive',\n        });\n      }\n    }\n\n    function confirm(title, msg) {\n      return $ionicPopup.confirm({\n        title   : title,\n        template: msg\n      });\n    }\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('User', UserFactory);\n\n    function UserFactory($q, $translate, $cordovaDevice, ParseCloud, ParsePush) {\n\n        var User = Parse.User.extend({}, {\n            profile               : function (username) {\n                return ParseCloud.run('profile', {username: username})\n            },\n            list                  : function (params) {\n                return ParseCloud.run('listUsers', params)\n            },\n            getFollowers          : function (username) {\n                return ParseCloud.run('getFollowers', {username: username})\n            },\n            getLikers             : function (galleryId) {\n                return ParseCloud.run('getLikers', {galleryId: galleryId})\n            },\n            getFollowing          : function (username) {\n                return ParseCloud.run('getFollowing', {username: username})\n            },\n            signIn                : function (obj) {\n                var defer = $q.defer();\n\n                Parse.User.logIn(obj.username, obj.password, {\n                    success: function (currentUser) {\n\n                        var updateUser;\n                        if (window.cordova) {\n                            updateUser = {\n                                device  : $cordovaDevice.getDevice(),\n                                cordova : $cordovaDevice.getCordova(),\n                                model   : $cordovaDevice.getModel(),\n                                platform: $cordovaDevice.getPlatform(),\n                                uuid    : $cordovaDevice.getUUID(),\n                                version : $cordovaDevice.getVersion()\n                            };\n                        } else {\n                            var userAgent = window.navigator.userAgent.match(/(?:Chrom(?:e|ium)|Firefox)\\/([0-9]+)\\./);\n\n                            updateUser = {\n                                device  : {device: (userAgent) ? userAgent[0] : 'emulator'},\n                                cordova : '',\n                                model   : (userAgent) ? userAgent[0] : 'emulator',\n                                platform: window.navigator.platform,\n                                uuid    : '',\n                                version : (userAgent) ? userAgent[0] : 'emulator'\n                            };\n                        }\n\n                        updateUser.lang = $translate.use();\n\n                        if (window.cordova) {\n                            ParsePush.init();\n                        }\n\n                        User.update(updateUser).then(function () {\n                            defer.resolve(currentUser);\n                        }).catch(defer.reject);\n                    },\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            signUp                : function (data) {\n                var defer = $q.defer();\n                var user  = new Parse.User()\n                    .set({'name': data.name})\n                    .set({'username': data.username})\n                    .set({'email': data.email})\n                    .set({'password': data.password})\n                    .set({'roleName': 'User'});\n\n                user.signUp(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n\n            },\n            signInViaFacebook     : function (authData) {\n\n                var facebookAuthData = {\n                    id             : authData.authResponse.userID,\n                    access_token   : authData.authResponse.accessToken,\n                    expiration_date: (new Date().getTime() + 1000).toString()\n                };\n\n                var defer = $q.defer();\n                Parse.FacebookUtils.logIn(facebookAuthData, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            updateWithFacebookData: function (data) {\n                var defer = $q.defer();\n                ParseCloud.run('saveFacebookPicture', {}).then(function () {\n                    var user = Parse.User.current();\n\n                    if (!data.username && data.email) {\n                        user.set({'username': data.email.split('@')[0]});\n                    }\n\n                    if (!user.get('name') && data.name) {\n                        user.set({'name': data.name});\n                    }\n\n                    if (!user.get('email') && data.email) {\n                        user.set({'email': data.email});\n                    }\n                    user.save(null, {\n                        success: function () {\n                            user.fetch().then(defer.resolve, defer.reject);\n                        }\n                    });\n                }).catch(defer.reject);\n                return defer.promise;\n            },\n            logOut                : function () {\n                return Parse.User.logOut();\n            },\n            findByEmail           : function (email) {\n                return ParseCloud.run('findUserByEmail', {email: email});\n            },\n            getPublicData         : function (user) {\n                console.log(user);\n                var defer = $q.defer();\n                new Parse.Query('UserData').equalTo('user', user).first().then(function (userData) {\n                    if (userData) {\n                        defer.resolve(userData);\n                    } else {\n                        defer.reject(Parse.Promise.error({\n                            code   : 1,\n                            message: 'User Data not found'\n                        }));\n                    }\n                }, defer.reject);\n                return defer.promise;\n            },\n            recoverPassword       : function (email) {\n                var defer = $q.defer();\n                Parse.User.requestPasswordReset(email, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy               : function () {\n                return Parse.User.current().destroy();\n            },\n            setPhoto              : function (parseFile) {\n                var defer = $q.defer();\n                var user  = Parse.User.current();\n                user.set({'photo': parseFile});\n                user.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            follow                : function (userId) {\n                return ParseCloud.run('followUser', {userId: userId});\n            },\n            all                   : function (params) {\n                return ParseCloud.run('getUsers', params);\n            },\n            validateUsername      : function (input) {\n                return ParseCloud.run('validateUsername', {username: input});\n            },\n            validateEmail         : function (input) {\n                return ParseCloud.run('validateEmail', {email: input});\n            },\n            update                : function (params) {\n                var user    = Parse.User.current();\n                params.lang = $translate.use();\n\n                angular.forEach(params, function (value, key) {\n                    user.set(key, value);\n                });\n                return user.save();\n            },\n            delete                : function (data) {\n                return ParseCloud.run('destroyUser', data);\n            },\n            fetch                 : function () {\n                var defer = $q.defer();\n                if (Parse.User.current()) {\n                    Parse.User.current().fetch().then(defer.resolve, defer.reject);\n                } else {\n                    defer.reject();\n                }\n                return defer.promise;\n            }\n\n        });\n\n        Object.defineProperty(User.prototype, 'name', {\n            get: function () {\n                return this.get('name');\n            },\n            set: function (val) {\n                this.set('name', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'username', {\n            get: function () {\n                return this.get('username');\n            },\n            set: function (val) {\n                this.set('username', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'status', {\n            get: function () {\n                return this.get('status');\n            },\n            set: function (val) {\n                this.set('status', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'gender', {\n            get: function () {\n                return this.get('gender');\n            },\n            set: function (val) {\n                this.set('gender', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'email', {\n            get: function () {\n                return this.get('email');\n            },\n            set: function (val) {\n                this.set('email', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'photo', {\n            get: function () {\n                return this.get('photo');\n            },\n            set: function (val) {\n                this.set('photo', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'photoThumb', {\n            get: function () {\n                return this.get('photoThumb');\n            },\n            set: function (val) {\n                this.set('photoThumb', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'roleName', {\n            get: function () {\n                return this.get('roleName');\n            },\n            set: function (val) {\n                this.set('roleName', val);\n            }\n        });\n\n        return User;\n\n    }\n\n})();\n\n(function (window, angular, cordova, ionic, undefined) {\n    'use strict';\n    var default_config = {\n        color: '#1D5ECE',\n        bgcolor: '#eaeaea',\n        semi: false,\n        rounded: false,\n        clockwise: true,\n        radius: '15',\n        stroke: '5',\n        max: 100,\n        iterations: 50,\n        animation: 'easeOutCubic',\n        interval: 200,\n        showProgressCircleInBrowser: true,\n        showProgressCircleInDevice: true\n    };\n\n    angular\n        .module('ionic-cache-src', [\n            'ionic',\n            'angular-svg-round-progressbar',\n            'ngCordova',\n            'ngStorage'\n        ])\n        .provider('$cacheSrc', function () {\n            this.config = default_config;\n            this.set = function (obj, val) {\n                var t = typeof obj;\n                if (t == 'object') {\n                    angular.extend(this.config, obj);\n                } else if (t == 'string') {\n                    this.config[obj] = val;\n                }\n                return this;\n            };\n\n            this.$get = function () {\n                return this.config;\n            };\n        })\n        .factory('cacheSrcStorage', function ($localStorage) {\n            var c = {};\n            c._cache = $localStorage.cache_src;\n            c.get = function (url) {\n                return c._cache[url] && (getCacheDir() + c._cache[url]);\n            };\n            c.set = function (url, localUrl) {\n                c._cache[url] = localUrl;\n                return c;\n            };\n            return c;\n        })\n        .directive('cacheSrc', function ($ionicPlatform, $interval, $timeout, $compile, $cacheSrc,\n                                         $cordovaFileTransfer, $localStorage, $cordovaNetwork) {\n            return {\n                restrict: 'A',\n                scope: {\n                    'onProgress': '=?',\n                    'onFinish': '=?',\n                    'onError': '=?'\n                },\n                link: function (scope, element, attrs) {\n\n                    function id() {\n                        var text = \"\";\n                        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n                        for (var i = 0; i < 16; i++)\n                            text += possible.charAt(Math.floor(Math.random() * possible.length));\n                        return text;\n                    };\n\n                    function makeProgressCircle($scope, $compile) {\n                        return angular.element($compile(\n                            '<div style=\"text-align:{{textAlign}}\"><div round-progress  max=\"max\"  current=\"progress\"  color=\"{{color}}\" bgcolor=\"{{bgcolor}}\"  radius=\"{{radius}}\"  stroke=\"{{stroke}}\"  rounded=\"rounded\" clockwise=\"clockwise\" iterations=\"{{iterations}}\"  animation=\"{{animation}}\"></div></div>'\n                        )($scope));\n                    };\n\n                    function startsWith(str, arr) {\n                        for (var i = 0; i < arr.length; i++) {\n                            var sub_str = arr[i];\n                            if (str.indexOf(sub_str) === 0) {\n                                return true;\n                            }\n                        }\n                        return false;\n                    };\n\n\n                    function needDownload(path) {\n                        if (startsWith(path, [\n                                'http://',\n                                'https://',\n                                'ftp://'\n                            ])) {\n                            return true;\n                        } else {\n                            return false;\n                        }\n                    };\n\n                    function attrToScope(scope, attrs) {\n                        scope.progress = 0;\n                        scope.max = 100;\n                        scope.radius = attrs.radius;\n                        scope.stroke = attrs.stroke;\n                        scope.animation = attrs.animation;\n                        scope.clockwise = attrs.clockwise;\n                        scope.color = attrs.color;\n                        scope.bgcolor = attrs.bgcolor;\n                        scope.rounded = attrs.rounded;\n                        scope.iterations = attrs.iterations;\n                        scope.textAlign = 'center';\n                    };\n\n                    var isIOS = ionic.Platform.isIOS();\n                    var isAndroid = ionic.Platform.isAndroid();\n\n                    if (cordova & isIOS || isAndroid) {\n\n\n                        var getCacheDir = function () {\n                            switch (device.platform) {\n                                case 'iOS':\n                                    return cordova.file.documentsDirectory;\n                                case 'Android':\n                                    return cordova.file.dataDirectory;\n                            }\n                            return '';\n                        };\n\n                        var progress_circle;\n                        var display;\n                        var config = {};\n                        angular.extend(config, $cacheSrc);\n                        angular.extend(config, attrs);\n                        attrToScope(scope, config);\n                        scope.onProgress = scope.onProgress || function () {};\n                        scope.onFinish = scope.onFinish || function () {};\n                        scope.onError = scope.onError || function () {};\n                        var cache = $localStorage.cache_src = $localStorage.cache_src || {};\n                        var finish = function (result) {\n                            if (config.showProgressCircleInDevice) {\n                                element.css('display', display);\n                                progress_circle.remove();\n                            }\n                            addSrc(result);\n                        };\n\n                        var addSrc = function (result) {\n                            element[0][config.srcIs || 'src'] = result;\n                            scope.onFinish(result);\n                        };\n\n\n                        attrs.$observe('cacheSrc',\n                            function () {\n                                if (attrs.cacheSrc) {\n                                    if (needDownload(attrs.cacheSrc)) {\n                                        if (cache[attrs.cacheSrc]) {\n                                            $ionicPlatform\n                                                .ready()\n                                                .then(function () {\n                                                    addSrc(getCacheDir() + cache[attrs.cacheSrc]);\n                                                });\n                                        } else {\n                                            if (config.showProgressCircleInDevice) {\n                                                progress_circle = makeProgressCircle(scope, $compile);\n                                                display = element.css('display');\n                                                element.css('display', 'none');\n                                                element.after(progress_circle);\n                                            }\n                                            $ionicPlatform\n                                                .ready()\n                                                .then(function () {\n                                                    var ext = '.' + attrs.cacheSrc.split('.').pop();\n                                                    var fileName = id() + ext;\n                                                    $cordovaFileTransfer\n                                                        .download(attrs.cacheSrc, getCacheDir() + fileName, {}, true)\n                                                        .then(function (result) {\n                                                            cache[attrs.cacheSrc] = fileName;\n                                                            finish(getCacheDir() + fileName);\n                                                        }, scope.onError, function (progress) {\n                                                            scope.progress = (progress.loaded / progress.total) * 100;\n                                                            scope.onProgress(scope.progress);\n                                                        });\n                                                });\n                                        }\n                                    } else {\n                                        addSrc(attrs.cacheSrc);\n                                    }\n                                }\n                            });\n                    } else {\n                        var progress_circle = makeProgressCircle(scope, $compile);\n                        var config = {};\n                        angular.extend(config, $cacheSrc);\n                        angular.extend(config, attrs);\n                        attrToScope(scope, config);\n                        scope.onProgress = scope.onProgress || function () {};\n                        scope.onFinish = scope.onFinish || function () {};\n                        attrs.$observe('cacheSrc', function () {\n                            if (attrs.cacheSrc) {\n                                if (needDownload(attrs.cacheSrc)) {\n                                    if (config.showProgressCircleInBrowser) {\n                                        var display = element.css('display');\n                                        element.css('display', 'none');\n                                        element\n                                            .after(progress_circle);\n                                    }\n                                    var promise = $interval(function () {\n                                        scope.progress += 10;\n                                        scope.onProgress(scope.progress);\n                                        if (scope.progress == 100) {\n                                            $interval.cancel(promise);\n                                            if (config.showProgressCircleInBrowser) {\n                                                element.css('display', display);\n                                                progress_circle.remove();\n                                            }\n                                            element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                                            scope.onFinish(attrs.cacheSrc);\n                                        }\n                                    }, config.interval);\n                                } else {\n                                    element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                                    scope.onFinish(attrs.cacheSrc);\n                                }\n                            }\n                        });\n                    }\n\n                }\n            };\n        });\n\n})(window, window.angular, window.cordova, window.ionic);\n(function () {\n    \"use strict\";\n    (function () {\n        var lastTime = 0;\n        var vendors  = ['webkit', 'moz'];\n        for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n            window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n            window.cancelAnimationFrame  =\n                window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n        }\n\n        if (!window.requestAnimationFrame) {\n            window.requestAnimationFrame = function (callback) {\n                var currTime   = new Date().getTime();\n                var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n                var id         = window.setTimeout(function () { callback(currTime + timeToCall); },\n                    timeToCall);\n                lastTime       = currTime + timeToCall;\n                return id;\n            };\n        }\n\n        if (!window.cancelAnimationFrame) {\n            window.cancelAnimationFrame = function (id) {\n                window.clearTimeout(id);\n            };\n        }\n    }());\n\n    angular.module('angular-svg-round-progressbar', []);\n    angular.module('angular-svg-round-progressbar').constant('roundProgressConfig', {\n        max           : 50,\n        semi          : false,\n        rounded       : false,\n        responsive    : false,\n        clockwise     : true,\n        radius        : 100,\n        color         : '#45ccce',\n        bgcolor       : '#eaeaea',\n        stroke        : 15,\n        duration      : 800,\n        animation     : 'easeOutCubic',\n        animationDelay: 0,\n        offset        : 0\n    });\n\n    angular.module('angular-svg-round-progressbar').service('roundProgressService', [\n        '$window', function ($window) {\n            var service  = {};\n            var isNumber = angular.isNumber;\n            var base     = document.head.querySelector('base');\n\n            service.isSupported = !!(document.createElementNS && document.createElementNS('http://www.w3.org/2000/svg', \"svg\").createSVGRect);\n\n            service.resolveColor = base && base.href ? function (value) {\n                var hashIndex = value.indexOf('#');\n\n                if (hashIndex > -1 && value.indexOf('url') > -1) {\n                    return value.slice(0, hashIndex) + window.location.href + value.slice(hashIndex);\n                }\n\n                return value;\n            } : function (value) {\n                return value;\n            };\n\n            service.toNumber = function (value) {\n                return isNumber(value) ? value : parseFloat((value + '').replace(',', '.'));\n            };\n\n            service.getOffset = function (scope, options) {\n                var value = +options.offset || 0;\n\n                if (options.offset === 'inherit') {\n                    var parent = scope.$parent;\n\n                    while (parent) {\n                        if (parent.hasOwnProperty('$$getRoundProgressOptions')) {\n                            var opts = parent.$$getRoundProgressOptions();\n                            value += ((+opts.offset || 0) + (+opts.stroke || 0));\n                        }\n\n                        parent = parent.$parent;\n                    }\n                }\n\n                return value;\n            };\n\n            service.getTimestamp = ($window.performance && $window.performance.now && angular.isNumber($window.performance.now())) ? function () {\n                return $window.performance.now();\n            } : function () {\n                return new $window.Date().getTime();\n            };\n\n            service.updateState = function (current, total, pathRadius, element, elementRadius, isSemicircle) {\n                if (!elementRadius) return element;\n\n                var value    = current > 0 ? Math.min(current, total) : 0;\n                var type     = isSemicircle ? 180 : 359.9999;\n                var perc     = total === 0 ? 0 : (value / total) * type;\n                var start    = polarToCartesian(elementRadius, elementRadius, pathRadius, perc);\n                var end      = polarToCartesian(elementRadius, elementRadius, pathRadius, 0);\n                var arcSweep = (perc <= 180 ? 0 : 1);\n                var d        = 'M ' + start + ' A ' + pathRadius + ' ' + pathRadius + ' 0 ' + arcSweep + ' 0 ' + end;\n\n                return element.attr('d', d);\n            };\n\n\n            service.animations = {\n\n\n                linearEase: function (t, b, c, d) {\n                    return c * t / d + b;\n                },\n\n                easeInQuad: function (t, b, c, d) {\n                    return c * (t /= d) * t + b;\n                },\n\n                easeOutQuad: function (t, b, c, d) {\n                    return -c * (t /= d) * (t - 2) + b;\n                },\n\n                easeInOutQuad: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t + b;\n                    return -c / 2 * ((--t) * (t - 2) - 1) + b;\n                },\n\n                easeInCubic: function (t, b, c, d) {\n                    return c * (t /= d) * t * t + b;\n                },\n\n                easeOutCubic: function (t, b, c, d) {\n                    return c * ((t = t / d - 1) * t * t + 1) + b;\n                },\n\n                easeInOutCubic: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n                    return c / 2 * ((t -= 2) * t * t + 2) + b;\n                },\n\n                easeInQuart: function (t, b, c, d) {\n                    return c * (t /= d) * t * t * t + b;\n                },\n\n                easeOutQuart: function (t, b, c, d) {\n                    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n                },\n\n                easeInOutQuart: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n                    return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n                },\n\n                easeInQuint: function (t, b, c, d) {\n                    return c * (t /= d) * t * t * t * t + b;\n                },\n\n                easeOutQuint: function (t, b, c, d) {\n                    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n                },\n\n                easeInOutQuint: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n                    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n                },\n\n                easeInSine: function (t, b, c, d) {\n                    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n                },\n\n                easeOutSine: function (t, b, c, d) {\n                    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n                },\n\n                easeInOutSine: function (t, b, c, d) {\n                    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n                },\n\n                easeInExpo: function (t, b, c, d) {\n                    return (t == 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n                },\n\n                easeOutExpo: function (t, b, c, d) {\n                    return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n                },\n\n                easeInOutExpo: function (t, b, c, d) {\n                    if (t == 0) return b;\n                    if (t == d) return b + c;\n                    if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n                    return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n                },\n\n                easeInCirc: function (t, b, c, d) {\n                    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n                },\n\n                easeOutCirc: function (t, b, c, d) {\n                    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n                },\n\n                easeInOutCirc: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n                    return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n                },\n\n                easeInElastic: function (t, b, c, d) {\n                    var s = 1.70158;\n                    var p = 0;\n                    var a = c;\n                    if (t == 0) return b;\n                    if ((t /= d) == 1) return b + c;\n                    if (!p) p = d * 0.3;\n                    if (a < Math.abs(c)) {\n                        a = c;\n                        s = p / 4;\n                    }\n                    else s = p / (2 * Math.PI) * Math.asin(c / a);\n                    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n                },\n\n                easeOutElastic: function (t, b, c, d) {\n                    var s = 1.70158;\n                    var p = 0;\n                    var a = c;\n                    if (t == 0) return b;\n                    if ((t /= d) == 1) return b + c;\n                    if (!p) p = d * 0.3;\n                    if (a < Math.abs(c)) {\n                        a = c;\n                        s = p / 4;\n                    }\n                    else s = p / (2 * Math.PI) * Math.asin(c / a);\n                    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n                },\n\n                easeInOutElastic: function (t, b, c, d) {\n                    var s = 1.70158;\n                    var p = 0;\n                    var a = c;\n                    if (t == 0) return b;\n                    if ((t /= d / 2) == 2) return b + c;\n                    if (!p) p = d * (0.3 * 1.5);\n                    if (a < Math.abs(c)) {\n                        a = c;\n                        s = p / 4;\n                    }\n                    else s = p / (2 * Math.PI) * Math.asin(c / a);\n                    if (t < 1) return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n                    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n                },\n\n                easeInBack: function (t, b, c, d, s) {\n                    if (s == undefined) s = 1.70158;\n                    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n                },\n\n                easeOutBack: function (t, b, c, d, s) {\n                    if (s == undefined) s = 1.70158;\n                    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n                },\n\n                easeInOutBack: function (t, b, c, d, s) {\n                    if (s == undefined) s = 1.70158;\n                    if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n                    return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n                },\n\n                easeInBounce: function (t, b, c, d) {\n                    return c - service.animations.easeOutBounce(d - t, 0, c, d) + b;\n                },\n\n                easeOutBounce: function (t, b, c, d) {\n                    if ((t /= d) < (1 / 2.75)) {\n                        return c * (7.5625 * t * t) + b;\n                    } else if (t < (2 / 2.75)) {\n                        return c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b;\n                    } else if (t < (2.5 / 2.75)) {\n                        return c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b;\n                    } else {\n                        return c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b;\n                    }\n                },\n\n                easeInOutBounce: function (t, b, c, d) {\n                    if (t < d / 2) return service.animations.easeInBounce(t * 2, 0, c, d) * 0.5 + b;\n                    return service.animations.easeOutBounce(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n                }\n            };\n\n            function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n                var angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\n                var x              = centerX + (radius * Math.cos(angleInRadians));\n                var y              = centerY + (radius * Math.sin(angleInRadians));\n\n                return x + ' ' + y;\n            }\n\n            return service;\n        }\n    ]);\n\n    angular.module('angular-svg-round-progressbar').directive('roundProgress', [\n        '$window', 'roundProgressService', 'roundProgressConfig', function ($window, service, roundProgressConfig) {\n            var base = {\n                restrict  : 'EA',\n                replace   : true,\n                transclude: true,\n                scope     : {\n                    current       : '=',\n                    max           : '=',\n                    semi          : '=',\n                    rounded       : '=',\n                    clockwise     : '=',\n                    responsive    : '=',\n                    onRender      : '=',\n                    radius        : '@',\n                    color         : '@',\n                    bgcolor       : '@',\n                    stroke        : '@',\n                    duration      : '@',\n                    animation     : '@',\n                    offset        : '@',\n                    animationDelay: '@'\n                }\n            };\n\n            if (!service.isSupported) {\n                return angular.extend(base, {\n                    template: '<div class=\"round-progress\" ng-transclude></div>'\n                });\n            }\n\n            return angular.extend(base, {\n                link    : function (scope, element, attrs) {\n                    var isNested        = !element.hasClass('round-progress-wrapper');\n                    var svg             = isNested ? element : element.find('svg').eq(0);\n                    var ring            = svg.find('path').eq(0);\n                    var background      = svg.find('circle').eq(0);\n                    var options         = angular.copy(roundProgressConfig);\n                    var lastAnimationId = 0;\n                    var lastTimeoutId;\n                    var parentChangedListener;\n\n                    scope.$$getRoundProgressOptions = function () {\n                        return options;\n                    };\n\n                    var renderCircle = function () {\n                        var isSemicircle   = options.semi;\n                        var responsive     = options.responsive;\n                        var radius         = +options.radius || 0;\n                        var stroke         = +options.stroke;\n                        var diameter       = radius * 2;\n                        var backgroundSize = radius - (stroke / 2) - service.getOffset(scope, options);\n\n                        svg.css({\n                            top     : 0,\n                            left    : 0,\n                            position: responsive ? 'absolute' : 'static',\n                            width   : responsive ? '100%' : (diameter + 'px'),\n                            height  : responsive ? '100%' : (isSemicircle ? radius : diameter) + 'px',\n                            overflow: 'hidden' \n                        });\n\n                        if (!isNested) {\n                            svg[0].setAttribute('viewBox', '0 0 ' + diameter + ' ' + (isSemicircle ? radius : diameter));\n                        }\n\n                        element.css({\n                            width        : responsive ? '100%' : 'auto',\n                            position     : 'relative',\n                            paddingBottom: responsive ? (isSemicircle ? '50%' : '100%') : 0\n                        });\n\n                        ring.css({\n                            stroke       : service.resolveColor(options.color),\n                            strokeWidth  : stroke,\n                            strokeLinecap: options.rounded ? 'round' : 'butt'\n                        });\n\n                        if (isSemicircle) {\n                            ring.attr('transform', options.clockwise ? 'translate(0, ' + diameter + ') rotate(-90)' : 'translate(' + diameter + ', ' + diameter + ') rotate(90) scale(-1, 1)');\n                        } else {\n                            ring.attr('transform', options.clockwise ? '' : 'scale(-1, 1) translate(' + (-diameter) + ' 0)');\n                        }\n\n                        background.attr({\n                            cx: radius,\n                            cy: radius,\n                            r : backgroundSize >= 0 ? backgroundSize : 0\n                        }).css({\n                            stroke     : service.resolveColor(options.bgcolor),\n                            strokeWidth: stroke\n                        });\n                    };\n\n                    var renderState = function (newValue, oldValue, preventAnimationOverride) {\n                        var max           = service.toNumber(options.max || 0);\n                        var end           = newValue > 0 ? $window.Math.min(newValue, max) : 0;\n                        var start         = (oldValue === end || oldValue < 0) ? 0 : (oldValue || 0); \n                        var changeInValue = end - start;\n\n                        var easingAnimation  = service.animations[options.animation];\n                        var duration         = +options.duration || 0;\n                        var preventAnimation = preventAnimationOverride || (newValue > max && oldValue > max) || (newValue < 0 && oldValue < 0) || duration < 25;\n\n                        var radius       = service.toNumber(options.radius);\n                        var circleSize   = radius - (options.stroke / 2) - service.getOffset(scope, options);\n                        var isSemicircle = options.semi;\n\n                        svg.attr({\n                            'aria-valuemax': max,\n                            'aria-valuenow': end\n                        });\n\n                        var doAnimation = function () {\n                            if (preventAnimation) {\n                                service.updateState(end, max, circleSize, ring, radius, isSemicircle);\n\n                                if (options.onRender) {\n                                    options.onRender(end, options, element);\n                                }\n                            } else {\n                                var startTime = service.getTimestamp();\n                                var id        = ++lastAnimationId;\n\n                                $window.requestAnimationFrame(function animation() {\n                                    var currentTime = $window.Math.min(service.getTimestamp() - startTime, duration);\n                                    var animateTo   = easingAnimation(currentTime, start, changeInValue, duration);\n\n                                    service.updateState(animateTo, max, circleSize, ring, radius, isSemicircle);\n\n                                    if (options.onRender) {\n                                        options.onRender(animateTo, options, element);\n                                    }\n\n                                    if (id === lastAnimationId && currentTime < duration) {\n                                        $window.requestAnimationFrame(animation);\n                                    }\n                                });\n                            }\n                        };\n\n                        if (options.animationDelay > 0) {\n                            $window.clearTimeout(lastTimeoutId);\n                            $window.setTimeout(doAnimation, options.animationDelay);\n                        } else {\n                            doAnimation();\n                        }\n                    };\n\n                    var keys = Object.keys(base.scope).filter(function (key) {\n                        return optionIsSpecified(key) && key !== 'current';\n                    });\n\n                    scope.$watchGroup(keys, function (newValue) {\n                        for (var i = 0; i < newValue.length; i++) {\n                            if (typeof newValue[i] !== 'undefined') {\n                                options[keys[i]] = newValue[i];\n                            }\n                        }\n\n                        renderCircle();\n                        scope.$broadcast('$parentOffsetChanged');\n\n                        if (options.offset === 'inherit' && !parentChangedListener) {\n                            parentChangedListener = scope.$on('$parentOffsetChanged', function () {\n                                renderState(scope.current, scope.current, true);\n                                renderCircle();\n                            });\n                        } else if (options.offset !== 'inherit' && parentChangedListener) {\n                            parentChangedListener();\n                        }\n                    });\n\n                    scope.$watchGroup([\n                        'current',\n                        'max',\n                        'radius',\n                        'stroke',\n                        'semi',\n                        'offset'\n                    ].filter(optionIsSpecified), function (newValue, oldValue) {\n                        renderState(service.toNumber(newValue[0]), service.toNumber(oldValue[0]));\n                    });\n\n                    function optionIsSpecified(name) {\n                        return attrs.hasOwnProperty(name);\n                    }\n                },\n                template: function (element) {\n                    var parent        = element.parent();\n                    var directiveName = 'round-progress';\n                    var template      = [\n                        '<svg class=\"' + directiveName + '\" xmlns=\"http://www.w3.org/2000/svg\" role=\"progressbar\" aria-valuemin=\"0\">',\n                        '<circle fill=\"none\"/>',\n                        '<path fill=\"none\"/>',\n                        '<g ng-transclude></g>',\n                        '</svg>'\n                    ];\n\n                    while (\n                    parent.length &&\n                    parent[0].nodeName.toLowerCase() !== directiveName &&\n                    typeof parent.attr(directiveName) === 'undefined'\n                        ) {\n                        parent = parent.parent();\n                    }\n\n                    if (!parent || !parent.length) {\n                        template.unshift('<div class=\"round-progress-wrapper\">');\n                        template.push('</div>');\n                    }\n\n                    return template.join('\\n');\n                }\n            });\n        }\n    ]);\n\n})();\n(function () {\n    'use strict';\n\n    var path = 'app/component/ion-language';\n\n    angular\n        .module('ion-language')\n        .directive('ionLanguage', ionLanguageDirective);\n\n    function ionLanguageDirective(AppConfig, $translate, $timeout, Loading, $ionicModal) {\n        return {\n            restrict   : 'E',\n            link       : modalLanguageLink,\n            templateUrl: path + '/ion-language.html'\n        };\n\n        function modalLanguageLink(scope, elem, attr) {\n\n\n            scope.languages = AppConfig.locales;\n            scope.language  = scope.languages.filter(function (item) {\n                return item.code === $translate.use()\n            })[0];\n\n            console.log(scope.language);\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n\n                scope.closeModal = function () {\n                    scope.modal.hide();\n                };\n\n                scope.searchValue = '';\n\n                scope.selectLanguage = function (language) {\n                    console.log(language);\n                    $translate.use(language.code);\n                    scope.language = language;\n                    scope.$emit('changeLanguage', language);\n                    Loading.start();\n                    scope.closeModal();\n                    $timeout(function () {\n                        Loading.end();\n                    }, 1000);\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/modal-language.html', {\n                        scope          : scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n\n                    });\n            }\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-location')\n        .factory('GeoService', GeoServiceFactory);\n\n    function GeoServiceFactory($http, $window, $cordovaGeolocation, $ionicPopup, $timeout, $q) {\n\n        var options             = {\n            types: ['geocode']\n        };\n        var autocompleteService = new $window.google.maps.places.AutocompleteService();\n        var detailsService      = new $window.google.maps.places.PlacesService($window.document.createElement('input'),\n            options);\n        var componentForm       = {\n            street_number              : 'long_name',\n            route                      : 'long_name',\n            locality                   : 'long_name',\n            sublocality                : 'long_name',\n            neighborhood               : 'long_name',\n            political                  : 'long_name',\n            administrative_area_level_1: 'long_name',\n            country                    : 'long_name',\n            postal_code                : 'long_name' \n        };\n        var componentFormName   = {\n            street_number              : 'number',\n            route                      : 'street',\n            locality                   : 'city',\n            administrative_area_level_1: 'state',\n            country                    : 'country',\n            postal_code                : 'zipcode',\n            neighborhood               : 'district' \n        };\n\n        var data = {\n            coords: {},\n            src   : ''\n        };\n\n\n        return {\n            src          : src,\n            getDetails   : getDetails,\n            searchAddress: searchAddress,\n            parseAddress : parseAddress,\n            findMe       : findMe\n        };\n\n        function getLocation() {\n            var defer = $q.defer();\n\n            if (data.location) {\n                $timeout(function () {\n                    defer.resolve(data.location);\n                }, 1000);\n            } else {\n                var posOptions = {\n                    timeout           : 10000,\n                    enableHighAccuracy: false\n                };\n                $cordovaGeolocation.getCurrentPosition(posOptions).then(function (position) {\n                    data.location = {\n                        latitude : position.coords.latitude,\n                        longitude: position.coords.longitude\n                    };\n                    defer.resolve(data.location);\n                }, function (err) {\n                    $ionicPopup.alert({\n                        title   : 'Geo Error',\n                        template: err.message\n                    });\n                    defer.reject(err);\n                });\n            }\n\n\n            return defer.promise;\n        }\n\n\n        function findMe() {\n            var defer = $q.defer();\n\n            getLocation().then(function (pos) {\n                console.log(pos);\n                getGoogleAddress(pos.latitude, pos.longitude).success(function (resp) {\n                    resp.geolocation = pos;\n                    console.log(resp);\n                    defer.resolve(resp);\n                }).error(logErr);\n            });\n            return defer.promise;\n        }\n\n\n        function logErr(error) {\n            console.log(error);\n        }\n\n        function getGoogleAddress(lat, lng) {\n            return $http.get('http://maps.google.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&sensor=true')\n                        .success(function (data) {\n                            data.address_normal = data.results[0].formatted_address;\n                            data.address        = address(data.results[0].address_components);\n                            data.src            = imagem(lat, lng, 18, 500, 300);\n                        });\n        }\n\n        function address(data) {\n            if (!data) {\n                return false;\n            } else {\n                return {\n                    numero  : data[0].short_name,\n                    rua     : data[1].long_name,\n                    bairro  : data[2].short_name,\n                    cidade  : data[3].short_name,\n                    estado  : data[5].long_name,\n                    uf      : data[5].short_name,\n                    pais    : data[6].long_name,\n                    paisCode: data[6].short_name,\n                    cep     : data[7].short_name\n                };\n            }\n\n        }\n\n        function imagem(lat, lng, zoom, w, h) {\n            return 'http://maps.google.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom + '&size=' +\n                w + 'x' + h + '&maptype=roadmap&sensor=true';\n        }\n\n        function parseAddress(place) {\n            var defer = $q.defer();\n            console.log('parseAddress', place);\n            if(!place) {\n                defer.reject('not place')\n            }\n            var address = {\n                resume: '',\n                geo   : {\n                    latitude : place.geometry.location.lat(),\n                    longitude: place.geometry.location.lng()\n                }\n            };\n            var image   = src(address.geo.latitude, address.geo.longitude, 16, 900, 200);\n\n            for (var i = 0; i < place.address_components.length; i++) {\n                var addressType = place.address_components[i].types[0];\n                if (componentForm[addressType]) {\n                    var val                                 = place.address_components[i][componentForm[addressType]];\n                    address[componentFormName[addressType]] = val;\n                }\n            }\n            address.name   = place.name;\n            address.street = address.street + ', ' + address.number;\n            address.image  = image;\n            address.resume = address.street + ' - ' + address.city + ', ' + address.state + ', ' + address.country;\n            defer.resolve(address);\n\n            return defer.promise;\n        }\n\n        function searchAddress(input) {\n            var deferred = $q.defer();\n            autocompleteService.getQueryPredictions({\n                input: input\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function getDetails(placeId) {\n            var deferred = $q.defer();\n            detailsService.getDetails({\n                placeId: placeId\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function src(lat, lng, zoom, w, h) {\n            console.log('src latitude', lat, lng, zoom, w, h);\n\n            var link = 'http://maps.googleapis.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom +\n                '&scale=1&size=' + w + 'x' + h +\n                '&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C' + lat +\n                ',' + lng + '&sensor=true';\n            console.log(link);\n            return link;\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-location').directive('ionLocation', ionLocationDirective);\n\n    function ionLocationDirective($ionicModal, GeoService) {\n        return {\n            restrict: 'A',\n            scope   : {\n                location: '=ngModel'\n            },\n            link    : ionLocationLink\n        };\n\n        function ionLocationLink($scope, element) {\n\n\n            element.bind('click', function () {\n                function init() {\n                    $scope.search             = {};\n                    $scope.search.suggestions = [];\n                    $scope.search.query       = '';\n                }\n\n\n                function selectPlace(place_id) {\n                    GeoService.getDetails(place_id).then(function (location) {\n                        GeoService.parseAddress(location).then(function (address) {\n                            console.log(address);\n                            $scope.location = address;\n                            $scope.closeModalLocation();\n                        })\n                    });\n                }\n\n                init();\n\n                $scope.findMe = function () {\n                    $scope.loading = true;\n                    GeoService.findMe().then(function (location) {\n                        GeoService.searchAddress(location.address_normal).then(function (result) {\n                            console.log(result);\n                            $scope.search.suggestions = result;\n                            $scope.loading            = false;\n                        });\n                    });\n                };\n\n                $scope.findMe();\n\n                $scope.choosePlace = function (place) {\n                    selectPlace(place.place_id);\n                }\n\n                $scope.modalLocation = $ionicModal.fromTemplate('<ion-modal-view>' +\n                    '<ion-header-bar class=\"bar bar-positive item-input-inset\">' +\n                    '<ion-spinner ng-if=\"loading\"></ion-spinner>' +\n                    '<button class=\"button button-clear button-icon ion-navigate\" ng-click=\"findMe()\" ng-hide=\"loading\"></button>' +\n                    '<label class=\"item-input-wrapper\">' +\n                    '<input type=\"search\" ng-model=\"search.query\" ng-model-options=\"{ debounce: 1500 }\" placeholder=\"{{ \\'searchText\\' | translate }}\"></label>' +\n                    '<button class=\"button button-clear\" ng-click=\"closeModalLocation()\" translate=\"cancel\"></button>' +\n                    '</ion-header-bar>' +\n                    '<ion-content padding=\"false\">' +\n                    '<ion-list>' +\n                    '<div class=\"center padding\" ng-if=\"loading1\"><ion-spinner ></ion-spinner></div>' +\n                    '<ion-item ng-repeat=\"suggestion in search.suggestions\" ng-click=\"choosePlace(suggestion)\" ng-bind=\"suggestion.description\"></ion-item>' +\n                    '<ion-item class=\"item-divider\"><img src=\"https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png\"alt=\"\"/></ion-item>' +\n                    '</ion-list>' +\n                    '</ion-content>' +\n                    '</ion-modal-view>', {\n                        scope          : $scope,\n                        focusFirstInput: true\n                    }\n                );\n\n                $scope.modalLocation.show();\n\n                $scope.closeModalLocation = function () {\n                    $scope.modalLocation.hide();\n                    $scope.modalLocation.remove();\n                };\n\n                $scope.$watch('search.query', function (newValue) {\n                    if (newValue) {\n                        $scope.loading1           = true;\n                        $scope.search.suggestions = [];\n                        GeoService.searchAddress(newValue).then(function (result) {\n                            console.log(result);\n                            $scope.search.suggestions = result;\n                            $scope.loading1           = false;\n                        });\n                    }\n                });\n\n\n            });\n\n        }\n    }\n})();\n\n(function () {\n\n    angular.module('app.main').factory('FeedbackModal', FeedbackModalFactory);\n\n    function FeedbackModalFactory($q, AppConfig, GalleryFeedback, $rootScope, GalleryFeedbackForm, $ionicModal, Loading, Toast) {\n        var path = AppConfig.path;\n\n        return {\n            modal: modal\n        };\n        function modal(gallery) {\n            var $scope            = $rootScope.$new();\n            $scope.formFields     = GalleryFeedbackForm.form;\n            $scope.submitFeedback = submitFeedback;\n            $scope.closeModal     = closeModal;\n            $scope.form           = {\n                photogramId: gallery.id,\n                subject    : 'complaint'\n            };\n\n            function submitFeedback() {\n                var dataForm = angular.copy($scope.form);\n                Loading.start();\n                GalleryFeedback.create(dataForm).then(function (resp) {\n                    Loading.end();\n                    closeModal();\n\n                });\n            }\n\n\n            function closeModal() {\n                $scope.modal.hide();\n                $scope.modal.remove();\n                delete $scope.modal;\n            }\n\n            $ionicModal\n                .fromTemplateUrl('app/main/feedback/feedback-modal.html', {\n                    scope          : $scope,\n                    focusFirstInput: true\n                })\n                .then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n        }\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('app.main')\n        .factory('GalleryFeedbackForm', GalleryFeedbackFormFactory);\n\n    function GalleryFeedbackFormFactory($translate) {\n\n        var form = [{\n            key: 'title',\n            type: 'input',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('feedbackTitle'),\n                required: true\n            }\n        }, {\n            key: 'subject',\n            type: 'select',\n            templateOptions: {\n                label: $translate.instant('subject'),\n                options: [{\n                    'label': $translate.instant('complaint'),\n                    'id': 'complaint',\n                }, {\n                    'label': $translate.instant('bug'),\n                    'id': 'bug',\n                }, {\n                    'label': $translate.instant('suggestion'),\n                    'id': 'suggestion',\n                }],\n                valueProp: 'id',\n                labelProp: 'label',\n                icon: 'icon-list',\n                iconPlaceholder: true\n            }\n        }, {\n            key: 'status',\n            type: 'textarea',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('message'),\n                icon: 'ion-quote',\n                required: true,\n                iconPlaceholder: true\n            }\n        }];\n\n        return {\n            form: form\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').directive('feedback', feedbackDirective);\n\n    function feedbackDirective($ionicModal, GalleryFeedback, Gallery, Loading, $state) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                galleryId: '@'\n            },\n            template: '',\n            link    : function (scope, elem, attr) {\n\n                scope.link           = link;\n                scope.submitFeedback = submitFeedback;\n                scope.closeModal     = closeModal;\n                elem.bind('click', openModal);\n\n                function init() {\n                    scope.form = {};\n                }\n\n                function openModal() {\n\n                    init();\n                    $ionicModal.fromTemplateUrl('app/main/feedback/feedback-modal.html', {\n                        scope          : scope,\n                        focusFirstInput: true\n                    }).then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n                    });\n                }\n\n                function link(sref) {\n                    $state.go(sref)\n                    scope.closeModal();\n                }\n\n                scope.submitFeedback = function (rForm, form) {\n                    if (rForm.$valid) {\n                        Loading.start();\n                        var dataForm  = angular.copy(scope.form);\n                        dataForm.user = Parse.User.current();\n                        Gallery.get(scope.galleryId).then(function (gallery) {\n                            dataForm.gallery = gallery;\n                            GalleryFeedback.create(dataForm).then(function (resp) {\n                                console.log(resp);\n                                init();\n                                scope.closeModal();\n                                Loading.stop();\n                            });\n                        })\n                    }\n                }\n\n\n                function closeModal() {\n                    scope.modal.hide();\n                    scope.modal.remove();\n                }\n\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').controller('GalleryComment', GalleryCommentController);\n\n    function GalleryCommentController($scope, $stateParams, $q, $ionicScrollDelegate, $ionicHistory, $rootScope, $ionicPopup, User, Dialog, $timeout, Gallery, GalleryComment) {\n\n        $scope.currentUser = Parse.User.current();\n        $scope.loading     = true;\n\n        function init() {\n            $scope.nocomments = false;\n            Gallery.get($stateParams.galleryId).then(function (gallery) {\n                console.log(gallery);\n                getComments();\n                $scope.gallery = gallery;\n                $scope.form    = {\n                    gallery: gallery,\n                    text   : ''\n                };\n            });\n        }\n\n        $scope.backButton = function () {\n            $ionicHistory.goBack();\n        };\n        init();\n\n        $scope.myIndexValue = \"5\";\n\n        $scope.searchPeople = function (term) {\n            var peopleList = [];\n            return User.getFollowing().then(function (response) {\n                _.each(response, function (item) {\n                    item.imageUrl = item.photo ? item.photo._url : 'img/user.png';\n                    item.bio      = item.status;\n\n                    if (item.name) {\n                        if (item.name.toUpperCase().indexOf(term.toUpperCase()) >= 0) {\n                            peopleList.push(item);\n                        }\n                    } else {\n                        item.name = 'Not name';\n                        peopleList.push(item);\n                    }\n                });\n                $scope.people = peopleList;\n                console.log(peopleList);\n                return $q.when(peopleList);\n            });\n        };\n\n        $scope.getPeopleTextRaw = function (item) {\n            return '@' + item.username;\n        };\n\n\n        $scope.deleteComment = function (item, index) {\n            console.log(item);\n            Dialog.confirm({\n                title: ('Deletar comentário'),\n                text : ('Tem certeza?')\n            }).then(function (resp) {\n                if (resp) {\n                    GalleryComment.get(item.id).then(function (comment) {\n                        GalleryComment.destroy(comment).then(function (resp) {\n                            $rootScope.$emit('photolist:comment:remove', comment);\n                            getComments();\n                        });\n                    })\n                }\n            });\n        }\n\n        $scope.editComment = function (obj, index) {\n            console.log(obj);\n            $scope.formEdit = {\n                id  : obj.id,\n                text: obj.text\n            };\n\n            $ionicPopup\n                .show({\n                    template: '<input type=\"text\" ng-model=\"formEdit.text\">',\n                    title   : ('Editar Comentário'),\n                    scope   : $scope,\n                    buttons : [\n                        {\n                            text: ('Cancelar')\n                        }, {\n                            text : '<b>OK</b>',\n                            type : 'button-positive',\n                            onTap: function (e) {\n                                console.log($scope.formEdit);\n                                if (!$scope.formEdit.text) {\n                                    e.preventDefault();\n                                } else {\n                                    return $scope.formEdit;\n                                }\n                            }\n                        }\n                    ]\n                })\n                .then(function (resp) {\n                    console.log(resp);\n                    if (resp) {\n                        GalleryComment.get(obj.id).then(function (comment) {\n                            comment.text = resp.text;\n                            comment.save();\n                            $scope.loading = true;\n                            $timeout(function () {\n                                getComments();\n                            }, 1000);\n                        });\n                    }\n                });\n        }\n\n        function getComments() {\n            $scope.loading = true;\n            Gallery.comments({galleryId: $stateParams.galleryId}).then(function (resp) {\n                $scope.comments = [];\n\n                resp.map(function (comment) {\n                    console.log(comment);\n                    comment.canEdit = (comment.user.obj.id === $scope.currentUser.id) ? true : false;\n                    $scope.comments.push(comment);\n                });\n\n                $scope.loading = false;\n                $ionicScrollDelegate.scrollBottom();\n            });\n        }\n\n        $scope.submitComment = function (rForm, form) {\n            if (rForm.$valid) {\n                var dataForm   = angular.copy(form);\n                $scope.loading = true;\n                GalleryComment.create(dataForm).then(function (resp) {\n                    $rootScope.$emit('photolist:comment:add', resp);\n                    getComments();\n                    $scope.form.text = '';\n                });\n            }\n        }\n\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('LoadingCtrl', LoadingController);\n\n    function LoadingController($scope, $rootScope, $ionicPlatform, $cordovaSplashscreen, AppConfig, $state) {\n        var user  = $rootScope.currentUser;\n\n        if (user) {\n            console.log(user);\n            if (user.name) {\n                $state.go(AppConfig.routes.home, {\n                    clear: true\n                });\n            } else {\n                $state.go('user.avatar', {\n                    clear: true\n                });\n            }\n        } else {\n            $state.go(AppConfig.routes.login, {\n                clear: true\n            });\n        }\n\n        $scope.$on('$ionicView.loaded', function () {\n            $ionicPlatform.ready(function () {\n                if (navigator && navigator.splashscreen) {\n                    $cordovaSplashscreen.hide();\n                }\n            });\n        });\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('ProfileCtrl', ProfileController);\n\n    function ProfileController(User, $state, $stateParams) {\n        var vm = this;\n\n        vm.loading = true;\n        User.profile($stateParams.username).then(function (data) {\n            console.log(data);\n            console.log(Parse.User.current());\n            vm.isMe    = Parse.User.current().id === data.id ? true : false;\n            vm.user    = data;\n            vm.loading = false;\n        });\n\n        vm.openFollowers = function () {\n            console.log($state, $stateParams);\n            switch ($state.current.name) {\n                case 'tab.homeProfile':\n                    $state.go('tab.homeProfileFollowers', {username: $stateParams.username});\n                    break;\n                case 'tab.activityProfile':\n                    $state.go('tab.activityProfileFollowers', {username: $stateParams.username});\n                    break;\n            }\n        };\n\n        vm.openFollowing = function () {\n            console.log($state, $stateParams);\n            switch ($state.current.name) {\n                case 'tab.homeProfile':\n                    $state.go('tab.homeProfileFollowing', {username: $stateParams.username});\n                    break;\n                case 'tab.activityProfile':\n                    $state.go('tab.activityProfileFollowing', {username: $stateParams.username});\n                    break;\n            }\n        };\n\n        vm.follow = function () {\n\n            vm.loadingFollow = true;\n\n\n            User.follow(vm.user.obj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                vm.user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    vm.user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    vm.user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n\n        init();\n        vm.tab = {\n            grid : true,\n            list : false,\n            album: false,\n            map  : false\n        };\n\n        vm.changeTab = function changeTab(tab) {\n            Object.keys(vm.tab).map(function (value) {\n                if (value == tab) {\n                    vm.tab[value] = true;\n                } else {\n                    vm.tab[value] = false;\n                }\n            });\n        }\n\n\n        function init() {\n            vm.data  = {\n                total    : false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n        }\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('ProfilePhotoCtrl', ProfileController);\n\n    function ProfileController($stateParams) {\n        var vm       = this;\n\n        vm.id = $stateParams.id;\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryShare', GalleryShareFactory);\n\n    function GalleryShareFactory($q, $rootScope, User, $ionicModal) {\n        var tempImage;\n        return {\n            show: show\n        };\n\n        function show(image) {\n            var defer  = $q.defer();\n            var $scope = $rootScope.$new();\n\n            $scope.image = image;\n            $scope.form  = {\n                title        : '',\n                facebookShare: true,\n                privacity    : 'public'\n            };\n\n            $scope.searchPeople = function (term) {\n                var peopleList = [];\n                return User.getFollowing().then(function (response) {\n                    _.each(response, function (item) {\n                        item.imageUrl = item.photo ? item.photo._url : 'img/user.png';\n                        item.bio      = item.status;\n                        if (item.name.toUpperCase().indexOf(term.toUpperCase()) >= 0) {\n                            peopleList.push(item);\n                        }\n                    });\n                    $scope.people = peopleList;\n                    return $q.when(peopleList);\n                });\n            };\n\n            $scope.getPeopleTextRaw = function (item) {\n                return '@' + item.username;\n            };\n\n            $scope.theme = $rootScope.theme;\n\n            $ionicModal.fromTemplateUrl('app/main/share/share-modal.html', {\n                scope          : $scope,\n                focusFirstInput: true\n            }).then(function (modal) {\n                $scope.modalFilter = modal;\n                $scope.modalFilter.show();\n            });\n\n            $scope.closeAddress = function () {\n                $scope.form.address = {};\n            };\n\n            $scope.close = function () {\n                $scope.modalFilter.hide();\n            };\n\n            $scope.$on('$destroy', function () {\n                $scope.modal.remove();\n            });\n\n            $scope.submit = function (rForm, form) {\n                if (rForm.$valid) {\n                    var form   = angular.copy($scope.form);\n                    form.image = $scope.image;\n                    tempImage  = '';\n                    $scope.close();\n                    defer.resolve(form);\n                } else {\n                    console.log('Error', rForm);\n                }\n            };\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('MainTabCtrl', MainTabController);\n\n    function MainTabController($localStorage, $ionicHistory, ParsePush, GalleryShare, $scope, $rootScope, PhotoService, $ionicPlatform, Gallery, ParseFile, Loading) {\n        var vm = this;\n\n        $ionicHistory.clearHistory();\n\n        $scope.storage = $localStorage;\n        function clearBadge() {\n            $scope.badge = 0;\n        }\n\n        clearBadge();\n\n        $rootScope.$on('activity:clear', function () {\n            clearBadge();\n        })\n\n        $ionicPlatform.ready(function () {\n\n            ParsePush.init().then(function () {\n                ParsePush.on('openPN', function (pn) {\n                    console.log('The user opened a notification:' + JSON.stringify(pn));\n                    $scope.$applyAsync();\n                });\n\n                ParsePush.on('receivePN', function (pn) {\n                    console.log('yo i got this push notification:' + JSON.stringify(pn));\n                    $scope.badge++;\n                    $scope.$applyAsync();\n                });\n\n                ParsePush.on('receivePN', function (message) {\n                    console.log('message', message);\n                    $scope.$applyAsync();\n                });\n            })\n        });\n\n        vm.postPhoto = function () {\n            PhotoService.open().then(GalleryShare.show).then(function (form) {\n                Loading.start();\n                console.log(form);\n                ParseFile.upload({base64: form.image}).then(function (imageUploaded) {\n                    form.image = imageUploaded;\n                    Gallery.create(form).then(function (item) {\n                        $rootScope.$emit('photolist:reload', item);\n                        Loading.end();\n                    });\n                });\n            });\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('AccountCtrl', AccountController);\n\n    function AccountController($scope, AppConfig, User, $state, $rootScope) {\n        var vm = this;\n\n        vm.user  = $rootScope.currentUser;\n        vm.photo = $rootScope.currentUser.attributes.photo;\n\n        vm.loading     = true;\n        $scope.buttonTheme = 'button-' + AppConfig.theme;\n\n        User.getPublicData(Parse.User.current()).then(function (user) {\n            console.log('Profile', user.attributes);\n            vm.user    = user;\n            vm.loading = false;\n        });\n\n        vm.openFollowers = function () {\n            $state.go('tab.accountFollowers', {username: $rootScope.currentUser.attributes.username});\n        };\n\n        vm.openFollowing = function () {\n            $state.go('tab.accountFollowing', {username: $rootScope.currentUser.attributes.username});\n        };\n\n        init();\n\n        vm.tab = {\n            grid : true,\n            list : false,\n            album: false,\n            map  : false\n        };\n\n        vm.changeTab = function changeTab(tab) {\n            Object.keys(vm.tab).map(function (value) {\n                if (value == tab) {\n                    vm.tab[value] = true;\n                } else {\n                    vm.tab[value] = false;\n                }\n            });\n        }\n\n        function init() {\n            vm.data  = {\n                total    : false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n            getFollower();\n        }\n\n        function getFollower() {\n            vm.loadingFollowers = true;\n            vm.loadingFollowing = true;\n            vm.loadingPhotos    = true;\n        }\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('app.main').controller('ActivityCtrl', ActivityController);\n\n    function ActivityController($scope, User, $rootScope,$state, GalleryActivity) {\n        init();\n\n        $scope.openProfile = function (username) {\n            $state.go('tab.activityProfile', {username: username})\n        };\n\n        $scope.follow = function (user) {\n\n            console.log( user.id, user.obj.id);\n            user.loading = true;\n\n            User.follow(user.obj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                user.loading = false;\n            });\n        };\n\n        loadFeed();\n\n        $rootScope.$emit('activity:clear', true);\n\n        function loadFeed() {\n            if ($scope.loading) return;\n            $scope.loading = true;\n            GalleryActivity.feed($scope.params).then(function (data) {\n                console.log(data);\n                if (data.length > 0) {\n                    $scope.params.page++;\n                    data.map(function (item) {\n                        $scope.data.push(item);\n                    });\n                } else {\n                    if ($scope.data.length === 0) {\n                        $scope.showEmptyView = true;\n                    }\n                    $scope.moreDataCanBeLoaded = false;\n                }\n\n                $scope.loading = false;\n                $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                $rootScope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function (err) {\n                if ($scope.data.length === 0) {\n                    $scope.showErrorView = true;\n                }\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onReload = function () {\n            init()\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n        function init() {\n            $scope.params              = {};\n            $scope.params.page         = 1;\n            $scope.data                = [];\n            $scope.moreDataCanBeLoaded = true;\n            $scope.loading             = false;\n\n            if ($scope.canEdit) {\n                $scope.data.push({\n                    create: true\n                });\n            }\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('HomeCtrl', HomeController);\n\n    function HomeController($state, $ionicHistory) {\n        var vm = this;\n\n        vm.openProfile = function (username) {\n            $state.go('tab.homeProfile', {username: username})\n        };\n\n        vm.openLikers = function (galleryId) {\n            $state.go('tab.homeGalleryLikers', {galleryId: galleryId})\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('SearchCtrl', SearchCtrl);\n\n    function SearchCtrl($scope, $filter, Gallery, $rootScope) {\n\n        $scope.params = {};\n        init();\n\n        $scope.onSearch = function () {\n            var text             = $filter('lowercase')($scope.searchValue);\n            $scope.params.search = text;\n            $scope.data          = [];\n            $scope.onReload();\n        };\n\n        $scope.clearSearch = function () {\n            $scope.params      = {};\n            $scope.searchValue = '';\n            $scope.data        = [];\n            $scope.onReload();\n        };\n\n        loadFeed();\n\n        function loadFeed() {\n            if ($scope.loading) return;\n            $scope.loading = true;\n            Gallery.search($scope.params).then(function (data) {\n                if (data.length > 0) {\n                    $scope.params.page++;\n                    data.map(function (item) {\n                        $scope.data.push(item);\n                    });\n                } else {\n                    if ($scope.data.length === 0) {\n                        $scope.showEmptyView = true;\n                    }\n                    $scope.moreDataCanBeLoaded = false;\n                }\n\n                $scope.loading = false;\n                $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                $rootScope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function (err) {\n                if ($scope.data.length === 0) {\n                    $scope.showErrorView = true;\n                }\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onReload = function () {\n            init()\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n        function init() {\n            $scope.params.page         = 1;\n            $scope.data                = [];\n            $scope.loading             = false;\n            $scope.moreDataCanBeLoaded = true;\n            $scope.showEmptyView       = false;\n            $scope.showErrorView       = false;\n\n            if ($scope.canEdit) {\n                $scope.data.push({\n                    create: true\n                });\n            }\n        }\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('app.main').controller('SearchMapCtrl', SearchMapController);\n\n    function SearchMapController($scope, $state, $localStorage, Toast, Gallery, Geolocation, Dialog) {\n\n        var markers      = [];\n        var latlngbounds = new google.maps.LatLngBounds();\n        $scope.maxRating = 5;\n        $scope.storage   = $localStorage;\n        $scope.galleries = [];\n        $scope.params    = {\n            location: null,\n            distance: 100.00,\n            page    : 1,\n            limit   : 10\n        };\n        $scope.loading   = true;\n        $scope.map;\n        $scope.myLocation = {};\n\n        var position   = {\n            latitude : -18.8800397,\n            longitude: -47.05878999999999\n        };\n        var mapOptions = {\n            center   : setPosition(position),\n            zoom     : 13,\n            mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n\n        function init() {\n            $scope.galleries = [];\n            removeGallerys();\n            removeMarkers();\n\n            $scope.map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);\n\n            google.maps.event.addListener($scope.map, 'idle', function () {\n                $scope.onSearchHere();\n            });\n        }\n\n        $scope.$on('$ionicView.enter', function (scopes, states) {\n            if (!$scope.map) {\n                init();\n                myPosition();\n            }\n        });\n\n        $scope.loadMyLocation = function () {\n            $scope.params.location = $scope.myLocation;\n            $scope.map.setCenter($scope.params.location);\n            console.log($scope.map, $scope.params.location);\n        };\n\n\n        function myPosition() {\n            Geolocation.getCurrentPosition().then(function (position) {\n\n                console.log(position);\n\n                $scope.myLocation = setPosition({\n                    latitude : position.coords.latitude,\n                    longitude: position.coords.longitude\n                });\n\n                $scope.params.location = $scope.myLocation;\n\n                var marker = {\n                    position: $scope.myLocation,\n                    title   : 'I am here',\n                    id      : 0\n                }\n\n                addMarker(marker);\n\n                $scope.map.setCenter($scope.params.location);\n                loadGallerys();\n            }, function (error) {\n                $scope.params.location = null;\n\n                var errorMessage;\n                if (error.code === 1 || error.code === 3) {\n                    errorMessage = 'errorGpsDisabledText';\n                } else {\n                    errorMessage = 'errorLocationMissingText';\n                }\n                Dialog.alert(errorMessage);\n\n            });\n        }\n\n        function setPosition(location) {\n            if (location) {\n                return new google.maps.LatLng(location.latitude, location.longitude);\n            }\n        }\n\n        function addMarker(item) {\n\n\n            var markerOption = {\n                id       : item.id,\n                map      : $scope.map,\n                position : item.position,\n                title    : item.title,\n                animation: google.maps.Animation.DROP\n            };\n\n            if (item.icon) {\n                var size          = 40;\n                markerOption.icon = {\n                    url       : item.icon,\n                    size      : new google.maps.Size(size, size),\n                    scaledSize: new google.maps.Size(size, size),\n                    origin    : new google.maps.Point(0, 0),\n                    anchor    : new google.maps.Point(size / 4, size / 4),\n                };\n            }\n\n            var marker = new google.maps.Marker(markerOption);\n\n            google.maps.event.addListener(marker, 'click', function () {\n                if (item.username) {\n                    $state.go('tab.mapProfile', {username: item.username})\n                }\n\n            });\n\n            markers.push(marker);\n\n\n        }\n\n        function setGallerys(galleries) {\n            $scope.galleries = galleries;\n            galleries.map(function (item) {\n\n                if (item.location) {\n                    var marker = {\n                        map     : $scope.map,\n                        id      : item.id,\n                        position: setPosition(item.location),\n                        title   : item.title,\n                        image   : item.image.url(),\n                        icon    : item.imageThumb.url(),\n                        username: item.attributes.user.attributes.username\n                    };\n\n                    if (!_.some(markers, {id: marker.id})) {\n                        addMarker(marker);\n                    }\n                }\n            });\n\n\n        }\n\n        function loadGallerys() {\n            $scope.loading = true;\n            Gallery.all($scope.params).then(function (galleries) {\n\n                if (galleries.length > 0) {\n                    setGallerys(galleries);\n                } else {\n                    Dialog.alert('galleriesNotFoundText');\n                }\n\n                $scope.loading = false;\n\n            }, function () {\n                Toast.show('errorText');\n            });\n        }\n\n        function removeGallerys() {\n            $scope.galleries = [];\n        }\n\n        function removeMarkers() {\n            _.each(markers, function (item, index) {\n                if (index > 0) {\n                    item.setMap(null);\n                }\n            })\n            markers = [];\n        };\n\n        $scope.onSearchHere = function () {\n            if ($scope.loading) return;\n            $scope.params.location.latitude  = $scope.map.getCenter().lat();\n            $scope.params.location.longitude = $scope.map.getCenter().lng();\n\n            loadGallerys();\n        }\n\n        $scope.onGalleryClicked = function (item) {\n            console.log(item);\n        };\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('UserAvatarCtrl', UserAvatarController);\n\n    function UserAvatarController(User, $translate, $scope, Loading, Auth, AppConfig, $rootScope, $state, Toast) {\n\n        init();\n\n        $scope.photo = Parse.User.current().attributes.photo;\n\n        function init() {\n            var user    = Auth.getLoggedUser();\n            $scope.form = {\n                name    : user.name,\n                email   : user.email,\n                status  : user.status,\n                gender  : user.gender,\n                img     : user.img,\n                username: user.username\n            };\n            console.log($scope.form);\n            console.log($scope.formFields);\n        }\n\n        $scope.submitAvatar = function (rForm, form) {\n            console.log(form);\n            Loading.start();\n\n            if (rForm.$valid) {\n                var dataForm = angular.copy(form);\n                console.log(dataForm);\n\n                User.update(dataForm).then(function (resp) {\n                    console.log(resp);\n                    $rootScope.currentUser = Parse.User.current();\n                    $state.go(AppConfig.routes.home, {\n                        clear: true\n                    });\n                    Loading.end();\n                });\n            } else {\n                Toast.alert({\n                    title: $translate.instant('invalidForm'),\n                    text : $translate.instant('fillAllFields')\n                });\n                Loading.end();\n            }\n\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').directive('userAvatar', userAvatarDirective);\n\n    function userAvatarDirective(ActionSheet, $rootScope, ParseFile, User) {\n        return {\n            restrict: 'A',\n            scope   : {\n                ngModel: '='\n            },\n            link    : function ($scope, elem) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var tempImage;\n                    var user        = $scope.ngModel;\n                    var currentUser = $rootScope.currentUser;\n\n                    console.log(user);\n                    console.log(currentUser);\n\n                    if (user.id != currentUser.id) {\n                        return false;\n                    }\n\n                    ActionSheet.image().then(function (image) {\n                        tempImage = image;\n                        return image;\n                    }).then(function (form) {\n                        $scope.loading = true;\n                        ParseFile.upload({base64: form}).then(function (imageUploaded) {\n                            User.setPhoto(imageUploaded).then(function (user) {\n                                $rootScope.currentUser.photo = user.attributes.photo;\n                                $scope.loading = false;\n                            });\n                        });\n                    });\n                }\n\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserFollowerCtrl', UserFollowerController);\n\n    function UserFollowerController(User, $scope, $stateParams, $state) {\n        var vm     = this;\n        vm.loading = true;\n        User.getFollowers($stateParams.username).then(function (data) {\n            console.log(data);\n            vm.users   = data;\n            vm.loading = false;\n        });\n\n        $scope.clearSearch = function () {\n            $scope.searchValue = '';\n        }\n\n        vm.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        vm.follow = function (user) {\n\n            vm.loadingFollow = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserFollowingCtrl', UserFollowingController);\n\n    function UserFollowingController(User, $scope, $stateParams, $state) {\n        var vm     = this;\n        vm.loading = true;\n        User.getFollowing($stateParams.username).then(function (data) {\n            console.log(data);\n            vm.users   = data;\n            vm.loading = false;\n        });\n\n        $scope.clearSearch = function () {\n            $scope.searchValue = '';\n        }\n\n        vm.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        vm.follow = function (user) {\n\n            vm.loadingFollow = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserIntroCtrl', UserIntroController);\n\n    function UserIntroController($scope, $ionicPlatform, $ionicSlideBoxDelegate, $cordovaSplashscreen) {\n        var vm              = this;\n        var currentPlatform = window.ionic.Platform.platform();\n        vm.slideIndex       = 0;\n\n        vm.slideChanged = function (index) {\n            vm.slideIndex = index;\n        };\n        vm.next         = function () {\n            $ionicSlideBoxDelegate.next();\n        };\n        vm.previous     = function () {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n        if (currentPlatform) {\n            vm.device = (currentPlatform === 'android') ? 'android' : 'iphone';\n        } else {\n            vm.device = 'android';\n        }\n\n        vm.slides                          = [\n            {\n                text: 'STEP1',\n                img : 'img/intro1.png'\n            }, {\n                text: 'STEP2',\n                img : 'img/intro2.png'\n            }, {\n                text: 'STEP3',\n                img : 'img/intro3.png'\n            }, {\n                text: 'STEP4',\n                img : 'img/intro4.png'\n            }, {\n                text: 'STEP5',\n                img : 'img/intro5.png'\n            }, {\n                text: 'STEP6',\n                img : 'img/intro6.png'\n            }, {\n                text: 'STEP7',\n                img : 'img/intro7.png'\n            }\n        ];\n        window.localStorage['walkthrough'] = true;\n\n        $scope.$on('$ionicView.loaded', function () {\n            $ionicPlatform.ready(function () {\n                if (navigator && navigator.splashscreen) {\n                    $cordovaSplashscreen.hide();\n                    window.StatusBar.styleLightContent()\n                }\n            });\n        });\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserLikersCtrl', UserLikerController);\n\n    function UserLikerController(User, $scope, $stateParams, $state) {\n        var vm     = this;\n        vm.loading = true;\n\n        User.getLikers($stateParams.galleryId).then(function (data) {\n            console.log(data);\n            vm.users   = data;\n            vm.loading = false;\n        });\n\n        $scope.clearSearch = function () {\n            $scope.searchValue = '';\n        }\n\n        vm.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        vm.follow = function (user) {\n\n            vm.loadingFollow = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserListCtrl', UserListController);\n\n    function UserListController(User, $scope, $rootScope, $state) {\n        $scope.params = {};\n        init();\n        loadFeed();\n\n        function loadFeed() {\n            if ($scope.loading) return;\n            $scope.loading = true;\n\n            $scope.onSearch = function () {\n                $scope.params.search = $scope.searchValue;\n                $scope.onReload();\n            };\n\n            $scope.clearSearch = function () {\n                $scope.params      = {};\n                $scope.searchValue = '';\n                $scope.onReload();\n            };\n\n            User.list($scope.params).then(function (data) {\n                console.log(data);\n                if (data.length > 0) {\n                    $scope.params.page++;\n                    data.map(function (item) {\n                        $scope.data.push(item);\n                    });\n                } else {\n                    if ($scope.data.length === 0) {\n                        $scope.showEmptyView = true;\n                    }\n                    $scope.moreDataCanBeLoaded = false;\n                }\n\n                $scope.loading = false;\n                $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                $rootScope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function (err) {\n                if ($scope.data.length === 0) {\n                    $scope.showErrorView = true;\n                }\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onReload = function () {\n            init()\n            loadFeed();\n        };\n\n        function init() {\n            $scope.params.page         = 1;\n            $scope.data                = [];\n            $scope.loading             = false;\n            $scope.moreDataCanBeLoaded = true;\n            $scope.showEmptyView       = false;\n            $scope.showErrorView       = false;\n\n            if ($scope.canEdit) {\n                $scope.data.push({\n                    create: true\n                });\n            }\n        }\n\n        $scope.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        $scope.follow = function (user) {\n\n            user.loading = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                user.loading = false;\n            });\n        };\n\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('UserMergeCtrl', UserMergeController);\n\n    function UserMergeController(Auth, $scope, $rootScope, AppConfig, Facebook, $state, Toast) {\n        var vm        = this;\n\n        init();\n        function init() {\n            if ($rootScope.tempUser) {\n                $scope.form = {\n                    email   : $rootScope.tempUser.attributes.email,\n                    username: $rootScope.tempUser.attributes.username,\n                    password: ''\n                };\n            } else {\n                $state.go('user.intro', {clear: true});\n            }\n        }\n\n        $scope.submitMerge = function (rForm, form) {\n\n            console.log(rForm);\n            console.table(form);\n            if (vm.form.password !== '') {\n                console.log(form);\n                Auth.logIn(form).then(function (user) {\n                    console.log(user);\n                    $rootScope.currentUser = user;\n                    if (Auth.getLoggedUser()) {\n                        Facebook.link(Parse.User.current()).then(function (resp) {\n                            console.log(resp);\n                            $state.go(AppConfig.routes.home, {\n                                clear: true\n                            });\n                        }).catch(function (resp) {\n                            console.log(resp);\n                            Toast.alert({\n                                title: 'Ops',\n                                text : resp.message\n                            });\n                        });\n                    }\n\n\n                }).catch(function (resp) {\n                    Toast.alert({\n                        title: 'Ops',\n                        text : resp.message\n                    });\n                });\n            } else {\n                Toast.alert({\n                    title: ('Invalid form'),\n                    text : ('Please enter your email')\n                });\n            }\n\n        };\n\n    }\n\n\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.main')\n    .directive('recoveryPass', recoveryPassDirective);\n\n  function recoveryPassDirective(User, $ionicPopup, Loading, Toast) {\n    return {\n      restrict: 'A',\n      scope: {\n        login: '@',\n        register: '@',\n      },\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          $scope.form = {\n            recovery: ''\n          };\n\n          $scope.erro = '';\n\n          $scope.text = {\n            button: (''),\n            input: ('Email')\n          };\n\n          $ionicPopup\n            .show({\n              scope: $scope,\n              template: '<div class=\"popup-recovery\"><form name=\"form.recovery\" form-manager><label class=\"item item-input\"><i class=\"icon ion-email placeholder-icon\"></i><input type=\"email\" ng-model=\"email\" id=\"email\" name=\"email\" placeholder=\"{{ text.input }}\" required ng-maxlength=\"80\"></label><span class=\"error-msg\">{{erro}}</span></form></div>',\n              title: ('A new password will be sent to your e-mail address'),\n              buttons: [{\n                text: ('Cancel'),\n                type: 'button-calm'\n              }, {\n                text: ('Send'),\n                type: 'button-positive',\n                onTap: function (e) {\n                  if ($scope.form.recovery.$valid) {\n                    return $scope.form.recovery.email.$viewValue;\n                  } else {\n                    e.preventDefault();\n                    $scope.erro = ('Invalid Email');\n                  }\n                }\n              }]\n            })\n            .then(function (res) {\n              if (!angular.isUndefined(res)) {\n                var email = res;\n\n                console.log(res);\n\n                Loading.start();\n\n                User\n                  .forgot(email)\n                  .then(function (resp) {\n                    console.log(resp);\n                    Toast.alert({\n                      login: ('Forgot your password'),\n                      text: ('Access your accout mail')\n                    });\n                    Loading.end();\n                  })\n                  .catch(function (resp) {\n                    Toast.alert({\n                      login: 'Ops',\n                      text: resp\n                    });\n                    Loading.end();\n                  });\n              }\n            });\n\n        }\n      }\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.main')\n    .controller('UserRecoveryPassCtrl', UserRecoveryPassController);\n\n  function UserRecoveryPassController(User, Toast) {\n    var vm = this;\n    vm.form = {};\n    vm.submitForgot = submitForgot;\n\n    function submitForgot() {\n      User\n        .forgot(vm.form)\n        .then(function (resp) {\n          console.log(resp);\n        })\n        .catch(function (resp) {\n          Toast.alert('Ops', resp);\n        });\n    }\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').directive('ionCrop', ionCropDirective);\n\n    function ionCropDirective($jrCrop, $translate, $ionicActionSheet) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                ngModel : '=',\n                option  : '=',\n                cropSave: '&'\n            },\n            template: '<div><input type=\"file\" id=\"browseBtn\" image=\"image\" accept=\"image/*\" style=\"display: none\"/></div>',\n            link    : ionCropLink\n        };\n\n        function ionCropLink($scope, element) {\n\n            $scope.action = action;\n            element.bind('click', getElem);\n            $scope.crop = crop;\n            angular.element(document.getElementById('browseBtn'))\n                   .on('change', fileUpload);\n\n\n            function getElem() {\n                document.getElementById('browseBtn')\n                        .click();\n            }\n\n            function action() {\n\n                $ionicActionSheet.show({\n                    buttons      : [\n                        {\n                            text: '<i class=\"icon ion-camera\"></i>' + ('Photo Camera')\n                        }, {\n                            text: '<i class=\"icon ion-images\"></i> ' + ('Photo Album')\n                        }\n                    ],\n                    titleText    : ('Change Image'),\n                    cancelText   : ('Cancel'),\n                    cancel       : function () {\n                    },\n                    buttonClicked: function (index) {\n\n                        if (index === 0) {\n                            console.log('Photo Camera');\n                        }\n                        if (index === 1) {\n                            document.getElementById('browseBtn')\n                                    .click();\n                        }\n                        return true;\n                    }\n                });\n\n            }\n\n            function fileUpload(e) {\n\n                var file   = e.target.files[0];\n                var reader = new FileReader();\n                reader.readAsDataURL(file);\n\n                reader.onload = function (event) {\n                    var image = event.target.result;\n                    $scope.crop(image);\n                };\n\n                angular.element(document.getElementById('browseBtn')).val('');\n\n            }\n\n            function crop(image) {\n\n                console.log($scope.option);\n\n                $jrCrop\n                    .crop({\n                        url       : image,\n                        width     : $scope.option ? $scope.option.width : 200,\n                        height    : $scope.option ? $scope.option.height : 200,\n                        cancelText: ('Cancel'),\n                        chooseText: ('Save')\n                    })\n                    .then(function (canvas) {\n                        var image = canvas.toDataURL();\n\n\n\n                        console.log(image);\n                        $scope.ngModel = image;\n\n\n                    });\n\n            }\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').directive('sliderFilter', sliderFilterDirective);\n\n    function sliderFilterDirective() {\n        return {\n            restrict: 'E',\n            link    : sliderFilterLink,\n            scope   : {\n                filter: '='\n            },\n            template: '<div class=\"item range range-positive\"> ' +\n            '<input type=\"range\" name=\"filter.slider.name\" min=\"-100\" max=\"100\" step=\"1\" ng-model=\"filter.slider.value\"  > ' +\n            '</div>'\n        };\n\n        function sliderFilterLink(scope, elem, attr) {\n\n            console.log(scope.filter);\n\n            scope.$watch('filter.slider.value', function (value) {\n                if (value) {\n                    scope.filter.slider.value = parseInt(value);\n                    scope.filter.setSlider(scope.filter.slider);\n                }\n            });\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('jrCrop', [])\n           .factory('$jrCrop', function ($ionicModal, $rootScope, $q) {\n\n               var template = '<div class=\"jr-crop modal\">' +\n                   '<div class=\"jr-crop-center-container\">' +\n                   '<div class=\"jr-crop-img\" ng-style=\"{width: width + \\'px\\', height: height + \\'px\\'}\"></div>' +\n                   '</div>' +\n                   '<div class=\"jr-crop-center-container\">' +\n                   '<div class=\"jr-crop-select\" style=\"overflow: hidden\" ng-style=\"{width: width + \\'px\\', height: height + \\'px\\'}\"></div>' +\n                   '</div>' +\n                   '<div class=\"bar bar-footer bar-dark jr-crop-footer\">' +\n                   '<button class=\"button button-clear\" ng-click=\"cancel()\">{{cancelText}}</button>' +\n                   '<div class=\"title\">{{title}}</div>' +\n                   '<button class=\"button button-clear\" ng-click=\"crop()\">{{chooseText}}</button>' +\n                   '</div>' +\n                   '</div>';\n\n               var jrCropController = ionic.views.View.inherit({\n\n                   promise  : null,\n                   imgWidth : null,\n                   imgHeight: null,\n\n                   imgSelect: null,\n                   imgFull  : null,\n\n                   posX  : 0,\n                   posY  : 0,\n                   scale : 1,\n                   rotate: 0,\n\n                   last_scale : 1,\n                   last_posX  : 0,\n                   last_posY  : 0,\n                   last_rotate: 0,\n\n                   initialize: function (options) {\n                       var self = this;\n\n                       self.options = options;\n                       self.promise = $q.defer();\n                       self.loadImage().then(function (elem) {\n                           self.imgWidth  = elem.naturalWidth;\n                           self.imgHeight = elem.naturalHeight;\n\n                           self.options.modal.el.querySelector('.jr-crop-img')\n                               .appendChild(self.imgSelect = elem.cloneNode());\n                           self.options.modal.el.querySelector('.jr-crop-select')\n                               .appendChild(self.imgFull = elem.cloneNode());\n\n                           self.bindHandlers();\n                           self.initImage();\n                       });\n\n                       self.options.cancel = this.cancel.bind(this);\n                       self.options.crop   = this.crop.bind(this);\n                   },\n\n                   initImage: function () {\n                       if (this.options.height < this.imgHeight || this.options.width < this.imgWidth) {\n                           var imgAspectRatio    = this.imgWidth / this.imgHeight;\n                           var selectAspectRatio = this.options.width / this.options.height;\n\n                           if (selectAspectRatio > imgAspectRatio) {\n                               this.scale = this.last_scale = this.options.width / this.imgWidth;\n                           } else {\n                               this.scale = this.last_scale = this.options.height / this.imgHeight;\n                           }\n                       }\n\n                       var centerX = (this.imgWidth - this.options.width) / 2;\n                       var centerY = (this.imgHeight - this.options.height) / 2;\n\n                       this.posX = this.last_posX = -centerX;\n                       this.posY = this.last_posY = -centerY;\n\n                       this.setImageTransform();\n                   },\n\n                   cancel: function () {\n                       var self = this;\n\n                       self.options.modal.remove().then(function () {\n                           self.promise.reject('canceled');\n                       });\n                   },\n\n                   bindHandlers: function () {\n                       var self                                             = this,\n\n                           min_pos_x                                        = 0, min_pos_y = 0,\n                           max_pos_x                                        = 0, max_pos_y = 0,\n                           transforming_correctX = 0, transforming_correctY = 0,\n\n                           scaleMax                                         = 1, scaleMin,\n                           image_ratio                                      = self.imgWidth / self.imgHeight,\n                           cropper_ratio                                    = self.options.width / self.options.height;\n\n                       if (cropper_ratio < image_ratio) {\n                           scaleMin = self.options.height / self.imgHeight;\n                       } else {\n                           scaleMin = self.options.width / self.imgWidth;\n                       }\n\n                       function setPosWithinBoundaries() {\n                           calcMaxPos();\n                           if (self.posX > min_pos_x) {\n                               self.posX = min_pos_x;\n                           }\n                           if (self.posX < max_pos_x) {\n                               self.posX = max_pos_x;\n                           }\n                           if (self.posY > min_pos_y) {\n                               self.posY = min_pos_y;\n                           }\n                           if (self.posY < max_pos_y) {\n                               self.posY = max_pos_y;\n                           }\n                       }\n\n                       function calcMaxPos() {\n                           var currWidth  = self.scale * self.imgWidth;\n                           var currHeight = self.scale * self.imgHeight;\n\n                           min_pos_x = (currWidth - self.imgWidth) / 2;\n                           min_pos_y = (currHeight - self.imgHeight) / 2;\n                           max_pos_x = -(currWidth - min_pos_x - self.options.width);\n                           max_pos_y = -(currHeight - min_pos_y - self.options.height);\n                       }\n\n                       var options = {\n                           prevent_default_directions: ['left', 'right', 'up', 'down']\n                       };\n                       ionic.onGesture('touch transform drag dragstart dragend rotate', function (e) {\n                           switch (e.type) {\n                               case 'touch':\n                                   self.last_scale = self.scale;\n                                   break;\n                               case 'drag':\n                                   self.posX = self.last_posX + e.gesture.deltaX - transforming_correctX;\n                                   self.posY = self.last_posY + e.gesture.deltaY - transforming_correctY;\n                                   setPosWithinBoundaries();\n                                   break;\n                               case 'transform':\n                                   self.scale = Math.max(scaleMin, Math.min(self.last_scale * e.gesture.scale, scaleMax));\n                                   setPosWithinBoundaries();\n                                   break;\n                               case 'dragend':\n                                   self.last_posX = self.posX;\n                                   self.last_posY = self.posY;\n                                   break;\n                               case 'dragstart':\n                                   self.last_scale = self.scale;\n\n                                   if (e.gesture.deltaX > 1 || e.gesture.deltaX < -1) {\n                                       transforming_correctX = e.gesture.deltaX;\n                                       transforming_correctY = e.gesture.deltaY;\n                                   } else {\n                                       transforming_correctX = 0;\n                                       transforming_correctY = 0;\n                                   }\n                                   break;\n                               case 'rotate':\n                                   self.rotate = self.last_rotate + e.gesture.rotation;\n                                   break;\n                           }\n\n                           self.setImageTransform();\n\n                       }, self.options.modal.el, options);\n                   },\n\n                   setImageTransform: function () {\n                       var self = this;\n\n                       var transform =\n                               'translate3d(' + self.posX + 'px,' + self.posY + 'px, 0) ' +\n                               'scale3d(' + self.scale + ',' + self.scale + ', 1)' +\n                               'rotate(' + self.rotate + 'deg)';\n\n                       self.imgSelect.style[ionic.CSS.TRANSFORM] = transform;\n                       self.imgFull.style[ionic.CSS.TRANSFORM]   = transform;\n                   },\n\n                   crop: function () {\n                       var canvas  = document.createElement('canvas');\n                       var context = canvas.getContext('2d');\n\n                       canvas.width  = this.options.width / this.scale;\n                       canvas.height = this.options.height / this.scale;\n\n                       var currWidth  = this.imgWidth * this.scale;\n                       var currHeight = this.imgHeight * this.scale;\n\n                       var correctX = (currWidth - this.imgWidth) / 2;\n                       var correctY = (currHeight - this.imgHeight) / 2;\n\n                       var sourceX = (this.posX - correctX) / this.scale;\n                       var sourceY = (this.posY - correctY) / this.scale;\n\n                       context.translate(sourceX, sourceY);\n                       context.translate(this.imgWidth / 2, this.imgHeight / 2);\n                       context.rotate(this.rotate * Math.PI / 180);\n\n                       context.drawImage(this.imgFull, this.imgWidth / 2 * -1, this.imgHeight / 2 * -1);\n\n                       this.options.modal.remove();\n                       this.promise.resolve(canvas);\n                   },\n\n                   loadImage: function () {\n                       var promise = $q.defer();\n\n                       angular.element('<img />')\n                              .bind('load', function (e) {\n                                  promise.resolve(this);\n                              })\n                              .bind('error', promise.reject)\n                              .prop('src', this.options.url);\n\n                       return promise.promise;\n                   }\n               });\n\n               return {\n                   defaultOptions: {\n                       width      : 0,\n                       height     : 0,\n                       aspectRatio: 0,\n                       cancelText : 'Cancel',\n                       chooseText : 'Choose'\n                   },\n\n                   crop: function (options) {\n                       options = this.initOptions(options);\n\n                       var scope = $rootScope.$new(true);\n\n                       ionic.extend(scope, options);\n\n                       scope.modal = $ionicModal.fromTemplate(template, {\n                           scope: scope\n                       });\n\n                       return scope.modal.show().then(function () {\n                           return (new jrCropController(scope)).promise.promise;\n                       });\n                   },\n\n                   initOptions: function (_options) {\n                       var options;\n\n                       options = ionic.extend({}, this.defaultOptions);\n                       options = ionic.extend(options, _options);\n\n                       if (options.aspectRatio) {\n\n                           if (!options.width && options.height) {\n                               options.width = 200;\n                           }\n\n                           if (options.width) {\n                               options.height = options.width / options.aspectRatio;\n                           } else if (options.height) {\n                               options.width = options.height * options.aspectRatio;\n                           }\n                       }\n\n                       return options;\n                   }\n               };\n           });\n})();\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').factory('PhotoService', PhotoServiceFactory);\n\n    function PhotoServiceFactory($ionicActionSheet, $cordovaCapture, User,  $cordovaCamera, $translate, $cordovaActionSheet, $jrCrop, $rootScope, $ionicModal, ActionSheet, $q) {\n\n        var deviceInformation = ionic.Platform.device();\n        var isIOS             = ionic.Platform.isIOS();\n\n        console.log('isIOS', isIOS);\n\n        var tempImage;\n        var cordova = window.cordova;\n        var setting = {\n            jrCrop            : false,\n            quality           : 90,\n            allowEdit         : true,\n            filter            : true,\n            correctOrientation: true,\n            targetWidth       : 640,\n            targetHeight      : 640,\n            saveToPhotoAlbum  : false,\n            allowRotation     : true,\n            aspectRatio       : 0\n        };\n\n\n        return {\n            open     : openModal,\n            crop     : cropModal,\n            modalPost: modalPost,\n        };\n\n        function openModal(setOptions) {\n            var defer = $q.defer();\n            console.log(deviceInformation);\n\n            if (setOptions) {\n                Object.keys(setOptions).map(function (key, index) {\n                    setting[key] = setOptions[key];\n                });\n\n                console.log(setting);\n            }\n\n            var options = {\n                quality           : setting.quality,\n                aspectRatio       : setting.aspectRatio,\n                allowRotation     : setting.allowRotation,\n                allowEdit         : setting.allowEdit,\n                correctOrientation: setting.correctOrientation,\n                targetWidth       : setting.targetWidth,\n                targetHeight      : setting.targetHeight,\n                saveToPhotoAlbum  : setting.saveToPhotoAlbum,\n                destinationType   : window.cordova ? Camera.DestinationType.DATA_URL : null,\n                encodingType      : window.cordova ? Camera.EncodingType.JPEG : null,\n                popoverOptions    : window.cordova ? CameraPopoverOptions : null,\n            };\n\n            image().then(function (index) {\n                console.log(index);\n                capture(index - 1, options)\n                    .then(cropModal)\n                    .then(defer.resolve)\n                    .catch(function (resp) {\n                        console.log(resp);\n                    });\n            })\n\n            return defer.promise;\n        }\n\n        function cropModal(image) {\n            var defer = $q.defer();\n            if (window.cordova) {\n                image = 'data:image/jpeg;base64,' + image;\n            }\n\n            if (setting.jrCrop ) {\n                $jrCrop.crop({\n                    url          : image,\n                    aspectRatio  : 1,\n                    allowRotation: setting.allowRotation,\n                    width        : setting.targetWidth,\n                    height       : setting.targetHeight,\n                    cancelText   : $translate.instant('cancel'),\n                    chooseText   : $translate.instant('submit')\n                }).then(function (canvas) {\n                    defer.resolve(canvas.toDataURL());\n                }).catch(defer.reject);\n            } else {\n                defer.resolve(image);\n            }\n\n            return defer.promise;\n        }\n\n        function image() {\n            var defer = $q.defer();\n            show({\n                title     : $translate.instant('choseOption'),\n                cancelText: $translate.instant('cancel'),\n                options   : [\n                    {text: $translate.instant('photo')},\n                    {text: $translate.instant('library')}\n                ]\n            }).then(function (option) {\n                defer.resolve(option);\n            }).then(defer.resolve).catch(defer.reject);\n\n            return defer.promise;\n        }\n\n        function show(params) {\n            var defer = $q.defer();\n\n            if (window.cordova) {\n                var options = {\n                    title                    : params.title,\n                    buttonLabels             : _.map(params.options, function (item) {return item.text}),\n                    addCancelButtonWithLabel : params.cancelText,\n                    androidEnableCancelButton: true,\n                    androidTheme             : window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT\n                };\n\n                $cordovaActionSheet.show(options).then(function (btnIndex) {\n                    if (btnIndex !== 3) {\n                        defer.resolve(btnIndex);\n                    }\n                    defer.reject('cancel');\n                });\n\n            } else {\n                var actionSheet = $ionicActionSheet.show({\n                    buttons      : params.options,\n                    titleText    : params.title,\n                    cancelText   : params.cancelText,\n                    cancel       : function () {\n                        actionSheet();\n                    },\n                    buttonClicked: function (btnIndex) {\n                        actionSheet();\n                        if (btnIndex !== 3) {\n                            defer.resolve(btnIndex);\n                        }\n                        defer.reject('cancel');\n                    }\n                });\n\n            }\n            return defer.promise;\n        }\n\n        function capture(type, options) {\n            var defer = $q.defer();\n\n            if (type === 0) {\n                getPicture(0);\n            }\n\n            if (type === 1) {\n                getPicture(1);\n            }\n\n            if (type === 2) {\n                getVideo();\n            }\n\n            function getPicture(method) {\n                if (method === 0 && cordova) options.sourceType = Camera.PictureSourceType.CAMERA;\n                if (method === 1 && cordova) options.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n\n                if (cordova) {\n                    $cordovaCamera.getPicture(options).then(defer.resolve, defer.reject);\n                } else {\n                    var fileInput = angular.element('<input type=\"file\" accept=\"image/x-png, image/gif, image/jpeg\" max-size=\"2048\" />');\n                    fileInput[0].click();\n                    fileInput.on('change', function (evt) {\n                        tempImage     = evt.currentTarget.files[0];\n                        var reader    = new FileReader();\n                        reader.onload = function (evt) {\n                            defer.resolve(evt.target.result);\n                        };\n                        reader.readAsDataURL(tempImage);\n                    });\n                }\n            }\n\n            function getVideo() {\n                $cordovaCapture.captureVideo({\n                    limit   : 1,\n                    duration: 5\n                }).then(function (mediaFiles) {\n                    tempImage = mediaFiles[0].fullPath;\n                    defer.resolve(tempImage);\n                }, defer.reject);\n            }\n\n            return defer.promise;\n        }\n\n        function modalPost(image) {\n            var defer  = $q.defer();\n            var $scope = $rootScope.$new();\n\n            $scope.image = image;\n            $scope.form  = {\n                title        : '',\n                facebookShare: true\n            };\n\n            $scope.searchPeople = function (term) {\n                var peopleList = [];\n                return User.getFollowing().then(function (response) {\n                    _.each(response, function (item) {\n                        item.imageUrl = item.photo ? item.photo._url : 'img/user.png';\n                        item.bio      = item.status;\n                        if (item.name.toUpperCase().indexOf(term.toUpperCase()) >= 0) {\n                            peopleList.push(item);\n                        }\n                    });\n                    $scope.people = peopleList;\n                    return $q.when(peopleList);\n                });\n            };\n\n            $scope.getPeopleTextRaw = function (item) {\n                return '@' + item.username;\n            };\n\n            $scope.theme = $rootScope.theme;\n\n            $ionicModal.fromTemplateUrl('app/main/share/share-modal.html', {\n                scope          : $scope,\n                focusFirstInput: true\n            }).then(function (modal) {\n                $scope.modalFilter = modal;\n                $scope.modalFilter.show();\n            });\n\n\n            $scope.form.address = {};\n            $scope.closeAddress = function () {\n                $scope.form.address = {};\n            };\n\n            $scope.close = function () {\n                $scope.modalFilter.hide();\n            };\n\n            $scope.$on('$destroy', function () {\n                $scope.modal.remove();\n            });\n\n            $scope.submit = function (rForm, form) {\n                if (rForm.$valid) {\n                    var form   = angular.copy($scope.form);\n                    form.image = $scope.image;\n                    tempImage  = '';\n                    $scope.close();\n                    defer.resolve(form);\n                } else {\n                    console.log('Error', rForm);\n                }\n            };\n\n            return defer.promise;\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').factory('Video', VideoFactory);\n\n    function VideoFactory($window, $q) {\n        var deferred = $q.defer();\n        function createFileEntry(fileURI) {\n            $window.resolveLocalFileSystemURL(fileURI, function (entry) {\n                return copyFile(entry);\n            }, fail);\n        }\n\n        function copyFile(fileEntry) {\n            var name    = fileEntry.fullPath.substr(fileEntry.fullPath.lastIndexOf('/') + 1);\n            var newName = makeid() + name;\n\n            $window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (fileSystem2) {\n                    fileEntry.copyTo(fileSystem2, newName, function (succ) {\n                        return onCopySuccess(succ);\n                    }, fail);\n                },\n                fail\n            );\n        }\n\n        function onCopySuccess(entry) {\n            var name = entry.nativeURL.slice(0, -4);\n            $window.PKVideoThumbnail.createThumbnail(entry.nativeURL, name + '.png', function (prevSucc) {\n                return prevImageSuccess(prevSucc);\n            }, fail);\n        }\n\n        function prevImageSuccess(succ) {\n            var correctUrl = succ.slice(0, -4);\n            correctUrl += '.MOV';\n            deferred.resolve(correctUrl);\n        }\n\n        function fail(error) {\n            console.log('FAIL: ' + error.code);\n            deferred.reject('ERROR');\n        }\n\n        function makeid() {\n            var text     = '';\n            var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n            for (var i = 0; i < 5; i++) {\n                text += possible.charAt(Math.floor(Math.random() * possible.length));\n            }\n            return text;\n        }\n\n        return {\n            saveVideo: function (data) {\n                createFileEntry(data[0].localURL);\n                return promise;\n            }\n        };\n    }\n\n})();\n\n;(function() {\n\"use strict\";\n\nangular.module(\"ionic\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/directive/SigninModalDirective.html\",\"<ion-modal-view id=\\\"user-layout\\\" class=\\\"modal-auth bg-animate\\\" cache-view=\\\"false\\\"><ion-header-bar><h1 class=\\\"title\\\" \\ntranslate=\\\"signin\\\"></h1><a ng-click=\\\"closeModal()\\\" class=\\\"button button-icon icon ion-ios-close-empty\\\"></a>\\n</ion-header-bar><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"step2\\\"><form name=\\\"myForm\\\" \\nnovalidate=\\\"novalidate\\\" ng-submit=\\\"submitLogin(myForm, form)\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-user placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label><div ng-if=\\\"myForm.username.$dirty\\\">\\n<div ng-messages=\\\"myForm.username.$error\\\" class=\\\"validation-error\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div><div \\nng-messages=\\\"myForm.username.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" translate=\\\"checkingUsername\\\">\\n</div></div></div><label class=\\\"item item-input\\\"><i class=\\\"icon icon-lock placeholder-icon\\\"></i> <input required \\ntype=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"form.password\\\" placeholder=\\\"{{\\'password\\'|translate}}\\\"></label><button \\nclass=\\\"button button-block button-outline button-light\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button>\\n</form><button class=\\\"button button-block button-clear button-light\\\" ng-click=\\\"forgotPass()\\\" \\ntranslate=\\\"{{\\'forgotPass\\' | translate}}\\\"></button> <span class=\\\"term\\\">{{\\'termAccept\\' | translate}} <a \\nhref=\\\"https://photogramapp.com\\\">{{\\'terms\\' | translate}}</a></span></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/SignupModalDirective.html\",\"<ion-modal-view id=\\\"user-layout\\\" class=\\\"modal-auth bg-animate\\\" cache-view=\\\"false\\\"><ion-header-bar><h1 class=\\\"title\\\" \\ntranslate=\\\"register\\\"></h1><a ng-click=\\\"closeModal()\\\" class=\\\"button button-icon icon ion-ios-close-empty\\\"></a>\\n</ion-header-bar><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"step2\\\"><form name=\\\"myForm\\\" \\nnovalidate=\\\"novalidate\\\" ng-submit=\\\"submitRegister(myForm, form)\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"form.email\\\" email-validator ng-model-options=\\\"{debounce: 1000}\\\" placeholder=\\\"user@example.com\\\"></label><div \\nng-if=\\\"myForm.email.$dirty\\\"><div ng-messages=\\\"myForm.email.$error\\\" class=\\\"validation-error\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"emailInUse\\\"></div></div><div \\nng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div>\\n</div></div><label class=\\\"item item-input\\\"><i class=\\\"icon icon-user placeholder-icon\\\"></i> <input required=\\\"required\\\" \\ntype=\\\"text\\\" name=\\\"username\\\" ng-model=\\\"form.username\\\" username-validator ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" \\nng-model-options=\\\"{debounce: 1000}\\\" ng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label>\\n<div ng-if=\\\"myForm.username.$dirty\\\"><div ng-messages=\\\"myForm.email.$error\\\" class=\\\"validation-error\\\"><div \\nng-message=\\\"required\\\" translate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div>\\n<div ng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" \\ntranslate=\\\"checkingUsername\\\"></div></div></div><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-lock placeholder-icon\\\"></i> <input required type=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"form.password\\\" \\nplaceholder=\\\"{{\\'password\\'|translate}}\\\"></label><button class=\\\"button button-block button-outline button-light\\\" \\ntype=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button></form><span class=\\\"term\\\">{{\\'termAccept\\' | translate}} <a \\nhref=\\\"https://photogramapp.com\\\">{{\\'terms\\' | translate}}</a></span></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/albumGridDirective.html\",\"<div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"row\\\" ng-if=\\\"$index % 2 === 0\\\" \\nng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div class=\\\"col col-50 newAlbum\\\" \\nng-if=\\\"$index < data.length && data[$index].create\\\" gallery-new-album-modal ng-model=\\\"ngModel\\\"><div class=\\\"desc\\\"><i \\nclass=\\\"icon ion-ios-plus-empty\\\"></i><h2 translate=\\\"createAlbum\\\"></h2></div></div><div class=\\\"col col-50\\\" \\nng-if=\\\"$index < data.length && !data[$index].create\\\" album-photo-grid album=\\\"data[$index].id\\\" edit=\\\"canEdit\\\"><img \\nng-src=\\\"{{ ::data[$index].imageThumb._url || \\'img/albumnone.png\\'}}\\\" width=\\\"100%\\\"><div class=\\\"desc\\\"><h2>\\n{{::data[$index].title}}</h2><p>{{::data[$index].qtyPhotos}} photos</p></div></div><div class=\\\"col col-50\\\" \\nng-if=\\\"$index + 1 < data.length\\\" album-photo-grid album=\\\"data[$index+1].id\\\" edit=\\\"canEdit\\\"><img \\nng-src=\\\"{{ ::data[$index + 1].imageThumb._url || \\'img/albumnone.png\\'}}\\\" width=\\\"100%\\\"><div class=\\\"desc\\\"><h2>\\n{{::data[$index+1].title}}</h2><p>{{::data[$index+1].qtyPhotos}} photos</p></div></div></div><ion-infinite-scroll \\non-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/directive/albumPhotoGridDirective.html\",\"<ion-modal-view cache-view=\\\"false\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><a ng-click=\\\"closeAlbumPhotoGridModal()\\\" \\nclass=\\\"button button-icon icon ion-ios-close-empty\\\"></a><h1 class=\\\"title\\\" ng-bind=\\\"title\\\"></h1><a \\nclass=\\\"button button-icon icon ion-android-more-vertical\\\" ng-if=\\\"canEdit\\\" ng-click=\\\"openPopover($event)\\\"></a>\\n</ion-header-bar><ion-content class=\\\"padding\\\"><div class=\\\"center padding\\\" ng-if=\\\"loading\\\"><ion-spinner></ion-spinner>\\n</div><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div \\nclass=\\\"col col-33\\\" ng-if=\\\"$index < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data[$index].user.obj\\\" \\nng-src=\\\"{{ ::data[$index].imageThumb._url}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" ion-slideshow can-edit=\\\"canEdit\\\" \\nng-model=\\\"data\\\" index=\\\"$index\\\" ng-src=\\\"{{ ::data[$index].imageThumb._url}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33\\\" \\nng-if=\\\"$index + 1 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data[$index + 1].user.obj\\\" \\nng-src=\\\"{{ ::data[$index + 1].imageThumb._url}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" ion-slideshow can-edit=\\\"canEdit\\\" \\nng-model=\\\"data\\\" index=\\\"$index+1\\\" ng-src=\\\"{{ ::data[$index + 1].imageThumb._url}}\\\" width=\\\"100%\\\"></div><div \\nclass=\\\"col col-33\\\" ng-if=\\\"$index + 2 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data[$index + 2].user.obj\\\" ng-src=\\\"{{ ::data[$index + 2].imageThumb._url}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nion-slideshow can-edit=\\\"canEdit\\\" ng-model=\\\"data\\\" index=\\\"$index+2\\\" ng-src=\\\"{{ ::data[$index + 2].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"></div></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/albumPhotoGridPopover.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><a class=\\\"item item-icon-left\\\" ng-click=\\\"uploadPhoto()\\\"><i \\nclass=\\\"icon ion-ios-camera-outline\\\"></i> <span translate=\\\"addPhoto\\\"></span> </a><a class=\\\"item item-icon-left\\\" \\nng-click=\\\"editAlbum()\\\"><i class=\\\"icon ion-ios-compose-outline\\\"></i> <span translate=\\\"editAlbum\\\"></span> </a><a \\nclass=\\\"item item-icon-left\\\" ng-click=\\\"deleteAlbum()\\\"><i class=\\\"icon ion-ios-trash-outline\\\"></i> <span \\ntranslate=\\\"deleteAlbum\\\"></span></a></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/directive/distanceModal.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><div class=\\\"buttons\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-close-empty\\\" ng-click=\\\"closeDistanceModal()\\\"></button></div><div \\nclass=\\\"title\\\">{{ \\\"chooseDistanceText\\\" | translate }}</div></ion-header-bar><ion-content><ion-list><ion-item \\nclass=\\\"item item-icon-right\\\" ng-repeat=\\\"distance in distances\\\" ng-click=\\\"onDistanceSelected(distance.val)\\\" bindonce><h2\\n bo-bind=\\\"distance.text\\\"></h2><i class=\\\"icon ion-checkmark\\\" ng-show=\\\"params.distance === distance.val\\\"></i></ion-item>\\n</ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/follow.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\nFollow Users</div></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-avatar item-button-right\\\" \\nng-repeat=\\\"item in data\\\"><img ng-src=\\\"{{ ::item.src }}\\\"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \\nclass=\\\"button\\\" ng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i \\nclass=\\\"icon\\\" ng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/directive/galleryAlbumModalDirective.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><a ng-click=\\\"closeModal()\\\" class=\\\"button button-clear\\\" \\ntranslate=\\\"cancel\\\"></a><h1 class=\\\"title\\\" translate=\\\"selectAlbumText\\\"></h1></ion-header-bar><ion-content><div \\nclass=\\\"list\\\"><div class=\\\"item item-thumbnail-left\\\" gallery-new-album-modal ng-model=\\\"ngModel\\\"><img \\nsrc=\\\"img/albumnew.png\\\"><h2>Create Album</h2></div><div class=\\\"item item-thumbnail-left\\\" \\nng-repeat=\\\"item in data | filter:searchValue\\\" ng-click=\\\"selectAlbum(item)\\\"><img \\nng-src=\\\"{{item.imageThumb._url || \\'img/albumnone.png\\'}}\\\"><h2 ng-bind=\\\"item.title\\\"></h2><p>{{item.qtyPhotos}} photos</p>\\n</div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner></ion-infinite-scroll>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/galleryNewAlbumModalDirective.html\",\"<ion-modal-view><form name=\\\"rForm\\\" novalidate><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nng-click=\\\"closeModal()\\\" class=\\\"button button-clear\\\" translate=\\\"cancel\\\"></button><h1 class=\\\"title\\\" \\ntranslate=\\\"createAlbum\\\" ng-if=\\\"!form.id\\\"></h1><h1 class=\\\"title\\\" translate=\\\"editAlbum\\\" ng-if=\\\"form.id\\\"></h1><button \\nng-click=\\\"createAlbum(rForm, form)\\\" class=\\\"button button-clear\\\" translate=\\\"submit\\\"></button></ion-header-bar>\\n<ion-content><div class=\\\"list\\\"><label class=\\\"item item-input\\\"><input type=\\\"text\\\" name=\\\"title\\\" \\nplaceholder=\\\"{{\\'albumName\\' | translate}}\\\" ng-model=\\\"form.title\\\" required></label><label class=\\\"item item-input\\\">\\n<textarea name=\\\"description\\\" placeholder=\\\"{{\\'albumDesc\\' | translate}}\\\" ng-model=\\\"form.description\\\"></textarea></label>\\n</div></ion-content></form></ion-modal-view>\");\n$templateCache.put(\"app/directive/likeDirective.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Likes\\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class=\\\"list step1\\\"><div \\nng-repeat=\\\"item in likes\\\" class=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ ::item.user.img }}\\\"><h2>\\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \\nclass=\\\"button button-positive button-outline\\\"><i class=\\\"icon ion-ios-plus-empty\\\"></i> {{ ::\\'Follow\\' }}</button></div>\\n</div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/mapPhotoUserDirective.html\",\"<div id=\\\"map_canvas\\\" data-tap-disabled=\\\"true\\\"></div>\");\n$templateCache.put(\"app/directive/photoGridDirective.html\",\"<div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" \\nng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div class=\\\"col col-33\\\" ng-if=\\\"$index < data.length\\\"><img \\nng-if=\\\"profile\\\" profile-modal user=\\\"data[$index].user.obj\\\" ng-src=\\\"{{ ::data[$index].imageThumb._url}}\\\" width=\\\"100%\\\"> \\n<img ng-if=\\\"!profile\\\" ion-slideshow ng-model=\\\"data\\\" index=\\\"$index\\\" ng-src=\\\"{{ ::data[$index].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"></div><div class=\\\"col col-33\\\" ng-if=\\\"$index + 1 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data[$index + 1].user.obj\\\" ng-src=\\\"{{ ::data[$index + 1].imageThumb._url}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nion-slideshow ng-model=\\\"data\\\" index=\\\"$index+1\\\" ng-src=\\\"{{ ::data[$index + 1].imageThumb._url}}\\\" width=\\\"100%\\\"></div><div\\n class=\\\"col col-33\\\" ng-if=\\\"$index + 2 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data[$index + 2].user.obj\\\" ng-src=\\\"{{ ::data[$index + 2].imageThumb._url}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nion-slideshow ng-model=\\\"data\\\" index=\\\"$index+2\\\" ng-src=\\\"{{ ::data[$index + 2].imageThumb._url}}\\\" width=\\\"100%\\\"></div>\\n</div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll>\");\n$templateCache.put(\"app/directive/photoListDirective.html\",\"<div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list card\\\" ng-repeat=\\\"gallery in data | orderBy:\\'createdAt\\':true\\\"><div \\nclass=\\\"item item-avatar\\\" ng-click=\\\"load(gallery.user.username)\\\" ion-affix data-affix-within-parent-with-class=\\\"card\\\">\\n<img ng-if=\\\"profile\\\" ng-src=\\\"{{ ::gallery.user.photo._url}}\\\"> <img \\nng-src=\\\"{{ ::gallery.user.photo._url || \\'img/user.png\\'}}\\\"><h2>{{ ::gallery.user.name}}</h2><p>\\n{{ ::gallery.user.status}}</p><span>{{ gallery.createdAt | amTimeAgo}}</span></div><div class=\\\"item item-body\\\" \\non-double-tap=\\\"like(gallery.id)\\\" ng-model=\\\"gallery\\\"><div class=\\\"icon ion-ios-heart heart\\\" \\nng-class=\\\"gallery.isLiked ? \\'happy\\' : \\'broken\\' \\\"></div><i class=\\\"icon\\\" ng-if=\\\"like\\\"></i> <img \\nng-src=\\\"{{ gallery.image._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></div><div class=\\\"item item-buttons\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col col-30\\\"><ion-spinner ng-show=\\\"gallery.progress\\\"></ion-spinner><button photo-like loading=\\\"gallery.progress\\\" \\nng-model=\\\"gallery\\\" ng-if=\\\"!gallery.progress\\\" ng-class=\\\"gallery.isLiked ? \\'ion-ios-heart\\' : \\'ion-ios-heart-outline\\' \\\" \\nclass=\\\"button-clear button-icon button-heart\\\"></button> <button ng-click=\\\"openComment(gallery.id)\\\" ng-model=\\\"gallery\\\" \\nclass=\\\"button-clear button-icon ion-ios-chatbubble-outline\\\"></button> <button ng-click=\\\"share(gallery)\\\" \\nphotogram=\\\"{{ :: gallery.id }}\\\" class=\\\"button-clear button-icon ion-android-share\\\"></button></div><div \\nclass=\\\"col album-name text-center\\\" album-photo-grid album=\\\"gallery.album.id\\\" edit=\\\"gallery.canEdit\\\"><div \\nng-bind=\\\"gallery.album.attributes.title\\\"></div></div><div class=\\\"col text-right\\\"><button ng-click=\\\"action(gallery)\\\" \\nphotogram=\\\"{{ :: gallery.id }}\\\" class=\\\"button-clear button-icon ion-android-more-vertical\\\"></button></div></div></div>\\n<div class=\\\"padding\\\"><span class=\\\"likes\\\" ng-click=\\\"openLikers(gallery.id)\\\"><i class=\\\"icon ion-ios-heart\\\"></i> <span \\nng-if=\\\"!gallery.progress\\\">{{ gallery.likesTotal }}</span> <span translate=\\\"likesText\\\"></span></span><div \\nclass=\\\"list-comments\\\"><div class=\\\"comment-item\\\"><span profile-modal username=\\\"gallery.user.username\\\" class=\\\"username\\\">\\n{{ :: gallery.user.name }}</span> <span class=\\\"comment\\\" ng-bind-html=\\\"gallery.title | hashtag \\\"></span></div><div \\nclass=\\\"comment-item\\\" ng-repeat=\\\"item in gallery.comments |limitTo:3 | orderBy:\\'createdAt\\':true\\\"><span class=\\\"username\\\" \\nprofile-modal username=\\\"gallery.user.username\\\">{{ :: item.user.name }}</span> <span class=\\\"comment\\\" \\nng-bind-html=\\\"item.text | hashtag\\\"></span></div><a class=\\\"comment-item\\\" ng-click=\\\"openComment(gallery.id)\\\" \\nng-if=\\\"gallery.commentsTotal>3\\\" translate=\\\"seeAllCommentText\\\"></a></div><button \\nclass=\\\"button button-block button-clear button-comment\\\" ng-click=\\\"openComment(gallery.id)\\\"><span \\ntranslate=\\\"addComment\\\"></span></button></div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" \\nng-if=\\\"moreDataCanBeLoaded\\\" spinner></ion-infinite-scroll>\");\n$templateCache.put(\"app/directive/profile-edit-modal.html\",\"<ion-modal-view class=\\\"profile-edit\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button class=\\\"button button-clear\\\" \\nng-click=\\\"closeModal()\\\" translate=\\\"cancel\\\"></button><div class=\\\"title\\\">{{ ::\\'editProfile\\' | translate }}</div>\\n</ion-header-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"step2\\\"><form name=\\\"rForm\\\" \\nng-submit=\\\"submitUpdateProfile(rForm, form)\\\" novalidate><img class=\\\"avatar\\\" user-avatar ng-model=\\\"currentUser\\\" \\nng-src=\\\"{{ currentUser.photo.url() || \\'img/user.png\\' }}\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-clipboard placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"name\\\" \\nng-model=\\\"form.name\\\" placeholder=\\\"{{\\'name\\' | translate}}\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-at placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" \\nplaceholder=\\\"{{\\'username\\' | translate}}\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-earth placeholder-icon\\\"></i> <input type=\\\"url\\\" name=\\\"website\\\" ng-model=\\\"form.website\\\" \\nplaceholder=\\\"{{\\'site\\' | translate}}\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-information-circled placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"status\\\" \\nng-model=\\\"form.status\\\" placeholder=\\\"{{\\'status\\' | translate}}\\\"></label><ion-item class=\\\"item-divider\\\" \\ntranslate=\\\"privateInformation\\\"></ion-item><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"form.email\\\" \\ndisabled=\\\"disabled\\\" ng-model-options=\\\"{debounce: 1000}\\\" placeholder=\\\"user@example.com\\\"></label><label \\nclass=\\\"item item-input\\\"><i class=\\\"icon ion-iphone placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"tel\\\" \\nname=\\\"phone\\\" ng-model=\\\"form.phone\\\" placeholder=\\\"{{\\'phone\\' | translate }}\\\"></label><div class=\\\"padding\\\"><button \\ntype=\\\"submit\\\" class=\\\"button button-block button-positive\\\" translate=\\\"submit\\\"></button></div></form></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/directive/profile-modal.html\",\"<ion-modal-view id=\\\"account-view\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\">\\n<div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\"></div><div \\nclass=\\\"col col-statics\\\"><div class=\\\"row\\\"><div class=\\\"row\\\"><div class=\\\"col\\\"><span class=\\\"text-center\\\">\\n{{ ::user.galleriesTotal || 0}}</span><h3 translate=\\\"postsText\\\"></h3></div><div class=\\\"col\\\"><span class=\\\"text-center\\\">\\n{{ user.followersTotal || 0}}</span><h3 translate=\\\"followersText\\\"></h3></div><div class=\\\"col\\\"><span \\nclass=\\\"text-center\\\">{{ ::user.followingsTotal || 0}}</span><h3 translate=\\\"followingText\\\"></h3></div></div></div><div \\nclass=\\\"row col-edit\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading><button \\nng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-follow\\': !user.isFollow}\\\" ng-click=\\\"follow()\\\" class=\\\"button\\\"><span\\n ng-show=\\\"!user.isFollow\\\" translate>Follow</span> <span ng-show=\\\"user.isFollow\\\" translate>Following</span></button>\\n</div></div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ user.name }}</span><p class=\\\"user-status\\\">\\n{{ user.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button \\nclass=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: tab.grid}\\\" ng-click=\\\"changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: tab.list}\\\" ng-click=\\\"changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"recent\\\"></div><div class=\\\"tab\\\" ng-if=\\\"tab.list\\\"></div><div class=\\\"tab\\\" ng-if=\\\"tab.grid\\\"></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/directive/search-directive.html\",\"<label class=\\\"item item-input\\\"><i class=\\\"icon ion-search placeholder-icon\\\"></i> <input type=\\\"search\\\" ng-model=\\\"input\\\" \\nplaceholder=\\\"{{\\'SEARCH.FORM.INPUT\\' | translate }}\\\"> <button class=\\\"button button-icon\\\" ng-if=\\\"input.length\\\" \\nng-click=\\\"clearSearch()\\\"><i class=\\\"icon ion-close\\\"></i></button></label>\");\n$templateCache.put(\"app/directive/settings-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button class=\\\"button button-clear\\\" \\nng-click=\\\"closeSettingModal()\\\" translate=\\\"cancel\\\"></button><div class=\\\"title\\\" translate=\\\"settingTitle\\\"></div>\\n</ion-header-bar><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"list\\\"><ion-language language=\\\"language\\\">\\n</ion-language><ion-toggle class=\\\"toggle-positive\\\" ng-model=\\\"form.push\\\"><h3><small translate=\\\"notificationText\\\">\\n</small></h3><p ng-if=\\\"form.push\\\" translate=\\\"on\\\"></p><p ng-if=\\\"!form.push\\\" translate=\\\"off\\\"></p></ion-toggle><ion-item \\nclass=\\\"item-icon-right\\\" href=\\\"http://photogramapp.com\\\"><h3><small translate=\\\"terms\\\"></small></h3><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></ion-item></div><div class=\\\"padding\\\"><button ng-click=\\\"logout()\\\" \\nclass=\\\"button button-block button-positive\\\" translate=\\\"logout\\\"></button></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/mentio/people-mentions.html\",\"<ul class=\\\"list-group user-search\\\"><li mentio-menu-item=\\\"person\\\" ng-repeat=\\\"person in items\\\" class=\\\"list-group-item\\\">\\n<img ng-src=\\\"{{person.imageUrl}}\\\" class=\\\"user-photo\\\"><div class=\\\"description\\\"><span class=\\\"text-primary\\\" \\nng-bind-html=\\\"person.username | mentioHighlight:typedTerm:\\'menu-highlighted\\' | unsafe\\\"></span> <em class=\\\"text-muted\\\" \\nng-bind=\\\"person.status | words:5\\\"></em></div></li></ul>\");\n$templateCache.put(\"app/mentio/photo-mentions.html\",\"<ul class=\\\"list-group product-search demo-scrollable-menu\\\"><li mentio-menu-item=\\\"product\\\" ng-repeat=\\\"product in items\\\" \\nclass=\\\"list-group-item clearfix\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-2 text-center\\\"><img ng-src=\\\"{{product.imageUrl}}\\\" \\nclass=\\\"product-photo\\\"></div><div class=\\\"col-xs-10\\\"><h4 class=\\\"list-group-item-heading\\\">{{product.title | words:5}}</h4>\\n<p class=\\\"list-group-item-text\\\">{{product.description | words:7}}</p></div></div></li></ul>\");\n$templateCache.put(\"app/component/ion-language/ion-language.html\",\"<button class=\\\"button button-block button-clear button-{{theme}} button-language\\\">{{language.translation | translate}} \\n<i class=\\\"icon ion-android-arrow-dropdown\\\"></i></button>\");\n$templateCache.put(\"app/component/ion-language/modal-language.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar bar-positive\\\"><h1 class=\\\"title\\\" translate=\\\"selectLanguageText\\\"></h1><button \\nclass=\\\"button button-clear\\\" ng-click=\\\"closeModal()\\\" translate=\\\"cancel\\\"></button></ion-header-bar><div \\nclass=\\\"bar bar-subheader item-input-inset bar-positive\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"search\\\" placeholder=\\\"{{\\'searchText\\' | translate}}\\\" \\nng-model=\\\"searchValue\\\"></label><button type=\\\"button\\\" class=\\\"button button-clear\\\" ng-show=\\\"searchValue.length\\\" \\nng-click=\\\"searchValue=\\'\\'\\\" translate>Clear</button></div><ion-content class=\\\"has-subheader\\\"><ion-list><ion-item \\nclass=\\\"item\\\" ng-click=\\\"selectLanguage(item)\\\" ng-repeat=\\\"item in languages | filter:searchValue\\\" \\nng-bind-html=\\\"item.translation | translate\\\"></ion-item></ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-slideshow/image-popover.html\",\"<ion-modal-view id=\\\"ion-slideshow\\\"><ion-header-bar class=\\\"bar bar-dark\\\"><a ng-click=\\\"closeModal()\\\" \\nclass=\\\"button button-icon icon ion-ios-close-empty\\\"></a><div class=\\\"title\\\"></div><a \\nclass=\\\"button button-icon icon ion-android-more-vertical\\\" ng-if=\\\"canEdit\\\" ng-click=\\\"openPopover($event)\\\"></a>\\n</ion-header-bar><ion-content><ion-slide-box on-slide-changed=\\\"slideChanged(index)\\\" show-pager=\\\"true\\\" \\nactive-slide=\\\"activeSlide\\\"><ion-slide ng-repeat=\\\"item in allImages\\\"><img ng-src=\\\"{{item.image._url}}\\\" \\nclass=\\\"fullscreen-image\\\"><h1 ng-if=\\\"item.title\\\">{{item.title}}</h1></ion-slide></ion-slide-box></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/component/ion-slideshow/ion-slideshow.popover.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><a class=\\\"item item-icon-left\\\" ng-click=\\\"deletePhoto()\\\"><i \\nclass=\\\"icon ion-ios-trash-outline\\\"></i> <span translate=\\\"delete\\\"></span></a></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/component/ion-slideshow/video-popover.html\",\"<div class=\\\"modal transparent fullscreen-player\\\" ng-click=\\\"closeModal()\\\"><video ng-src=\\\"{{clipSrc}}\\\" class=\\\"centerme\\\" \\ncontrols=\\\"controls\\\" autoplay></video></div>\");\n$templateCache.put(\"app/main/account-friend-list/account-friend-list.html\",\"<ion-view><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/main/feedback/feedback-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"feedback\\\"></div></ion-header-bar><ion-content><form name=\\\"myForm\\\" novalidate=\\\"novalidate\\\" \\nng-submit=\\\"submitFeedback(myForm, form)\\\"><label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\">\\n</i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"title\\\" ng-model=\\\"form.title\\\" \\nplaceholder=\\\"{{\\'feedback\\' | translate}}\\\"></label><label class=\\\"item item-input item-select\\\"><i \\nclass=\\\"icon ion-ios-information-outline placeholder-icon\\\"></i><div class=\\\"input-label\\\" translate>subject</div><select \\nng-model=\\\"form.subject\\\"><option selected=\\\"selected\\\" translate>complaint</option><option translate>bug</option><option \\ntranslate>suggestion</option></select></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-ios-compose-outline placeholder-icon\\\"></i><textarea ng-model=\\\"form.message\\\" \\nplaceholder=\\\"{{\\'message\\' | translate}}\\\"></textarea></label><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button></div></form>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/main/gallery-comment/gallery-comment.html\",\"<ion-view id=\\\"view-comment\\\" cache-view=\\\"false\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-buttons side=\\\"left\\\">\\n<button class=\\\"button button-icon button-clear ion-ios-arrow-left\\\" ng-click=\\\"$ionicGoBack()\\\"></button>\\n</ion-nav-buttons><ion-nav-title><div class=\\\"title\\\"><span translate=\\\"commentPhotoText\\\"></span></div></ion-nav-title>\\n</ion-nav-bar><ion-content><div class=\\\"padding center\\\" ng-if=\\\"loading\\\"><ion-spinner></ion-spinner></div><ion-list \\nclass=\\\"list\\\" ng-if=\\\"!loading\\\" can-swipe=\\\"true\\\"><div class=\\\"item item-avatar\\\"><img \\nng-src=\\\"{{ ::gallery.profile.get(\\'photo\\').url()|| \\'./img/user.png\\'}}\\\"><p></p><h2>\\n{{ ::gallery.profile.get(\\'username\\') }}</h2><div class=\\\"text\\\">{{ ::gallery.title }}</div><p></p><div class=\\\"row\\\"><p>\\n{{ ::gallery.createdAt | amTimeAgo }}</p></div></div><ion-item \\nng-repeat=\\\"item in comments | orderBy:\\'createdAt\\':false\\\" class=\\\"item item-avatar\\\"><img \\nng-src=\\\"{{ ::item.user.photo._url || \\'./img/user.png\\'}}\\\"><p></p><h2>{{ ::item.user.username }}</h2><div class=\\\"text\\\">\\n{{ ::item.text }}</div><p></p><div class=\\\"row\\\"><p>{{ ::item.createdAt | amTimeAgo }}</p></div><div \\nng-if=\\\"item.canEdit\\\"><ion-option-button class=\\\"button-info\\\" ng-click=\\\"editComment(item, $index)\\\" translate=\\\"edit\\\">Edit\\n</ion-option-button><ion-option-button class=\\\"button-assertive\\\" ng-click=\\\"deleteComment(item, $index)\\\" \\ntranslate=\\\"remove\\\">Remove</ion-option-button></div></ion-item></ion-list><div class=\\\"center-ico\\\" ng-if=\\\"nocomments\\\"><i \\nclass=\\\"icon ion-ios-chatbubble-outline\\\"></i><h1 translate=\\\"noComments\\\"></h1></div></ion-content><form name=\\\"rForm\\\" \\nng-submit=\\\"submitComment(rForm, form)\\\" novalidate><ion-footer-bar ng-hide=\\\"loading\\\" \\nclass=\\\"bar-stable item-input-inset message-footer\\\" keyboard-attach><label class=\\\"item-input-wrapper\\\" \\nng-class=\\\"{\\'item-invalid\\': rForm.message.$invalid && !rForm.message.$pristine}\\\"><textarea name=\\\"message\\\" mentio \\nmentio-trigger-char=\\\"\\'@\\'\\\" mentio-items=\\\"people\\\" mentio-template-url=\\\"app/mentio/people-mentions.html\\\" \\nmentio-search=\\\"searchPeople(term)\\\" mentio-select=\\\"getPeopleTextRaw(item)\\\" mentio-id=\\\"\\'theTextArea\\'\\\" ng-trim=\\\"false\\\" \\nng-model=\\\"form.text\\\" focus-me id=\\\"textComment\\\" placeholder=\\\"Comente aqui...\\\" required minlength=\\\"1\\\" maxlength=\\\"1500\\\">\\n                </textarea></label><div class=\\\"footer-btn-wrap\\\"><button class=\\\"button button-positive button-outline\\\" \\ntype=\\\"submit\\\" ng-disabled=\\\"!form.text || form.text === \\'\\'\\\">Enviar</button></div></ion-footer-bar></form></ion-view>\");\n$templateCache.put(\"app/main/loading/loading.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/main/profile/profile.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-back-button>\\n</ion-nav-back-button></ion-nav-bar><ion-nav-title><span>{{ vm.user.name }}</span></ion-nav-title><ion-content \\nscroll-sista=\\\"header-tabs\\\" class=\\\"animated fadeIn\\\"><ion-refresher pulling-text=\\\"Loading\\\" on-refresh=\\\"onReload()\\\">\\n</ion-refresher><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div class=\\\"col-25\\\"><img class=\\\"avatar\\\" user-avatar \\nng-model=\\\"vm.user\\\" ng-src=\\\"{{ vm.user.photo._url || \\'img/user.png\\' }}\\\"></div><div class=\\\"col col-statics\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col\\\"><span class=\\\"text-center\\\">{{ vm.user.galleriesTotal || 0}}</span><h3 \\ntranslate=\\\"postsText\\\"></h3></div><div class=\\\"col\\\" ng-click=\\\"vm.openFollowers()\\\"><span class=\\\"text-center\\\">\\n{{ vm.user.followersTotal || 0}}</span><h3 translate=\\\"followersText\\\"></h3></div><div class=\\\"col\\\" \\nng-click=\\\"vm.openFollowing()\\\"><span class=\\\"text-center\\\">{{ vm.user.followingsTotal || 0}}</span><h3 \\ntranslate=\\\"followingText\\\"></h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col center\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"col\\\" ng-if=\\\"vm.isMe && !vm.loading\\\"><button profile-modal-edit \\nuser=\\\"vm.user\\\" class=\\\"button\\\"><div translate=\\\"editProfile\\\"></div></button></div><div class=\\\"col\\\" \\nng-if=\\\"!vm.isMe && !vm.loading\\\"><button \\nng-class=\\\"{\\'button-unfollow\\': vm.user.isFollow, \\'button-follow\\': !vm.user.isFollow}\\\" ng-click=\\\"vm.follow()\\\" \\nclass=\\\"button\\\"><span ng-show=\\\"!vm.user.isFollow\\\" translate>follow</span> <span ng-show=\\\"vm.user.isFollow\\\" translate>\\nunfollow</span></button></div></div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ vm.user.name }}\\n</span><p class=\\\"user-status\\\">{{ vm.user.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button\\n class=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{\\'active\\': vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> \\n<button class=\\\"button button-icon icon ion-ios-camera-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.album}\\\" \\nng-click=\\\"vm.changeTab(\\'album\\')\\\"></button> <button class=\\\"button button-icon icon ion-drag\\\" \\nng-class=\\\"{\\'active\\': vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.map}\\\" \\nng-click=\\\"vm.changeTab(\\'map\\')\\\"></button></div></div><div ng-if=\\\"!vm.loading\\\"><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.grid && !vm.loading\\\"><div class=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-grid \\nusername=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\"></photo-grid></div><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.album && !vm.loading\\\"><div class=\\\"item item-divider\\\" translate=\\\"albums\\\"></div><album-grid \\nusername=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\"></album-grid></div><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.list && !vm.loading\\\"><div class=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-list \\nusername=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\"></photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.map && !vm.loading\\\">\\n<div class=\\\"item item-divider\\\" translate=\\\"map\\\"></div><map-photo-user username=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\">\\n</map-photo-user></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/profile-photo/profile-photo.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-back-button>\\n</ion-nav-back-button></ion-nav-bar><ion-nav-title><span translate=\\\"photo\\\"></span></ion-nav-title><ion-content \\nscroll-sista=\\\"header-tabs\\\" class=\\\"animated fadeIn\\\"><photo-list id=\\\"vm.id\\\" profile=\\\"true\\\" load=\\\"vm.openProfile\\\" \\nopen-likers=\\\"vm.openLikers\\\" on-reload=\\\"onReload\\\"></photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/main/share/share-modal.html\",\"<ion-modal-view class=\\\"modal-share\\\"><form name=\\\"rForm\\\" novalidate><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-clear\\\" ng-click=\\\"close()\\\" translate=\\\"cancel\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"shareGalleryText\\\"></div><button class=\\\"button button-clear\\\" ng-click=\\\"submit(rForm, form)\\\" \\ntranslate=\\\"submit\\\"></button></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-thumbnail-left\\\"><img \\nng-src=\\\"{{image}}\\\" ng-click=\\\"editFilter()\\\"><textarea mentio mentio-trigger-char=\\\"\\'@\\'\\\" mentio-items=\\\"people\\\" \\nmentio-template-url=\\\"app/mentio/people-mentions.html\\\" mentio-search=\\\"searchPeople(term)\\\" \\nmentio-select=\\\"getPeopleTextRaw(item)\\\" mentio-id=\\\"\\'theTextArea\\'\\\" ng-trim=\\\"false\\\" type=\\\"text\\\" ng-model=\\\"form.title\\\" \\nplaceholder=\\\"{{ \\'description\\'|translate }}\\\"></textarea></div><div class=\\\"item item-divider\\\" translate=\\\"shareLocation\\\">\\n</div><div class=\\\"item item-icon-left\\\" ion-location ng-model=\\\"form.address\\\" ng-if=\\\"!form.address.resume\\\"><i \\nclass=\\\"icon ion-ios-location\\\"></i> <span translate=\\\"addLocale\\\"></span></div><a \\nclass=\\\"item item-icon-left item-button-right\\\" ng-if=\\\"form.address.resume\\\"><i class=\\\"icon ion-ios-location\\\"></i><h2>\\n{{form.address.name || form.address.resume}}</h2><p>{{form.address.resume}}</p><button class=\\\"button button-icon\\\" \\nng-click=\\\"closeAddress()\\\"><i class=\\\"icon ion-ios-close\\\"></i></button></a><div class=\\\"item item-divider\\\" \\ntranslate=\\\"selectAlbumText\\\"></div><div class=\\\"item item-thumbnail-left\\\" gallery-album-modal ng-model=\\\"form.album\\\"><img \\nng-src=\\\"{{form.album.imageThumb._url || \\'img/albumnone.png\\'}}\\\"><h2 ng-if=\\\"!form.album.title\\\" \\ntranslate=\\\"clickSelectAlbum\\\"></h2><h2 ng-if=\\\"form.album\\\" ng-bind=\\\"form.album.title\\\"></h2><p ng-if=\\\"form.album\\\">\\n{{form.album.qtyPhotos}} photos</p></div></div></ion-content></form></ion-modal-view>\");\n$templateCache.put(\"app/main/tab/main-tab.html\",\"<ion-view cache-view=\\\"true\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-back-button></ion-nav-back-button>\\n</ion-nav-bar><ion-tabs class=\\\"tabs-light tabs-photogram\\\"><ion-tab icon-on=\\\"ion-ios-home\\\" \\nicon-off=\\\"ion-ios-home-outline\\\" ui-sref=\\\"tab.home\\\"><ion-nav-view name=\\\"tabHome\\\"></ion-nav-view></ion-tab><ion-tab \\nicon-on=\\\"ion-ios-world\\\" icon-off=\\\"ion-ios-world-outline\\\" ui-sref=\\\"tab.search\\\"><ion-nav-view name=\\\"tabSearch\\\">\\n</ion-nav-view></ion-tab><ion-tab icon-on=\\\"ion-ios-camera\\\" icon-off=\\\"ion-ios-camera-outline\\\" ng-click=\\\"vm.postPhoto()\\\">\\n<ion-nav-view name=\\\"tabCapture\\\"></ion-nav-view></ion-tab><ion-tab icon-on=\\\"ion-ios-heart\\\" \\nicon-off=\\\"ion-ios-heart-outline\\\" badge=\\\"badge\\\" ui-sref=\\\"tab.activity\\\"><ion-nav-view name=\\\"tabActivity\\\"></ion-nav-view>\\n</ion-tab><ion-tab icon-on=\\\"ion-ios-person\\\" icon-off=\\\"ion-ios-person-outline\\\" ui-sref=\\\"tab.account\\\"><ion-nav-view \\nname=\\\"tabProfile\\\"></ion-nav-view></ion-tab></ion-tabs></ion-view>\");\n$templateCache.put(\"app/main/tab-account/account.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-title><span>{{ vm.user.attributes.name }}</span>\\n</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button settings-modal class=\\\"button button-icon icon ion-gear-a\\\">\\n</button></ion-nav-buttons><ion-content><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div class=\\\"col-25\\\"><img \\nclass=\\\"avatar\\\" user-avatar ng-model=\\\"currentUser\\\" ng-src=\\\"{{ currentUser.photo.url() || \\'img/user.png\\' }}\\\"></div><div \\nclass=\\\"col col-statics\\\"><div class=\\\"row\\\"><div class=\\\"col\\\"><span ng-if=\\\"!vm.loading\\\" class=\\\"text-center\\\">\\n{{ vm.user.attributes.galleriesTotal || 0}}</span><ion-spinner ng-if=\\\"vm.loading\\\"></ion-spinner><h3 \\ntranslate=\\\"postsText\\\"></h3></div><div class=\\\"col\\\" ng-click=\\\"vm.openFollowers()\\\"><span ng-if=\\\"!vm.loading\\\" \\nclass=\\\"text-center\\\">{{ vm.user.attributes.followersTotal || 0}}</span><ion-spinner ng-if=\\\"vm.loading\\\"></ion-spinner><h3\\n translate=\\\"followersText\\\"></h3></div><div class=\\\"col\\\" ng-click=\\\"vm.openFollowing()\\\"><span ng-if=\\\"!vm.loading\\\" \\nclass=\\\"text-center\\\">{{ vm.user.attributes.followingsTotal || 0}}</span><ion-spinner ng-if=\\\"vm.loading\\\"></ion-spinner>\\n<h3 translate=\\\"followingText\\\"></h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\"><button profile-modal-edit \\nuser=\\\"vm.user\\\" class=\\\"button\\\"><div translate=\\\"editProfile\\\"></div></button></div></div></div></div><div class=\\\"padding\\\">\\n<span class=\\\"user-username\\\">{{ vm.user.attributes.name }}</span><p class=\\\"user-status\\\">{{ vm.user.attributes.status }}\\n</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-grid\\\" \\nng-class=\\\"{\\'active\\': vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-camera-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.album}\\\" \\nng-click=\\\"vm.changeTab(\\'album\\')\\\"></button> <button class=\\\"button button-icon icon ion-drag\\\" \\nng-class=\\\"{\\'active\\': vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.map}\\\" \\nng-click=\\\"vm.changeTab(\\'map\\')\\\"></button></div></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.grid && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-grid username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></photo-grid></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.album && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"albums\\\"></div><album-grid username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></album-grid></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.list && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-list username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.map && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"map\\\"></div><map-photo-user username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></map-photo-user></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-activity/activity.html\",\"<ion-view class=\\\"list-activity\\\"><ion-nav-title><span translate=\\\"activities\\\"></span></ion-nav-title><ion-content><div \\nclass=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\"><ion-spinner></ion-spinner></div><div class=\\\"center padding\\\" \\nng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>\\n{{ \\\"errorText\\\" | translate }}</p><button class=\\\"button button-positive\\\" ng-click=\\\"onReload()\\\">\\n{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div class=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>{{ \\\"activityNotFoundText\\\" | translate }}</p></div>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><div \\nclass=\\\"list\\\"><div class=\\\"item item-avatar item-animate1\\\" ng-repeat=\\\"item in data | orderBy:\\'createdAt\\':true\\\"><img \\nng-src=\\\"{{ item.user.photo._url  || \\'./img/user.png\\'}}\\\"><h2 ng-click=\\\"openProfile(item.user.username)\\\">\\n{{ item.user.username}}</h2><div class=\\\"text\\\">{{ item.action | translate }}</div><p>{{ item.createdAt | amTimeAgo }}\\n</p><div class=\\\"img-right\\\" ng-if=\\\"item.item.gallery\\\"><img ng-src=\\\"{{ item.item.gallery.attributes.imageThumb._url}}\\\">\\n</div><div class=\\\"item-button-right\\\" ng-if=\\\"!item.item.gallery\\\"><button class=\\\"button button-positive\\\" \\nng-disabled=\\\"item.user.loading\\\" \\nng-class=\\\"{\\'button-unfollow\\': item.user.isFollow, \\'button-outline\\': !item.user.isFollow}\\\" ng-click=\\\"follow(item.user)\\\">\\n<div ng-show=\\\"!item.user.isFollow\\\" translate>follow</div><div ng-show=\\\"item.user.isFollow\\\" translate>unfollow</div>\\n</button></div></div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner \\ndistance=\\\"1%\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-home/home.html\",\"<ion-view class=\\\"view-home\\\"><ion-nav-buttons side=\\\"left\\\"><button \\nclass=\\\"button button-icon icon ion-ios-personadd-outline\\\" ui-sref=\\\"tab.homeUserlist\\\"></button></ion-nav-buttons>\\n<ion-nav-title><span class=\\\"icon2-logo\\\"></span></ion-nav-title><ion-content><ion-refresher pulling-text=\\\"Loading\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><photo-list profile=\\\"true\\\" load=\\\"vm.openProfile\\\" open-likers=\\\"vm.openLikers\\\" \\non-reload=\\\"onReload\\\"></photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-search/search.html\",\"<ion-view><ion-nav-title><span>{{ \\'searchText\\' | translate }}</span></ion-nav-title><ion-nav-buttons side=\\\"right\\\">\\n<button class=\\\"button button-icon ion-ios-location\\\" ui-sref=\\\"tab.map\\\"></button></ion-nav-buttons><ion-header-bar \\nclass=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" ng-change=\\\"onSearch()\\\" \\nng-model-options=\\\"{debounce:1000}\\\" style=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\">\\n</label><button class=\\\"button button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><ion-refresher pulling-text=\\\"Loading\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading\\\"><ion-spinner>\\n</ion-spinner></div><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div\\n class=\\\"col col-33\\\" ui-sref=\\\"tab.searchProfile({username: data[$index].user.username})\\\"><img profile-modal \\nuser=\\\"data[$index].user.obj\\\" ng-src=\\\"{{ data[$index].imageThumb._url}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33\\\" \\nng-if=\\\"$index + 1\\\" ui-sref=\\\"tab.searchProfile({username: data[$index].user.username})\\\"><img profile-modal \\nuser=\\\"data[$index + 1].user.obj\\\" ng-src=\\\"{{ data[$index + 1].imageThumb._url}}\\\" width=\\\"100%\\\"></div><div \\nclass=\\\"col col-33\\\" ng-if=\\\"$index + 2\\\" ui-sref=\\\"tab.searchProfile({username: data[$index].user.username})\\\"><img \\nprofile-modal user=\\\"data[$index + 2].user.obj\\\" ng-src=\\\"{{ data[$index + 2].imageThumb._url}}\\\" width=\\\"100%\\\"></div></div>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-search-map/searchMap.html\",\"<ion-view id=\\\"view-map\\\"><ion-nav-title>{{ \\'mapTitle\\' | translate }}</ion-nav-title><ion-content scroll=\\\"false\\\"><div \\nid=\\\"map_canvas\\\" data-tap-disabled=\\\"true\\\"></div></ion-content><ion-footer-bar><div class=\\\"row\\\" ng-if=\\\"loading\\\"><div \\nclass=\\\"col\\\"><div class=\\\"center\\\"><ion-spinner></ion-spinner></div></div></div><button ng-if=\\\"!loading\\\" \\nclass=\\\"button button-positive button-block button-outline\\\" ng-click=\\\"loadMyLocation()\\\">{{ \\'searchInHere\\' | translate }}\\n</button></ion-footer-bar></ion-view>\");\n$templateCache.put(\"app/main/user-avatar/user-avatar.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content class=\\\"padding view-avatar\\\"><div class=\\\"row step1\\\"><div \\nclass=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-model=\\\"user\\\" ng-src=\\\"{{ user._url || \\'img/user.png\\' }}\\\"></div></div><div\\n class=\\\"step2\\\"><form name=\\\"myForm\\\" novalidate=\\\"novalidate\\\" ng-submit=\\\"submitAvatar(myForm, form)\\\"><label \\nclass=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"email\\\" \\nname=\\\"email\\\" ng-model=\\\"form.email\\\" disabled=\\\"disabled\\\" placeholder=\\\"user@example.com\\\"></label><label \\nclass=\\\"item item-input\\\"><i class=\\\"icon ion-at placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" \\nname=\\\"username\\\" ng-model=\\\"form.username\\\" ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label><div ng-if=\\\"myForm.username.$dirty\\\">\\n<div ng-messages=\\\"myForm.email.$error\\\" class=\\\"validation-error\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div><div \\nng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" translate=\\\"checkingUsername\\\">\\n</div></div></div><label class=\\\"item item-input\\\"><i class=\\\"icon icon-user placeholder-icon\\\"></i> <input required \\ntype=\\\"name\\\" name=\\\"name\\\" ng-model=\\\"form.name\\\" placeholder=\\\"{{\\'name\\'|translate}}\\\"></label><label class=\\\"item item-input\\\">\\n<i class=\\\"icon ion-pound placeholder-icon\\\"></i> <input required type=\\\"status\\\" name=\\\"status\\\" ng-model=\\\"form.status\\\" \\nplaceholder=\\\"{{\\'status\\'|translate}}\\\"></label><button class=\\\"button button-block button-outline button-light\\\" \\ntype=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button></form></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-followers/user-followers.html\",\"<ion-view id=\\\"user-list\\\"><ion-nav-title><span translate=\\\"followersText\\\"></span></ion-nav-title><ion-header-bar \\nclass=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" \\nstyle=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\"></label><button \\nclass=\\\"button button-positive button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in vm.users | filter:searchValue\\\"><a \\nclass=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" \\nng-click=\\\"vm.openProfile(user)\\\"><h2 ng-click=\\\"vm.openProfile(user)\\\">{{user.username}}</h2><p>{{user.status}}</p><button\\n class=\\\"button button-positive\\\" ng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" \\nng-click=\\\"vm.follow(user)\\\"><div ng-show=\\\"!user.isFollow\\\" translate>follow</div><div ng-show=\\\"user.isFollow\\\" translate>\\nunfollow</div></button> </a><span class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img \\nng-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-following/user-following.html\",\"<ion-view id=\\\"user-list\\\"><ion-nav-title><span translate=\\\"followingText\\\"></span></ion-nav-title><ion-header-bar \\nclass=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" \\nstyle=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\"></label><button \\nclass=\\\"button button-positive button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in vm.users | filter:searchValue\\\"><a \\nclass=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" \\nng-click=\\\"vm.openProfile(user)\\\"><h2 ng-click=\\\"vm.openProfile(user)\\\">{{user.username}}</h2><p>{{user.status}}</p><button\\n class=\\\"button button-positive\\\" ng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" \\nng-click=\\\"vm.follow(user)\\\"><div ng-show=\\\"!user.isFollow\\\" translate>follow</div><div ng-show=\\\"user.isFollow\\\" translate>\\nunfollow</div></button> </a><span class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img \\nng-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-intro/user-intro.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"view-intro bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content scroll=\\\"false\\\"><div class=\\\"intro-slider\\\"><ion-slide-box active-slide=\\\"slideIndex\\\" \\nshow-pager=\\\"true\\\" on-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide ng-repeat=\\\"item in vm.slides track by $index\\\">\\n<div class=\\\"content\\\" ng-if=\\\"$index == vm.slideIndex\\\"><span class=\\\"top\\\"><h2>{{ item.text | translate }}</h2></span><div \\nclass=\\\"phone {{ vm.device }}\\\"><img ng-src=\\\"{{ item.img }}\\\"></div></div></ion-slide></ion-slide-box></div><button \\nclass=\\\"button button-positive button-fab left\\\" ng-if=\\\"vm.slideIndex\\\" ng-click=\\\"vm.previous()\\\"><i \\nclass=\\\"icon ion-ios-arrow-left\\\"></i></button> <button class=\\\"button button-positive button-fab right\\\" \\nng-hide=\\\"vm.slideIndex === vm.slides.length-1\\\" ng-click=\\\"vm.next()\\\"><i class=\\\"icon ion-ios-arrow-right\\\"></i></button>\\n</ion-content><ion-footer-bar><facebook-login></facebook-login><div class=\\\"row\\\"><button \\nclass=\\\"button button-block button-calm\\\" translate=\\\"register\\\" signup-modal></button> <button \\nclass=\\\"button button-block button-positive\\\" translate=\\\"signin\\\" signin-modal></button></div></ion-footer-bar></ion-view>\");\n$templateCache.put(\"app/main/user-layout/user-layout.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content padding=\\\"false\\\"><ion-nav-view></ion-nav-view></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/main/user-likers/user-likers.html\",\"<ion-view id=\\\"user-list\\\"><ion-nav-title><span translate=\\\"likersText\\\"></span></ion-nav-title><ion-header-bar \\nclass=\\\"bar bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" \\nstyle=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\"></label><button \\nclass=\\\"button button-positive button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in vm.users | filter:searchValue\\\"><a \\nclass=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" \\nng-click=\\\"vm.openProfile(user)\\\"><h2 ng-click=\\\"vm.openProfile(user)\\\">{{user.username}}</h2><p>{{user.status}}</p><button\\n class=\\\"button button-positive\\\" ng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" \\nng-click=\\\"vm.follow(user)\\\"><div ng-show=\\\"!user.isFollow\\\" translate>Follow</div><div ng-show=\\\"user.isFollow\\\" translate>\\nUnfollow</div></button> </a><span class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img \\nng-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-list/user-list.html\",\"<ion-view id=\\\"user-list\\\" cache-view=\\\"true\\\"><ion-nav-title><span translate=\\\"findPeople\\\"></span></ion-nav-title>\\n<ion-header-bar class=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" ng-change=\\\"onSearch()\\\" \\nng-model-options=\\\"{debounce:1000}\\\" style=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\">\\n</label><button class=\\\"button button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button\\n class=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\"><ion-spinner>\\n</ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in data \\\"><a class=\\\"item item-avatar item-button-right\\\"><img\\n ng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" ng-click=\\\"openProfile(user)\\\"><h2 ng-click=\\\"openProfile(user)\\\">\\n{{user.username}}</h2><p>{{user.status}}</p><button class=\\\"button button-positive\\\" ng-disabled=\\\"user.loading\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" ng-click=\\\"follow(user)\\\"><div \\nng-show=\\\"!user.isFollow\\\" translate>follow</div><div ng-show=\\\"user.isFollow\\\" translate>unfollow</div></button> </a><span\\n class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img ng-src=\\\"{{ gallery.imageThumb._url}}\\\" \\nid=\\\"{{ ::gallery.id}}\\\"></span></span></div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" \\nng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-merge/merge.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><ion-content class=\\\"view-avatar padding\\\"><div \\nclass=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ tempUser.attributes.photo._url || \\'./img/user.png\\' }}\\\"></div></div><div class=\\\"step2\\\"><form name=\\\"myForm\\\" \\nnovalidate=\\\"novalidate\\\" ng-submit=\\\"submitMerge(myForm, form)\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"form.email\\\" disabled=\\\"disabled\\\" placeholder=\\\"user@example.com\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-user placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" username-validator ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label><div ng-if=\\\"myForm.username.$dirty\\\">\\n<div ng-messages=\\\"myForm.email.$error\\\" class=\\\"validation-error\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div><div \\nng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" translate=\\\"checkingUsername\\\">\\n</div></div></div><label class=\\\"item item-input\\\"><i class=\\\"icon icon-lock placeholder-icon\\\"></i> <input required \\ntype=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"form.password\\\" placeholder=\\\"{{\\'password\\'|translate}}\\\"></label><button \\nclass=\\\"button button-block button-outline button-light\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button>\\n</form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"vm.submit(rForm, vm.form)\\\" \\nclass=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span translate=\\\"mergeAccount\\\">\\n</span></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/component/ion-photo/view/filter.modal.html\",\"<ion-modal-view id=\\\"photo-filter\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModalFilter()\\\"></button><div \\nclass=\\\"title\\\">{{ \\'Filter\\' | translate }}</div><button class=\\\"button button-icon\\\" ng-click=\\\"submitFilter()\\\"><i \\nclass=\\\"icon ion-ios-arrow-thin-right\\\"></i></button></ion-header-bar><ion-content><div class=\\\"box-image\\\"><img \\nid=\\\"image\\\" src=\\\"{{form.photo}}\\\" ng-hide=\\\"loading\\\"><ion-spinner ng-show=\\\"loading\\\"></ion-spinner></div><img id=\\\"image3\\\" \\nsrc=\\\"\\\" style=\\\"display: none\\\"><div ng-show=\\\"showFilter\\\" class=\\\"slider-filters animate1\\\"><ion-scroll direction=\\\"x\\\" \\nclass=\\\"image-filter\\\"><a ng-repeat=\\\"filter in imageFilters\\\" ng-click=\\\"applyFilter(filter)\\\"><p>{{ filter.name }}</p><img \\nid=\\\"{{filter.id}}\\\" class=\\\"img-filter\\\" src=\\\"\\\"></a></ion-scroll><div class=\\\"row\\\"><div class=\\\"col\\\"><button \\nclass=\\\"button button-block bold\\\">Filter</button></div><div class=\\\"col\\\"><button class=\\\"button button-block\\\" \\nng-click=\\\"actionShowFilter(false)\\\">Edit</button></div></div></div><div ng-hide=\\\"showFilter\\\" class=\\\"slider-filters\\\"><div\\n ng-show=\\\"filterEdit\\\" class=\\\"slider-filters\\\"><p class=\\\"text-center\\\">{{filter.name}}</p><div \\nclass=\\\"item range range-positive\\\"><input type=\\\"range\\\" min=\\\"-100\\\" max=\\\"100\\\" ng-model=\\\"filter.slider.value\\\" \\nng-model-options=\\\"{debounce:100}\\\" step=\\\"0.1\\\"></div><div class=\\\"row\\\"><div class=\\\"col\\\"><button \\nclass=\\\"button button-block\\\" ng-click=\\\"cancelFilter(filter)\\\">Cancel</button></div><div class=\\\"col\\\"><button \\nclass=\\\"button button-block bold\\\" ng-click=\\\"doneFilter()\\\">Done</button></div></div></div><div ng-show=\\\"!filterEdit\\\" \\nclass=\\\"slider-filters\\\"><ion-scroll direction=\\\"x\\\"><a ng-repeat=\\\"filter in filters\\\" ng-click=\\\"selectFilter(filter)\\\"><p>\\n{{ filter.name }}</p><i class=\\\"icon {{filter.icon}}\\\"></i> </a><a ng-click=\\\"reset()\\\"><p>Reset</p><i \\nclass=\\\"icon ion-android-refresh\\\"></i></a></ion-scroll><div class=\\\"row\\\"><div class=\\\"col\\\"><button \\nclass=\\\"button button-block\\\" ng-click=\\\"actionShowFilter(true)\\\">Filter</button></div><div class=\\\"col\\\"><button \\nclass=\\\"button button-block bold\\\">Edit</button></div></div></div></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-photo/view/modal.share.photo.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><div class=\\\"title\\\">{{ ::\\'Share\\' | translate }}\\n</div><button class=\\\"button button-positive\\\" ng-click=\\\"modal.hide()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button>\\n</ion-header-bar><ion-content ng-cloak><div id=\\\"image\\\"><img ng-src=\\\"{{ ::form.photo}}\\\"><div class=\\\"title\\\">\\n{{ ::form.title }}</div></div><ul class=\\\"list\\\"><li class=\\\"padding\\\"><button ng-repeat=\\\"social in sociais\\\" \\nng-click=\\\"share(form, social)\\\" class=\\\"button button-block button-{{ social }}\\\"><i class=\\\"icon ion-social-{{ social }}\\\">\\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>\");}]);\n}());\n"],"sourceRoot":"/source/"}