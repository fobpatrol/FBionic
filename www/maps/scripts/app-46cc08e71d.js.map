{"version":3,"sources":["scripts/app.js"],"names":["configRoutes","$stateProvider","$urlRouterProvider","$translatePartialLoaderProvider","addPart","path","state","url","abstract","templateUrl","controller","controllerAs","template","otherwise","$inject","angular","module","config","UserRegisterCtrl","$state","UserForm","Notify","Loading","Photogram","User","init","vm","form","email","password","submitRegister","rForm","data","$valid","start","copy","register","then","resp","addActivity","action","login","end","go","clear","alert","title","text","message","this","formFields","UserRecoveryPassController","submitForgot","forgot","recoveryPassDirective","$ionicPopup","restrict","scope","link","$scope","elem","openModal","recovery","erro","button","input","show","buttons","type","onTap","e","$viewValue","preventDefault","res","isUndefined","bind","directive","UserMergeController","$rootScope","AppConfig","tempUser","submit","dataForm","user","facebookLink","routes","home","LogoutController","logout","UserLoginCtrl","Parse","current","routeLogged","submitLogin","name","length","facebook","facebookLogin","status","UserIntroCtrl","userAvatarDirective","PhotoService","PhotogramSetting","gallery","option","allowEdit","get","filter","allowRotation","quality","correctOrientation","targetWidth","targetHeight","saveToPhotoAlbum","open","imageData","updateAvatar","UserAvatarController","currentUser","gender","img","username","profile","submitAvatar","update","PhotogramTabsController","$ionicModal","crop","modalPost","goHome","image","closeModalPost","hide","remove","submitPost","post","$emit","closePost","location","photo","geo","fromTemplateUrl","focusFirstInput","modal","postPhoto","PhotogramShareFactory","$window","$translate","share","app","cordova","window","plugins","socialsharing","factory","views","tabSearch","SearchMapController","$timeout","GeoService","watchMap","newValue","oldValue","time","timer","nearby","map","center","cancel","findMe","position","geolocation","zoom","coords","error","latitude","longitude","$watch","SearchListController","PhotogramSearchCtrl","changeTab","tab","list","PhotogramViewCtrl","$stateParams","id","PhotogramPreviewCtrl","PhotogramPhotoCtrl","PhotogramId","loadComments","allComment","comments","submitComment","addComment","formComment","PhotogramHomeController","tabHome","DirectMessageCtrl","Direct","loadMessages","loading","messages","roomId","model","$broadcast","sendMessage","body","params","channelId","doRefresh","DirectHomeCtrl","chats","$q","getDirect","directId","defer","Query","include","equalTo","first","resolve","promise","addMessage","DirectMessages","Object","extend","forEach","value","key","set","save","reject","direct","room","relation","add","page","attributes","from","limit","skip","find","item","obj","date","createdAt","push","promises","chatsType","all","_direct","msg","to","$filter","replace","element","attrs","eleHtml","html","Autolinker","className","newWindow","autolinks","getElementsByClassName","i","href","target","tabActivity","PhotogramActivityCtrl","PhotogramShare","empty","loadMore","force","load","listActivity","more","openShare","PhotogramAccountCtrl","grid","total","galleries","getFollower","loadingFollowers","loadingFollowing","loadingPhotos","getUserGalleryQtd","qtdPhotos","getFollowers","qtdFollowers","getFollowing","qtdFollowing","settingsModal","$cordovaInAppBrowser","photogram","languages","locales","language","use","sref","closeModal","openLink","options","clearcache","toolbar","changeLanguage","moment","locale","submitUpdateProfile","ionSearch","getData","ngModel","search","watchSearch","minLength","str","results","placeholder","$apply","addClass","source","profileModalDirective","profileModalLink","loadingPhotogram","avatar","getUserGallery","userId","isFollow","isFollowResp","follow","loadingFollow","followResp","modalProfile","profileModalEditDirective","facebookimg","linkFacebook","photogramPhotoList","PhotogramFeedback","$ionicActionSheet","photogramPhotoListCtrl","attr","feed","progress","likePhoto","liked","likeGallery","qtdLike","likes","actionButtons","index","confirm","deletePhoto","buttonDelete","src","actionSheet","titleText","cancelText","buttonClicked","like","$on","photogramPhotoGrid","photogramPhotoGridCtrl","feedGrid","photogramPhotoCapture","$cordovaGeolocation","photogramPhotoCaptureLink","getComments","photogramId","openModalCapture","active","scrollwheel","getLocation","posOptions","timeout","enableHighAccuracy","getCurrentPosition","here","icon","err","getGeo","submitCapture","canvas","document","getElementById","toDataURL","transclude","PhotogramLoadingDirective","photogramLike","likePhotogram","_model","photogramLikeModal","animation","heartDirective","heartLink","photogramFollow","modalFollow","getFollow","photogramPhotoFeedbackDirective","PhotogramFeedbackForm","submitFeedback","templateOptions","instant","required","label","valueProp","labelProp","iconPlaceholder","$new","facebookLoginDirective","$cordovaFacebook","$facebook","facebookLoginLink","getLoginStatus","api","photogramCommentDirective","PhotogramForm","nocomments","galleryId","openModalComment","deleteComment","editComment","updateComment","buyDirective","buyLink","ThemeableBrowser","statusbar","color","height","showPageTitle","closeButton","imagePressed","align","event","backButtonCanClose","UserFormFactory","UserFactory","$ionicHistory","$cordovaDevice","$location","loadProfile","_url","logIn","success","loginFacebook2","response","dados","query","Boolean","loginFacebook","updateUser","newuser","facebook_complete","respStatus","deferStatus","undefined","JSON","stringify","facebookProfile","formData","signUp","code","requestPasswordReset","logOut","clearCache","cordovaDevice","device","getDevice","getCordova","getModel","platform","getPlatform","uuid","getUUID","version","getVersion","imageFile","File","base64","facebookFriends","facebookAPI","facebookInvite","showDialog","method","ui","notEqualTo","users","count","foloow","follow2","followUser","respFollow","qtdFollow","parseInt","userResp","destroy","addFollows","getMail","Date","getTime","FacebookUtils","access_token","expiration_date","mail","$cordovaSocialSharing","social","detail","shareViaInstagram","shareViaFacebook","shareViaTwitter","shareViaWhatsApp","shareViaEmail","subject","PhotogramSettingFactory","Cache","SettingKeys","settings","CacheSetting","put","mode","keys","PhotogramFormFactory","focus","toggleClass","formShare","PhotogramFactory","_params","ImageObject","imageObject","caption","GeoPoint","descending","objs","commentBy","ascending","created","userAvatar","comment","deleteItem","getLikes","point","maxDistance","near","withinRadians","size","width","scaledSize","_latitude","_longitude","string","matches","_query","_limit","_result","totalGallery","qtd","cb","_","after","each","_likes","_comments","limitComment","commentsData","isLiked","addLike","newGallery","removeLike","qtdGalleries","configTranslate","constant","Video","createFileEntry","fileURI","resolveLocalFileSystemURL","entry","copyFile","fail","fileEntry","fullPath","substr","lastIndexOf","newName","makeid","file","dataDirectory","fileSystem2","copyTo","succ","onCopySuccess","nativeURL","slice","PKVideoThumbnail","createThumbnail","prevSucc","prevImageSuccess","correctUrl","deferred","possible","charAt","Math","floor","random","saveVideo","localURL","$jrCrop","$cordovaCamera","$cordovaCapture","capture","cropModal","filterModal","buttonCancel","jrCrop","setting","aspectRatio","destinationType","Camera","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","popoverOptions","CameraPopoverOptions","chooseText","shareModal","shareSocial","socials","sociais","fromTemplate","openFilter","closeFilter","modalFilter","submitFilter","dataUrl","templateFilter","tempImage","cropImage","getPicture","sourceType","PictureSourceType","CAMERA","PHOTOLIBRARY","fileInput","click","on","evt","currentTarget","files","reader","FileReader","onload","result","readAsDataURL","getVideo","captureVideo","duration","mediaFiles","PhotoFilter","done","closeModalCapture","closeCapture","CamanJsFactory","effect","Caman","revert","render","resetEffect","filters","reset","photoFilter","CamanJs","applyFilter","photoFilterCarousel","apply","photoShareDirective","photoShareLink","ionCrop","ionCropLink","getElem","fileUpload","val","cropSave","camanDirective","camanDirectiveLink","LoadingController","intro","localStorage","IntroCtrl","$ionicSlideBoxDelegate","slideChanged","slideIndex","currentPlatform","ionic","Platform","next","previous","slides","top","parse","transform","paginate","pageNumber","pageSize","sort","order","field","ParseImageServiceFactory","_all","_delete","_objectId","_data","_get","_save","thumbBase64","imageSettings","savedData","getItem","dimensions","saveToAlbum","saveImageSettings","_settings","setItem","delete","ParseFileFactory","upload","object","filename","lat","lng","cacheConfig","CacheFactoryProvider","defaults","maxAge","CacheFactory","createCache","deleteOnExpire","recycleFreq","storageMode","modelName","cache","ionLocation","ionLocationLink","suggestions","selectPlace","place_id","getDetails","address","parseAddress","number","street","district","city","country","zipcode","resume","closeModalLocation","choosePlace","place","modalLocation","searchAddress","$http","pos","getGoogleAddress","logErr","address_normal","formatted_address","address_components","imagem","numero","short_name","rua","long_name","bairro","cidade","estado","uf","pais","paisCode","cep","w","h","geometry","H","L","addressType","types","componentForm","componentFormName","autocompleteService","getQueryPredictions","placeId","detailsService","google","maps","places","AutocompleteService","PlacesService","createElement","street_number","route","locality","sublocality","neighborhood","political","administrative_area_level_1","postal_code","runLoading","$ionicLoading","run","ionLoading","showLoading","hideLoading","seconds","configLanguage","$translateProvider","tmhDynamicLocaleProvider","useLoader","urlTemplate","useSanitizeValueStrategy","useMissingTranslationHandlerLog","useLocalStorage","localeLocationPattern","langvar","navigator","userlanguage","userlangvar","split","preferredLocale","searchLang","some","preferredLanguage","ionLanguageDirective","modalLanguageLink","searchValue","selectLanguage","$cacheSrc","default_config","t","$get","bgcolor","semi","rounded","clockwise","radius","stroke","max","iterations","interval","showProgressCircleInBrowser","showProgressCircleInDevice","provider","cacheSrcStorage","$localStorage","c","_cache","cache_src","getCacheDir","localUrl","cacheSrc","$ionicPlatform","$interval","$compile","$cordovaFileTransfer","onProgress","onFinish","onError","makeProgressCircle","startsWith","arr","sub_str","indexOf","needDownload","attrToScope","textAlign","isIOS","isAndroid","progress_circle","display","finish","css","addSrc","srcIs","$observe","ready","ext","pop","fileName","download","loaded","documentsDirectory","pt_br","defineLocale","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","longDateFormat","LT","LTS","LL","LLL","LLLL","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","day","sameElse","relativeTime","future","past","s","m","mm","hh","d","dd","M","MM","y","yy","ordinalParse","ordinal","$provide","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","pluralCat","n","opt_precision","o","g","r","a","q","arguments","l","getElementsByTagName","async","parentNode","insertBefore","ga","cookieDomain","appId","server","translation","configCompile","$compileProvider","debugInfoEnabled","startParse","initialize","serverURL","runIonic","$cordovaStatusbar","$cordovaSplashscreen","overlaysWebView","style","styleHex","configIonic","$ionicConfigProvider","backButton","android","tabs","maxCache","configFacebook","$facebookProvider","setAppId","setPermissions","runFacebook","LangVar","userLanguage","userLangVar","substring","toUpperCase","js","fjs","tabProfile","openTermsDirective","$templateCache"],"mappings":"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","file":"scripts/app-46cc08e71d.js","sourcesContent":["(function () {\n    'use strict';\n    angular\n        .module('app.user', [\n            'ionic'\n        ])\n        .config(configRoutes);\n\n    var path = 'app/module/user';\n\n        function configRoutes($stateProvider, $urlRouterProvider, $translatePartialLoaderProvider) {\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n\n            .state('user', {\n                url: '/user',\n                abstract: true,\n                templateUrl: path + '/module/layout/user-layout.html'\n            })\n\n            .state('user.intro', {\n                url: '/intro',\n                templateUrl: path + '/module/intro/user-intro.html',\n                controller: 'UserIntroCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.register', {\n                url: '/register',\n                templateUrl: path + '/module/register/user-register.html',\n                controller: 'UserRegisterCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.login', {\n                url: '/login',\n                templateUrl: path + '/module/login/user-login.html',\n                controller: 'UserLoginCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('user.merge', {\n                url: '/merge',\n                controller: 'UserMergeCtrl',\n                controllerAs: 'vm',\n                templateUrl: path + '/module/merge/merge.html'\n            })\n\n            .state('logout', {\n                url: '/logout',\n                template: '<ion-view view-title=\"Logout\" cache-view=\"false\"><ion-content></ion-content></ion-view>',\n                controller: 'UserLogoutCtrl',\n                controllerAs: 'vm'\n            })\n\n\n        ;\n\n        $urlRouterProvider.otherwise('/');\n\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserRegisterCtrl', UserRegisterCtrl);\n\n  function UserRegisterCtrl($state, UserForm, Notify, Loading, Photogram, User) {\n    var vm = this;\n    vm.formFields = UserForm.register;\n    vm.submitRegister = submitRegister;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n    }\n\n    function submitRegister(rForm, data) {\n\n      if (rForm.$valid) {\n        Loading.start();\n        var form = angular.copy(data);\n        User\n          .register(form)\n          .then(function (resp) {\n            void 0;\n            Photogram\n              .addActivity({\n                action: 'registered'\n              });\n\n            User\n              .login({\n                email: form.email,\n                password: form.password\n              })\n              .then(function (data) {\n                void 0;\n                User.init();\n                Loading.end();\n                $state.go('useravatar', {\n                  clear: true\n                });\n              })\n              .catch(function (resp) {\n                void 0;\n                Loading.end();\n                Notify.alert({\n                  title: 'Ops',\n                  text: resp.message\n                });\n              });\n          })\n          .catch(function (resp) {\n            void 0;\n            Loading.end();\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n          });\n      }\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserRecoveryPassCtrl', UserRecoveryPassController);\n\n  function UserRecoveryPassController(User, Notify) {\n    var vm = this;\n    vm.form = {};\n    vm.submitForgot = submitForgot;\n\n    function submitForgot() {\n      User\n        .forgot(vm.form)\n        .then(function (resp) {\n          void 0;\n        })\n        .catch(function (resp) {\n          Notify.alert('Ops', resp);\n        });\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .directive('recoveryPass', recoveryPassDirective);\n\n  function recoveryPassDirective(User, $ionicPopup, Loading, Notify) {\n    return {\n      restrict: 'A',\n      scope: {\n        login: '@',\n        register: '@',\n      },\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          $scope.form = {\n            recovery: ''\n          };\n\n          $scope.erro = '';\n\n          $scope.text = {\n            button: (''),\n            input: ('Email')\n          };\n\n          $ionicPopup\n            .show({\n              scope: $scope,\n              template: '<div class=\"popup-recovery\"><form name=\"form.recovery\" form-manager><label class=\"item item-input\"><i class=\"icon ion-email placeholder-icon\"></i><input type=\"email\" ng-model=\"email\" id=\"email\" name=\"email\" placeholder=\"{{ text.input }}\" required ng-maxlength=\"80\"></label><span class=\"error-msg\">{{erro}}</span></form></div>',\n              title: ('A new password will be sent to your e-mail address'),\n              buttons: [{\n                text: ('Cancel'),\n                type: 'button-calm'\n              }, {\n                text: ('Send'),\n                type: 'button-positive',\n                onTap: function (e) {\n                  if ($scope.form.recovery.$valid) {\n                    return $scope.form.recovery.email.$viewValue;\n                  } else {\n                    e.preventDefault();\n                    $scope.erro = ('Invalid Email');\n                  }\n                }\n              }]\n            })\n            .then(function (res) {\n              if (!angular.isUndefined(res)) {\n                var email = res;\n\n                void 0;\n\n                Loading.start();\n\n                User\n                  .forgot(email)\n                  .then(function (resp) {\n                    void 0;\n                    Notify.alert({\n                      login: ('Forgot your password'),\n                      text: ('Access your accout mail')\n                    });\n                    Loading.end();\n                  })\n                  .catch(function (resp) {\n                    Notify.alert({\n                      login: 'Ops',\n                      text: resp\n                    });\n                    Loading.end();\n                  });\n              }\n            });\n\n        }\n      }\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.user')\n        .controller('UserMergeCtrl', UserMergeController);\n\n    function UserMergeController(User, $rootScope, AppConfig, $state, Notify, UserForm) {\n        var vm        = this;\n        vm.formFields = UserForm.register;\n\n        init();\n\n        function init() {\n            if ($rootScope.tempUser) {\n                vm.form          = $rootScope.tempUser;\n                vm.form.password = '';\n            } else {\n                $state.go('user.intro', {clear: true});\n            }\n\n        }\n\n        vm.submit = function (rForm, form) {\n\n            void 0;\n            void 0;\n            if (vm.form.password != '') {\n                var dataForm = angular.copy(vm.form);\n                var form     = {\n                    email: dataForm.email,\n                    password: dataForm.password\n                };\n\n                void 0;\n\n                User\n                    .login(form)\n                    .then(function (user) {\n                        void 0;\n                        User\n                            .facebookLink(user)\n                            .then(function (resp) {\n                                void 0;\n                                $state.go(AppConfig.routes.home, {\n                                    clear: true\n                                })\n                            })\n                    })\n                    .catch(function (resp) {\n                        Notify.alert({\n                            title: 'Ops',\n                            text: resp.message\n                        });\n                    });\n            } else {\n                Notify.alert({\n                    title: ('Invalid form'),\n                    text: ('Please enter your email')\n                });\n            }\n\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserLogoutCtrl', LogoutController);\n\n  function LogoutController(User) {\n    User.logout();\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserLoginCtrl', UserLoginCtrl);\n\n  function UserLoginCtrl(AppConfig, UserForm, Parse, Loading, $state, Notify, User) {\n    var vm = this;\n    vm.formFields = UserForm.login;\n    vm.routeLogged = AppConfig.routes.home;\n    vm.submitLogin = submitLogin;\n    vm.facebook = facebook;\n\n    init();\n\n    function init() {\n      vm.form = {\n        email: '',\n        password: ''\n      };\n\n      if (Parse.User.current()) {\n        $state.go(vm.routeLogged, {\n          clear: true\n        });\n      }\n\n    }\n\n    function submitLogin(rForm, data) {\n\n      var form = angular.copy(data);\n      if (rForm.$valid) {\n        Loading.start();\n        User\n          .login(form)\n          .then(function (data) {\n\n            void 0;\n\n            if (data.name.length) {\n              $state.go(vm.routeLogged, {\n                clear: true\n              });\n            } else {\n              $state.go('useravatar', {\n                clear: true\n              });\n            }\n            Loading.end();\n          })\n          .catch(function (resp) {\n            Notify.alert({\n              title: 'Ops',\n              text: resp.message\n            });\n            Loading.end();\n          });\n      } else {\n        return false;\n      }\n    }\n\n    function facebook() {\n      Loading.start();\n      User\n        .facebookLogin()\n        .then(function (resp) {\n          void 0;\n\n          Loading.end();\n          switch (resp.status) {\n          case 0:\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n            break;\n          case 1:\n            $state.go('useravatar', {\n              clear: true\n            });\n            break;\n          case 2:\n            $state.go('usermerge', {\n              clear: true\n            });\n            break;\n          }\n        })\n        .catch(function () {\n          Loading.end();\n          Notify.alert({\n            title: 'Ops',\n            text: ('Facebook error')\n          });\n        });\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro', [])\n        .config(configRoutes);\n\n    var path = 'app/module/intro';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n            .state('intro', {\n                url: '/intro',\n                templateUrl: path + '/intro.html',\n                controller: 'IntroCtrl',\n                controllerAs: 'vm'\n            });\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro')\n        .controller('UserIntroCtrl', UserIntroCtrl);\n\n    function UserIntroCtrl(AppConfig) {\n        var vm       = this;\n    }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.user')\n    .directive('userAvatar', userAvatarDirective);\n\n  function userAvatarDirective(PhotoService, PhotogramSetting, User) {\n    return {\n      restrict: 'A',\n      scope: {\n        gallery: '@'\n      },\n      template: '',\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          var option = {\n            allowEdit: PhotogramSetting.get('imageEdit'),\n            filter: PhotogramSetting.get('imageFilter'),\n            allowRotation: PhotogramSetting.get('imageRotation'),\n            quality: PhotogramSetting.get('imageQuality'),\n            correctOrientation: PhotogramSetting.get('imageEdit'),\n            targetWidth: PhotogramSetting.get('imageWidth'),\n            targetHeight: PhotogramSetting.get('imageHeight'),\n            saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n          };\n\n          void 0;\n\n          PhotoService\n            .open(option)\n            .then(function (imageData) {\n              User\n                .updateAvatar(imageData)\n                .then(function (resp) {\n                  void 0;\n                });\n            })\n            .catch(function (resp) {\n              void 0;\n            });\n        }\n\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .controller('UserAvatarCtrl', UserAvatarController);\n\n  function UserAvatarController(User, AppConfig, $state, Notify, UserForm) {\n    var vm = this;\n    vm.submitAvatar = submitAvatar;\n    init();\n\n    function init() {\n      var user = User.currentUser();\n      vm.form = {\n        name: user.name,\n        email: user.email,\n        status: user.status,\n        gender: user.gender,\n        img: user.img,\n        username: user.username\n      };\n      vm.formFields = UserForm.profile;\n      void 0;\n    }\n\n    function submitAvatar() {\n      void 0;\n\n      if (vm.rForm.$valid) {\n        var dataForm = angular.copy(vm.form);\n        void 0;\n\n        User\n          .update(dataForm)\n          .then(function (resp) {\n            void 0;\n            User.init();\n            $state.go(AppConfig.routes.home, {\n              clear: true\n            });\n          });\n      } else {\n        Notify.alert({\n          title: ('Invalid form'),\n          text: ('Fill out the fields in red')\n        });\n      }\n\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram', [\n            'ionic',\n            'ngCordova',\n            'app.account',\n            'app.activity',\n            'app.direct',\n            'app.direct-message',\n            'app.share',\n            'app.home',\n            'app.search'\n        ])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart(path);\n\n        $stateProvider\n            .state('photogram', {\n                url: '/photogram',\n                abstract: true,\n                controller: 'PhotogramTabsCtrl',\n                controllerAs: 'vm',\n                templateUrl: path + '/module/tabs/photogram-tabs.html'\n            });\n\n\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramTabsCtrl', PhotogramTabsController);\n\n  function PhotogramTabsController($scope, $state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n    PhotogramSetting, PhotoService) {\n    var vm = this;\n    var path = AppConfig.path;\n    vm.postPhoto = open;\n\n    function open() {\n      var option = {\n        crop: PhotogramSetting.get('imageCrop'),\n        allowEdit: PhotogramSetting.get('imageEdit'),\n        filter: true,\n        allowRotation: PhotogramSetting.get('imageRotation'),\n        quality: PhotogramSetting.get('imageQuality'),\n        correctOrientation: PhotogramSetting.get('imageEdit'),\n        targetWidth: PhotogramSetting.get('imageWidth'),\n        targetHeight: PhotogramSetting.get('imageHeight'),\n        saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n      };\n      void 0;\n\n      PhotoService\n        .open(option)\n        .then(modalPost)\n        .catch(goHome);\n    }\n\n\n    function goHome() {\n      void 0;\n      $state.go('photogram.home');\n    }\n\n    function modalPost(image) {\n      $scope.closePost = closeModalPost;\n      $scope.submitPost = submitPost;\n      $scope.form = {\n        title: '',\n        location: '',\n        photo: image,\n        geo: false\n      };\n\n      $ionicModal\n        .fromTemplateUrl(path + '/module/share/photogram.post.modal.html', {\n          scope: $scope,\n          focusFirstInput: true\n        })\n        .then(function (modal) {\n          $scope.form.photo = image;\n          $scope.modalPost = modal;\n          $scope.modalPost.show();\n        });\n\n      function closeModalPost() {\n        $scope.modalPost.hide();\n        $scope.modalPost.remove();\n        Loading.end();\n      }\n\n      function submitPost(resp) {\n        var form = angular.copy(resp);\n        Loading.start();\n        Photogram\n          .post(form)\n          .then(function () {\n            closeModalPost();\n            $rootScope.$emit('filterModal:close');\n            $rootScope.$emit('PhotogramHome:reload');\n          });\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramShare', PhotogramShareFactory);\n\n    function PhotogramShareFactory($window, $translate, AppConfig) {\n        return {\n            share: share\n        };\n\n        function share(post) {\n            void 0;\n            var message = (\"I'm at \") + AppConfig.app.name + '! ' + (\n                    'Install the application and follow me!') + ' ' + AppConfig.app.url;\n            if ($window.cordova) {\n                $window\n                    .window\n                    .plugins\n                    .socialsharing\n                    .share(post.text + ', ' + message, post.text, post.image, null);\n            } else {\n                void 0;\n            }\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.search', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/search';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('photogram.search', {\n                url: '/search',\n                views: {\n                    tabSearch: {\n                        controller: 'PhotogramSearchCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/search.html'\n                    }\n                }\n            })\n            .state('photogram.search.map', {\n                url: '/map',\n                templateUrl: 'app/module/photogram/module/search-map/search-map.html',\n                controller: 'SearchMapCtrl',\n                controllerAs: 'vm'\n            })\n            .state('photogram.search.list', {\n                url: '/list',\n                templateUrl: 'app/module/photogram/module/search-list/search-list.html',\n                controller: 'SearchListCtrl',\n                controllerAs: 'vm'\n            })\n        ;\n\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.search')\n        .controller('SearchMapCtrl', SearchMapController);\n\n    function SearchMapController(Photogram, $scope, $timeout, GeoService) {\n        var vm   = this;\n        var time = 0;\n        vm.findMe = findMe;\n\n\n        $scope.map = {\n            center: {\n                latitude: 45,\n                longitude: -73\n            },\n            zoom: 13\n        };\n\n        $scope.$watch('map.center.latitude', watchMap);\n\n        function watchMap(newValue, oldValue) {\n            void 0;\n            if (newValue) {\n                void 0;\n                time += 2000;\n                void 0;\n\n\n                var timer = $timeout(function () {\n                    void 0;\n\n                    Photogram\n                        .nearby($scope.map.center)\n                        .then(function (resp) {\n                            void 0;\n                            time    = 0;\n                            vm.data = resp;\n\n                            $timeout.cancel(timer);\n                        });\n                }, time);\n\n            }\n        }\n\n\n        function location() {\n            init();\n        }\n\n        function findMe() {\n            void 0;\n            GeoService\n                .findMe()\n                .then(function (position) {\n\n                    void 0;\n\n                    $scope.map = {\n                        center: position.geolocation,\n                        zoom: 13\n                    };\n                    vm.user = angular.copy(position.geolocation);\n                });\n        }\n\n        function init() {\n            GeoService\n                .findMe()\n                .then(function (position) {\n\n                    void 0;\n\n                    $scope.map = {\n                        center: position.geolocation,\n                        zoom: 13\n                    };\n\n                    vm.user = angular.copy(position.geolocation);\n\n                    Photogram\n                        .nearby(position.coords)\n                        .then(function (resp) {\n                            void 0;\n                            vm.data = resp;\n                        });\n\n                }, function (error) {\n                    void 0;\n\n                    Photogram\n                        .nearby($scope.map.center)\n                        .then(function (resp) {\n                            void 0;\n                            vm.data = resp;\n                        });\n                });\n        }\n\n        init();\n\n    }\n\n})();\n(function(){\n    'use strict';\n    angular\n    .module('app.search')\n        .controller('SearchListCtrl', SearchListController);\n\n        function SearchListController(){\n        var vm = this;\n\n            }\n\n    })();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramSearchCtrl', PhotogramSearchCtrl);\n\n    function PhotogramSearchCtrl($state) {\n        var vm       = this;\n        vm.changeTab = changeTab;\n\n        vm.tab = {\n            list: true,\n            map: false\n        };\n\n\n                function changeTab(tab) {\n            if (tab === 'list') {\n                vm.tab = {\n                    list: true,\n                    map: false\n                };\n                $state.go('photogram.search.list');\n            } else {\n                vm.tab = {\n                    list: false,\n                    map: true\n                };\n                $state.go('photogram.search.map');\n            }\n        }\n\n\n           }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramViewCtrl', PhotogramViewCtrl);\n\n  function PhotogramViewCtrl(Photogram, $stateParams) {\n    var vm = this;\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        void 0;\n        vm.data = resp;\n      });\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPreviewCtrl', PhotogramPreviewCtrl);\n\n\n  function PhotogramPreviewCtrl(photo) {\n    var vm = this;\n    vm.data = photo;\n    void 0;\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .controller('PhotogramPhotoCtrl', PhotogramPhotoCtrl);\n\n\n  function PhotogramPhotoCtrl($stateParams, Photogram) {\n    var vm = this;\n\n    vm.formFields = Photogram.formComment;\n    vm.submitComment = submitComment;\n    init();\n\n    Photogram\n      .get($stateParams.id)\n      .then(function (resp) {\n        vm.data = resp;\n      });\n\n    function init() {\n      vm.form = {\n        PhotogramId: $stateParams.id,\n        text: ''\n      };\n\n      loadComments();\n    }\n\n    function loadComments() {\n      Photogram\n        .allComment($stateParams.id)\n        .then(function (resp) {\n          void 0;\n          vm.comments = resp;\n        });\n    }\n\n    function submitComment(rForm, form) {\n      if (rForm.$valid) {\n        var dataForm = angular.copy(form);\n        Photogram\n          .addComment(dataForm)\n          .then(function (resp) {\n            void 0;\n            loadComments();\n          });\n      }\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramHomeCtrl', PhotogramHomeController);\n\n    function PhotogramHomeController($scope, $rootScope, $stateParams, Photogram) {\n        var vm     = this;\n\n\n\n           }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n      .module('app.direct-message', [])\n      .config(configRoutes);\n\n  var path = 'app/module/photogram/module/direct-message';\n\n  function configRoutes($stateProvider) {\n\n\n    $stateProvider\n        .state('photogram.message', {\n          url: '/message/:channelId',\n          views: {\n            tabHome: {\n              controller: 'DirectMessageCtrl',\n              controllerAs: 'vm',\n              templateUrl: path + '/direct-message.html'\n            }\n          }\n        });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('app.direct-message')\n    .controller('DirectMessageCtrl', DirectMessageCtrl);\n\n\n  function DirectMessageCtrl($scope, Direct, User, $state) {\n    var vm = this;\n    var roomId = $state.params.channelId;\n    vm.user = User.currentUser();\n    vm.sendMessage = sendMessage;\n    vm.doRefresh = loadMessages;\n\n    function loadMessages() {\n      vm.loading = true;\n      vm.data = [];\n      Direct\n        .messages(roomId)\n        .then(function (resp) {\n          vm.data = resp;\n          vm.loading = false;\n          if (vm.model) {\n            vm.model.text = '';\n          }\n          $scope.$broadcast('scroll.refreshComplete');\n        });\n    }\n\n    loadMessages();\n\n\n    function sendMessage(form, model) {\n      var data = angular.copy(model);\n      void 0;\n      if (form.$valid && data.text) {\n        var message = {\n          body: data.text\n        };\n        Direct\n          .sendMessage(message, roomId)\n          .then(function () {\n            loadMessages();\n          });\n      }\n\n\n    }\n\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('app.photogram')\n    .controller('DirectHomeCtrl', DirectHomeCtrl);\n\n  function DirectHomeCtrl(Direct) {\n    var vm = this;\n    vm.data = [];\n\n    Direct\n      .chats()\n      .then(function (resp) {\n        void 0;\n        vm.data = resp;\n      })\n  }\n})();\n(function () {\n  'use strict';\n\n  var _direct = 'DirectMessages';\n  var _channel = 'Direct';\n\n  angular\n    .module('app.photogram')\n\n  .filter('nl2br', ['$filter',\n    function ($filter) {\n      return function (data) {\n        if (!data) return data;\n        return data.replace(/\\n\\r?/g, '<br />');\n      };\n    }\n  ])\n\n  .directive('autolinker', ['$timeout',\n      function ($timeout) {\n        return {\n          restrict: 'A',\n          link: function (scope, element, attrs) {\n            $timeout(function () {\n              var eleHtml = element.html();\n\n              if (eleHtml === '') {\n                return false;\n              }\n\n              var text = Autolinker.link(eleHtml, {\n                className: 'autolinker',\n                newWindow: false\n              });\n\n              element.html(text);\n\n              var autolinks = element[0].getElementsByClassName('autolinker');\n\n              for (var i = 0; i < autolinks.length; i++) {\n                angular.element(autolinks[i]).bind('click', function (e) {\n                  var href = e.target.href;\n                  void 0;\n\n                  if (href) {\n                    window.open(href, '_blank');\n                  }\n\n                  e.preventDefault();\n                  return false;\n                });\n              }\n            }, 0);\n          }\n        }\n      }\n    ])\n    .factory('Direct', Direct);\n\n  function Direct($q, Parse) {\n    return {\n      from: from,\n      to: to,\n      chats: chats,\n      messages: messages,\n      sendMessage: sendMessage\n    };\n\n    function getDirect(directId) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .include('from')\n        .equalTo('objectId', directId)\n        .first()\n        .then(defer.resolve);\n\n      return defer.promise;\n    }\n\n    function addMessage(data) {\n      var defer = $q.defer();\n      var DirectMessages = Parse.Object.extend('DirectMessages');\n      var message = new DirectMessages();\n      angular.forEach(data, function (value, key) {\n        message.set(key, value);\n      });\n      message.save(null, defer.resolve, defer.reject);\n\n      return defer.promise;\n    }\n\n    function sendMessage(message, roomId) {\n      var defer = $q.defer();\n\n      getDirect(roomId)\n        .then(function (direct) {\n          void 0;\n          message.room = direct;\n          message.user = Parse.User.current();\n          addMessage(message)\n            .then(function (message) {\n              direct.relation('messages').add(message);\n              direct.save()\n                .then(defer.resolve);\n            })\n        })\n      defer.resolve(message);\n      return defer.promise;\n\n    }\n\n    function messages(channelId, page) {\n      var defer = $q.defer();\n\n      getDirect(channelId)\n        .then(function (direct) {\n          var data = direct.attributes;\n          var user = Parse.User.current();\n          data.user = direct.attributes.from.attributes;\n          data.messages = [];\n\n          new Parse\n            .Query('DirectMessages')\n            .equalTo('room', direct)\n            .include('user')\n            .limit(20)\n            .skip(page)\n            .find()\n            .then(function (resp) {\n              resp.map(function (item) {\n                var obj = {\n                  body: item.attributes.body,\n                  date: item.createdAt,\n                  user: item.attributes.user.attributes\n                };\n                obj.user.id = item.attributes.user.id;\n                void 0;\n\n                data.messages.push(obj);\n              });\n              defer.resolve(data);\n            });\n        })\n\n      return defer.promise;\n    }\n\n    function chats() {\n      var defer = $q.defer();\n\n      var promises = [chatsType(null, 'from'), chatsType(null, 'to')];\n      $q.all(promises)\n        .then(function (resp) {\n          var data = [];\n          void 0;\n          resp[0].map(function (item) {\n            data.push(item);\n          });\n          resp[1].map(function (item) {\n            data.push(item);\n          });\n          defer.resolve(data);\n        })\n\n      return defer.promise;\n    }\n\n    function chatsType(user, type) {\n      var defer = $q.defer();\n      new Parse\n        .Query('Direct')\n        .equalTo(type, user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = item.attributes;\n            obj.user = item.attributes.from.attributes\n            obj.id = item.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function from(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('from', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n\n    function to(user) {\n      var defer = $q.defer();\n      new Parse\n        .Query(_direct)\n        .equalTo('to', user || Parse.User.current())\n        .include('from')\n        .find()\n        .then(function (resp) {\n          var data = [];\n          resp.map(function (item) {\n            var obj = {\n              msg: item.attributes.body,\n              user: item.attributes.from.attributes\n            };\n\n            obj.user.id = item.attributes.from.id;\n\n            data.push(obj);\n          });\n          defer.resolve(data);\n        });\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.activity', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/activity';\n\n    function configRoutes($stateProvider, $translatePartialLoaderProvider) {\n\n\n        $stateProvider\n            .state('photogram.activity', {\n                url: '/activity',\n                views: {\n                    tabActivity: {\n                        controller: 'PhotogramActivityCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/activity.html'\n                    }\n                }\n            })\n\n        ;\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.activity')\n    .controller('PhotogramActivityCtrl', PhotogramActivityCtrl);\n\n  function PhotogramActivityCtrl($scope, Photogram, PhotogramShare) {\n    var vm = this;\n    vm.loading = true;\n\n    $scope.loadMore = loadMore;\n    vm.openShare = PhotogramShare.open;\n    vm.load = load;\n    init();\n    vm.load();\n\n    function init() {\n      vm.page = 0;\n      vm.data = [];\n      vm.empty = false;\n      vm.loadMore = false;\n    }\n\n    function loadMore(force) {\n      void 0;\n      vm.load(force);\n    }\n\n    function load(force) {\n\n      if (force) {\n        init();\n      }\n\n      Photogram\n        .listActivity(vm.page)\n        .then(function (resp) {\n\n          resp.map(function (value) {\n            vm.data.push(value);\n          });\n\n          if (resp.length) {\n            vm.loading = false;\n            vm.more = true;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n            vm.more = false;\n          }\n        })\n        .then(function () {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n\n        })\n        .catch(function (status) {\n          $scope.$broadcast('scroll.refreshComplete');\n          $scope.$broadcast('scroll.infiniteScrollComplete');\n          if (!status) {\n            vm.loading = false;\n            vm.page++;\n          } else {\n            vm.empty = true;\n            vm.loading = false;\n          }\n          vm.more = false;\n        });\n    }\n\n\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .controller('PhotogramAccountCtrl', PhotogramAccountCtrl);\n\n    function PhotogramAccountCtrl(Parse, Photogram, User) {\n        var vm       = this;\n        vm.changeTab = changeTab;\n        vm.user      = Parse.User.current();\n\n                init();\n        changeTab('grid');\n\n        function changeTab(tab) {\n            if (tab === 'list') {\n                vm.tab = {\n                    list: true,\n                    grid: false\n                };\n            } else {\n                vm.tab = {\n                    list: false,\n                    grid: true\n                };\n            }\n        }\n\n        function init() {\n            vm.data  = {\n                total: false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n            getFollower();\n        }\n\n        function getFollower() {\n            vm.loadingFollowers = true;\n            vm.loadingFollowing = true;\n            vm.loadingPhotos    = true;\n\n            Photogram\n                .getUserGalleryQtd()\n                .then(function (qtdPhotos) {\n                    void 0;\n                    vm.user.qtdPhotos = qtdPhotos;\n                    vm.loadingPhotos  = false;\n                });\n\n            User\n                .getFollowers()\n                .then(function (qtdFollowers) {\n                    void 0;\n                    vm.user.qtdFollowers = qtdFollowers;\n                    vm.loadingFollowers  = false;\n                });\n\n            User\n                .getFollowing()\n                .then(function (qtdFollowing) {\n                    void 0;\n                    vm.user.qtdFollowing = qtdFollowing;\n                    vm.loadingFollowing  = false;\n                });\n        }\n\n\n\n            }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('settingsModal', settingsModal);\n\n  function settingsModal($ionicModal, $translate, AppConfig, $cordovaInAppBrowser, $rootScope, PhotogramShare,\n    User,\n    UserForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n        scope.link = link;\n        scope.openLink = openLink;\n        scope.changeLanguage = changeLanguage;\n        scope.share = PhotogramShare.share;\n\n        function init() {\n          scope.form = User.currentUser();\n          scope.formFields = UserForm.profile;\n          scope.languages = AppConfig.locales;\n          scope.language = $translate.use();\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directive/settings-modal/settings-modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function link(sref) {\n          $state.go(sref);\n          scope.closeModal();\n        }\n\n        function openLink(url) {\n          var options = {\n            location: 'yes',\n            clearcache: 'yes',\n            toolbar: 'yes'\n          };\n\n          $cordovaInAppBrowser.open(url, '_blank', options);\n        }\n\n        function changeLanguage(language) {\n          $translate.use(language);\n          moment.locale(language);\n          scope.form.language = language;\n          submitUpdateProfile(scope.form);\n        }\n\n\n        function submitUpdateProfile(form) {\n          var dataForm = angular.copy(form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .directive('ionSearch', ionSearch);\n\n    function ionSearch($timeout) {\n\n        return {\n            restrict: 'E',\n            scope: {\n                getData: '&source',\n                ngModel: '=?',\n                search: '=?filter'\n            },\n            templateUrl: 'app/module/photogram/directive/search/search-directive.html',\n            link: function (scope, element, attrs) {\n                attrs.minLength   = attrs.minLength || 0;\n                scope.placeholder = attrs.placeholder || '';\n                scope.clear = function  () {\n                    void 0;\n                    scope.input = '';\n                    scope.$apply();\n                };\n\n                if (attrs.class) {\n                    element.addClass(attrs.class);\n                }\n\n                if (attrs.source) {\n                    scope.$watch('search.value', watchSearch);\n                }\n\n                function watchSearch(newValue) {\n                    if (newValue.length > attrs.minLength) {\n                        $timeout(function () {\n                            scope\n                                .getData({\n                                    str: newValue\n                                })\n                                .then(function (results) {\n                                    scope.ngModel = results;\n                                });\n                        }, 1000);\n                    } else {\n                        scope.ngModel = [];\n                    }\n                }\n\n            }\n\n        };\n    }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('profileModal', profileModalDirective);\n\n  function profileModalDirective($ionicModal, $rootScope, $q, Photogram, User) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: profileModalLink\n    };\n\n    function profileModalLink(scope, elem) {\n\n      elem.bind('click', openModal);\n\n      function init() {\n        var defer = $q.defer();\n        scope.loadingPhotogram = true;\n\n\n                scope.avatar = User.avatar(scope.user.attributes);\n\n        Photogram\n          .getUserGallery(scope.user.id)\n          .then(function (resp) {\n            scope.data = resp;\n            void 0;\n            scope.$broadcast('scroll.refreshComplete');\n            scope.$broadcast('scroll.infiniteScrollComplete');\n            scope.loadingPhotogram = false;\n            defer.resolve(scope.data);\n          });\n\n        return defer.promise;\n      }\n\n      function changeTab(tab) {\n        if (tab === 'list') {\n          scope.tab = {\n            list: true,\n            grid: false\n          };\n        } else {\n          scope.tab = {\n            list: false,\n            grid: true\n          };\n        }\n      }\n\n      function getFollower(userId) {\n        void 0;\n        scope.loadingFollowers = true;\n        scope.loadingFollowing = true;\n        scope.loadingPhotos = true;\n\n        Photogram\n            .getUserGalleryQtd(userId)\n            .then(function (qtdPhotos) {\n              void 0;\n              scope.user.qtdPhotos = qtdPhotos;\n              scope.loadingPhotos  = false;\n            });\n\n        User\n            .getFollowers(userId)\n            .then(function (qtdFollowers) {\n              void 0;\n              scope.user.qtdFollowers = qtdFollowers;\n              scope.loadingFollowers  = false;\n            });\n\n        User\n            .getFollowing(userId)\n            .then(function (qtdFollowing) {\n              void 0;\n              scope.user.qtdFollowing = qtdFollowing;\n              scope.loadingFollowing  = false;\n            });\n      }\n\n      function openModal() {\n\n\n                $ionicModal\n          .fromTemplateUrl('app/module/photogram/directive/profile-modal/profile-modal.html', {\n            scope: scope\n          })\n          .then(function (modal) {\n            scope.modalProfile = modal;\n            scope.loadingFollow = true;\n            scope.changeTab = changeTab;\n            scope.follow = follow;\n            scope.closeModal = closeModal;\n            scope.modalProfile.show();\n\n            init();\n            getFollower(scope.user.id);\n            changeTab('list');\n            isFollow();\n\n            function isFollow() {\n              User\n                .isFollow(scope.user.id)\n                .then(isFollowResp);\n            }\n\n            function isFollowResp(resp) {\n              void 0;\n              scope.user.follow = resp;\n              scope.loadingFollow = false;\n            }\n\n            function follow() {\n\n              scope.loadingFollow = true;\n              var status;\n\n              if (scope.user.follow) {\n                status = false;\n              } else {\n                status = true;\n              }\n\n              User\n                .follow(status, scope.user)\n                .then(followResp);\n\n              function followResp(resp) {\n\n                void 0;\n                scope.user.follow = status;\n                scope.loadingFollow = false;\n                getFollower(scope.user.id);\n              }\n            }\n\n            function closeModal() {\n              delete scope.data;\n              scope.modalProfile.hide();\n              scope.modalProfile.remove();\n            }\n          });\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('profileModalEdit', profileModalEditDirective);\n\n  function profileModalEditDirective($ionicModal, User, UserForm, $state) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem) {\n\n        scope.linkFacebook = linkFacebook;\n        scope.logout = logout;\n        scope.submitUpdateProfile = submitUpdateProfile;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n\n        function init() {\n          var user = Parse.User.current().attributes;\n          scope.form = {\n            name: user.name,\n            email: user.email,\n            status: user.status,\n            img: user.img,\n            username: user.username,\n            gender: user.gender,\n            facebook: user.facebook,\n            facebookimg: user.facebookimg\n          };\n            void 0;\n          scope.formFields = UserForm.profile;\n        }\n\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl('app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modal = modal;\n            scope.modal.show();\n          });\n        }\n\n        function logout() {\n          $state.go('logout');\n          scope.closeModal();\n        }\n\n        function linkFacebook() {\n          User\n            .facebookLink()\n            .then(function (resp) {\n              void 0;\n            });\n        }\n\n        function submitUpdateProfile() {\n          var dataForm = angular.copy(scope.form);\n          User\n            .update(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .directive('photogramPhotoList', photogramPhotoList);\n\n    function photogramPhotoList(AppConfig, Photogram, $ionicPopup, PhotogramShare, PhotogramFeedback, $ionicActionSheet) {\n        var path = AppConfig.path;\n\n        return {\n            restrict: 'E',\n            scope: {\n                user: '=',\n                profile: '='\n            },\n            templateUrl: path + '/directive/photolist/photo.list.html',\n            link: photogramPhotoListCtrl\n        };\n\n        function photogramPhotoListCtrl($scope, elem, attr) {\n\n            $scope.action  = action;\n            $scope.like    = likePhoto;\n            $scope.loading = true;\n            $scope.load    = feed;\n            $scope.load();\n            $scope.loadMore = loadMore;\n            $scope.gallery = {\n                src: ''\n            };\n\n            void 0;\n\n\n            init();\n\n            $scope.$on('PhotogramHome:reload', function () {\n                loadMore(true);\n            });\n\n            function init() {\n                $scope.data  = {\n                    total: -1,\n                    galleries: []\n                };\n                $scope.page  = 0;\n                $scope.empty = false;\n                $scope.more  = false;\n            }\n\n\n            function loadMore(force) {\n                void 0;\n                $scope.load(force);\n            }\n\n\n            function feed(force) {\n\n                if (force) {\n                    init();\n                }\n\n                Photogram\n                    .feed($scope.page, $scope.user)\n                    .then(function (resp) {\n\n                        void 0;\n                        resp.galleries.map(function (item) {\n                            item.progress     = false;\n                            $scope.data.total = resp.total;\n                            $scope.data.galleries.push(item);\n                        });\n\n\n                        if (resp.length) {\n                            $scope.more = true;\n                            $scope.page++;\n                        } else {\n                            $scope.empty = true;\n                            $scope.more  = false;\n                        }\n                    })\n                    .then(function () {\n                        $scope.loading = false;\n                        $scope.$broadcast('scroll.refreshComplete');\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\n\n                    })\n                    .catch(function () {\n                        $scope.$broadcast('scroll.refreshComplete');\n                        $scope.$broadcast('scroll.infiniteScrollComplete');\n                        if ($scope.data.length) {\n                            $scope.loading = false;\n                            $scope.page++;\n                        } else {\n                            $scope.empty   = true;\n                            $scope.loading = false;\n                        }\n                        $scope.more = false;\n                    });\n            }\n\n            function likePhoto(gallery) {\n                gallery.item.liked = !gallery.item.liked;\n                Photogram\n                    .likeGallery(gallery.id)\n                    .then(function (resp) {\n                        gallery.item.qtdLike = resp.likes;\n                    });\n            }\n\n            function action(gallery) {\n\n                var buttons = [{\n                    text: '<i class=\"icon ion-share\"></i>' + ('Share')\n                }, {\n                    text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n                }];\n\n                var user = Parse.User.current();\n\n                if (user.id === gallery.user.id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message     = {\n                    image: gallery.src,\n                    text: gallery.item.title\n                }\n                var actionSheet = {\n                    buttons: buttons,\n                    titleText: ('Photo'),\n                    cancelText: ('Cancel'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            PhotogramShare.share(message);\n                            break;\n                        case 1:\n                            PhotogramFeedback.modal(gallery);\n                            break;\n                        case 2:\n\n                            $ionicPopup\n                                .confirm({\n                                    title: ('Delete photo'),\n                                    template: ('Are you sure?')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Photogram\n                                            .deletePhoto(gallery.id)\n                                            .then(function () {\n                                                void 0;\n                                                $scope.$emit('PhotogramHome:reload');\n                                            });\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n\n                $ionicActionSheet.show(actionSheet);\n\n            }\n\n\n        }\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n      .module('app.photogram')\n      .directive('photogramPhotoGrid', photogramPhotoGrid);\n\n  function photogramPhotoGrid(AppConfig, Photogram, $ionicPopup, PhotogramShare, PhotogramFeedback, $ionicActionSheet) {\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'E',\n      scope: {\n        user: '=',\n        profile: '='\n      },\n      templateUrl: path + '/directive/photogrid/photo-grid.html',\n      link: photogramPhotoGridCtrl\n    };\n\n    function photogramPhotoGridCtrl($scope, elem, attr) {\n\n      $scope.action  = action;\n      $scope.like    = likePhoto;\n      $scope.loading = true;\n      $scope.load    = feed;\n      $scope.load();\n      $scope.loadMore = loadMore;\n      $scope.gallery = {\n        src: ''\n      };\n\n      init();\n\n      $scope.$on('PhotogramHome:reload', function () {\n        loadMore(true);\n      });\n\n      function init() {\n        $scope.data  = {\n          total: -1,\n          galleries: []\n        };\n        $scope.page  = 0;\n        $scope.empty = false;\n        $scope.more  = false;\n      }\n\n\n      function loadMore(force) {\n        void 0;\n        $scope.load(force);\n      }\n\n\n      function feed(force) {\n\n        if (force) {\n          init();\n        }\n\n        Photogram\n            .feedGrid($scope.page, $scope.user)\n            .then(function (resp) {\n\n              void 0;\n              resp.galleries.map(function (item) {\n                item.progress     = false;\n                $scope.data.total = resp.total;\n                $scope.data.galleries.push(item);\n              });\n\n\n              if (resp.length) {\n                $scope.more = true;\n                $scope.page++;\n              } else {\n                $scope.empty = true;\n                $scope.more  = false;\n              }\n            })\n            .then(function () {\n              $scope.loading = false;\n              $scope.$broadcast('scroll.refreshComplete');\n              $scope.$broadcast('scroll.infiniteScrollComplete');\n\n            })\n            .catch(function () {\n              $scope.$broadcast('scroll.refreshComplete');\n              $scope.$broadcast('scroll.infiniteScrollComplete');\n              if ($scope.data.length) {\n                $scope.loading = false;\n                $scope.page++;\n              } else {\n                $scope.empty   = true;\n                $scope.loading = false;\n              }\n              $scope.more = false;\n            });\n      }\n\n      function likePhoto(gallery) {\n        gallery.item.liked = !gallery.item.liked;\n        Photogram\n            .likeGallery(gallery.id)\n            .then(function (resp) {\n              gallery.item.qtdLike = resp.likes;\n            });\n      }\n\n      function action(gallery) {\n\n        var buttons = [{\n          text: '<i class=\"icon ion-share\"></i>' + ('Share')\n        }, {\n          text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n        }];\n\n        var user = Parse.User.current();\n\n        if (user.id === gallery.user.id) {\n          var buttonDelete = {\n            text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n          };\n          buttons.push(buttonDelete);\n        }\n        var message     = {\n          image: gallery.src,\n          text: gallery.item.title\n        }\n        var actionSheet = {\n          buttons: buttons,\n          titleText: ('Photo'),\n          cancelText: ('Cancel'),\n          buttonClicked: actionButtons\n        };\n\n\n        function actionButtons(index) {\n          switch (index) {\n            case 0:\n              PhotogramShare.share(message);\n              break;\n            case 1:\n              PhotogramFeedback.modal(gallery);\n              break;\n            case 2:\n\n              $ionicPopup\n                  .confirm({\n                    title: ('Delete photo'),\n                    template: ('Are you sure?')\n                  })\n                  .then(function (res) {\n                    if (res) {\n                      Photogram\n                          .deletePhoto(gallery.id)\n                          .then(function () {\n                            void 0;\n                            $scope.$emit('PhotogramHome:reload');\n                          });\n                    }\n                  });\n\n\n          }\n          return true;\n        }\n\n        $ionicActionSheet.show(actionSheet);\n      }\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoCapture', photogramPhotoCapture);\n\n  function photogramPhotoCapture($ionicModal, $cordovaGeolocation, AppConfig, Loading, $state, PhotoService,\n    Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      transclude: false,\n      link: photogramPhotoCaptureLink\n    };\n\n    function photogramPhotoCaptureLink(scope, elem, attr) {\n\n      scope.getGeo = getGeo;\n      scope.formFields = Photogram.form;\n      scope.open = open;\n      scope.submitCapture = submitCapture;\n      scope.closeModal = closeModal;\n      elem.bind('click', openModalCapture);\n\n      function init() {\n        scope.loading = true;\n        scope.comments = [];\n        Photogram\n          .getComments(scope.photogram)\n          .then(function (resp) {\n            scope.comments = resp;\n            scope.loading = false;\n          });\n\n        scope.form = {\n          photogramId: scope.photogram,\n          text: ''\n        };\n      }\n\n      function openModalCapture() {\n        void 0;\n\n\n        $ionicModal.fromTemplateUrl(path + '/view/photogram.capture.modal.html', {\n          scope: scope\n        }).then(function (modal) {\n          scope.modal = modal;\n          scope.modal.show();\n        });\n      }\n\n\n      function init() {\n        scope.active = false;\n        scope.form = {\n          title: '',\n          location: '',\n          photo: '',\n          geo: false\n        };\n\n        scope.map = {\n          center: {\n            latitude: -23.5333333,\n            longitude: -46.6166667\n          },\n          scrollwheel: false,\n          zoom: 15\n        };\n        scope.data = '';\n        scope.loading = false;\n\n      }\n\n      function getLocation() {\n        var posOptions = {\n          timeout: 10000,\n          enableHighAccuracy: false\n        };\n\n        if (scope.form.location === '') {\n\n          scope.loading = false;\n\n          $cordovaGeolocation\n            .getCurrentPosition(posOptions)\n            .then(function (position) {\n\n              scope.here = {\n                id: 1,\n                coords: {\n                  latitude: position.coords.latitude,\n                  longitude: position.coords.longitude,\n                },\n                icon: 'img/pin.png'\n              };\n\n              scope.form.location = {\n                latitude: position.coords.latitude,\n                longitude: position.coords.longitude,\n              };\n\n              scope.map.center = scope.here.coords;\n              scope.loading = false;\n\n              void 0;\n              void 0;\n              void 0;\n            }, function (err) {\n            });\n        }\n      };\n\n      function getGeo(resp) {\n        if (resp) getLocation();\n      }\n\n      function open() {\n        init();\n        PhotoService\n          .open()\n          .then(function (resp) {\n            scope.loading = false;\n            scope.active = true;\n            scope.form.photo = resp;\n            scope.data = 'data:image/jpeg;base64,' + resp;\n          })\n          .catch(function () {\n            $state.go('photogram.home');\n          });\n      }\n\n      function submitCapture() {\n\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        var dataForm = angular.copy(scope.form);\n\n        void 0;\n\n        return false;\n\n        Loading.start();\n        Photogram\n          .add(dataForm)\n          .then(function (resp) {\n            $state.go('photogram.home', {\n              reload: true\n            });\n            init();\n            Loading.end();\n          });\n      }\n\n      function closeModal() {\n        scope.modal.hide();\n        scope.modal.remove();\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('photogramLoading', PhotogramLoadingDirective);\n\n    function PhotogramLoadingDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                loading: '=',\n                icon: '@'\n            },\n            template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n        };\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramLike', photogramLike)\n    .directive('photogramLikeModal', photogramLikeModal);\n\n\n  function photogramLike(Photogram) {\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n        elem.bind('click', likePhotogram);\n\n        function likePhotogram() {\n\n          void 0;\n          var _model = scope.ngModel;\n          _model.progress = true;\n          _model.liked = !_model.liked;\n          Photogram\n            .likeGallery(scope.ngModel.id)\n            .then(function (resp) {\n              _model.likes = resp.likes;\n              _model.progress = false;\n              void 0;\n            });\n          scope.$apply();\n        }\n      }\n    };\n  }\n\n  function photogramLikeModal($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '='\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n        scope.formFields = Photogram.formComment;\n        scope.submitComment = submitComment;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function openModal() {\n          void 0;\n\n          $ionicModal.fromTemplateUrl(path + '/directive/like/photogram.like.directive.html', {\n            scope: scope,\n            animation: 'slide-in-up'\n          }).then(function (modal) {\n            scope.modal = modal;\n          });\n\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                void 0;\n                scope.closeModal();\n              });\n          }\n        }\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('heart', heartDirective);\n\n  function heartDirective() {\n    return {\n      restrict: 'A',\n      scope: {\n        item: '='\n      },\n      link: heartLink\n    };\n\n    function heartLink(scope, elem, attr) {\n      elem.bind('click', function () {\n        void 0;\n        elem.addClass('happy');\n      });\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .directive('photogramFollow', photogramFollow);\n\n  function photogramFollow($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          $ionicModal.fromTemplateUrl(path + '/directive/follow/photogram.follow.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modalFollow = modal;\n            void 0;\n\n            Photogram\n              .getFollow(scope.user)\n              .then(function (resp) {\n                void 0;\n                scope.data = resp;\n                scope.modalFollow.show();\n              });\n\n          });\n        }\n\n        function closeModal() {\n          scope.modalFollow.hide();\n          scope.modalFollow.remove();\n        }\n      }\n    }\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('photogramPhotoFeedback', photogramPhotoFeedbackDirective);\n\n  function photogramPhotoFeedbackDirective($ionicModal, AppConfig, PhotogramFeedback, PhotogramFeedbackForm, $state) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        photogram: '@'\n      },\n      template: '',\n      link: function (scope, elem, attr) {\n\n        scope.link = link;\n        scope.submitFeedback = submitFeedback;\n        scope.closeModal = closeModal;\n        elem.bind('click', openModal);\n\n        function init() {\n          scope.form = {\n            photogramId: scope.photogram\n          };\n          scope.formFields = PhotogramFeedbackForm.form;\n        }\n\n        function openModal() {\n\n          init();\n          $ionicModal.fromTemplateUrl(path + '/directive/feedback/feedback-modal.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n            });\n        }\n\n        function link(sref) {\n          $state.go(sref)\n          scope.closeModal();\n        }\n\n        function submitFeedback() {\n          var dataForm = angular.copy(scope.form);\n          PhotogramFeedback\n            .submit(dataForm)\n            .then(function (resp) {\n              void 0;\n              init();\n              scope.closeModal();\n            });\n        }\n\n\n        function closeModal() {\n          scope.modal.hide();\n          scope.modal.remove();\n        }\n\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.photogram')\n        .factory('PhotogramFeedbackForm', PhotogramFeedbackForm);\n\n    function PhotogramFeedbackForm($translate) {\n\n        var form = [{\n            key: 'title',\n            type: 'input',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('FEEDBACK.TITLE'),\n                required: true\n            }\n        }, {\n            key: 'subject',\n            type: 'select',\n            templateOptions: {\n                label: $translate.instant('FEEDBACK.SUBJECT'),\n                options: [{\n                    'label': $translate.instant('FEEDBACK.COMPLAINT'),\n                    'id': 'complaint',\n                }, {\n                    'label': $translate.instant('FEEDBACK.BUG'),\n                    'id': 'bug',\n                }, {\n                    'label': $translate.instant('FEEDBACK.SUGGESTION'),\n                    'id': 'suggestion',\n                }],\n                valueProp: 'id',\n                labelProp: 'label',\n                icon: 'icon-list',\n                iconPlaceholder: true\n            }\n        }, {\n            key: 'status',\n            type: 'textarea',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('FEEDBACK.MESSAGE'),\n                icon: 'ion-quote',\n                required: true,\n                iconPlaceholder: true\n            }\n        }];\n\n        return {\n            form: form\n        };\n    }\n\n\n})();\n(function () {\n\n    angular\n        .module('app.photogram')\n        .factory('PhotogramFeedback', PhotogramFeedback);\n\n    function PhotogramFeedback($q, AppConfig, Photogram, $rootScope, PhotogramFeedbackForm, $ionicModal, Notify) {\n        var path = AppConfig.path;\n\n        return {\n            modal: modal,\n            submit: submit\n        };\n        function modal(gallery) {\n            var $scope            = $rootScope.$new();\n            $scope.submitFeedback = submitFeedback;\n            $scope.closeModal     = closeModal;\n            $scope.form           = {\n                photogramId: gallery.id\n            };\n\n            function submitFeedback() {\n                var dataForm = angular.copy($scope.form);\n                submit(dataForm)\n                    .then(function (resp) {\n                        void 0;\n                        closeModal();\n                    });\n            }\n\n\n            function closeModal() {\n                $scope.modal.hide();\n                $scope.modal.remove();\n                delete $scope.modal;\n            }\n\n            $scope.formFields = PhotogramFeedbackForm.form;\n\n            $ionicModal\n                .fromTemplateUrl(path + '/module/feedback/view/feedback.modal.html', {\n                    scope: $scope,\n                    focusFirstInput: true\n                })\n                .then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n        }\n\n\n        function submit(form) {\n            var defer = $q.defer();\n\n            void 0;\n\n            Photogram\n                .find(form.photogramId)\n                .then(function (Photogram) {\n                    void 0;\n                    var Object = Parse.Object.extend('PhotogramFeedback');\n                    var item   = new Object();\n\n                    delete form.PhotogramId;\n\n                    angular.forEach(form, function (value, key) {\n                        item.set(key, value);\n                    });\n\n                    item.set('user', Parse.User.current());\n                    item.set('Gallery', Photogram);\n\n                    item\n                        .save(null)\n                        .then(function (resp) {\n                            Notify.alert({\n                                title: ('Thanks'),\n                                text: ('Thanks for your Feedback')\n                            });\n                            defer.resolve(resp);\n                        });\n                });\n\n\n            return defer.promise;\n        }\n\n    }\n\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective(Loading, User, $state, $cordovaFacebook, $facebook, AppConfig, Notify) {\n        return {\n            restrict: 'E',\n            link: facebookLoginLink,\n            template: '<button class=\"button button-block button-facebook\"><i class=\"icon ion-social-facebook\"></i> <span>{{ \\'USER.BUTTON.LOGIN_SOCIAL\\'| translate}} {{name || \\'Facebook\\'}}</span> </button>',\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            var facebook = window.cordova ? $cordovaFacebook : $facebook;\n\n            void 0;\n\n                        facebook\n                .getLoginStatus()\n                .then(function (resp) {\n                    void 0;\n                    facebook\n                        .api('/me')\n                        .then(function (profile) {\n                            void 0;\n                            scope.name = profile.name;\n                        });\n                })\n                .catch(function (resp) {\n                    void 0;\n                });\n\n            elem.bind('click', facebookLogin);\n\n            function facebookLogin() {\n                Loading.start();\n                User\n                    .facebookLogin()\n                    .then(function (resp) {\n                        void 0;\n\n                        Loading.end();\n                        switch (resp.status) {\n                            case 0:\n                                $state.go(AppConfig.routes.home, {\n                                    clear: true\n                                });\n                                break;\n                            case 1:\n                                $state.go('user.avatar', {\n                                    clear: true\n                                });\n                                break;\n                            case 2:\n                                $state.go('user.merge', {\n                                    clear: true\n                                });\n                                break;\n                        }\n                    })\n                    .catch(function () {\n                        Loading.end();\n                        Notify.alert({\n                            title: 'Ops',\n                            text: ('Facebook error')\n                        });\n                    });\n            }\n\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.photogram')\n    .directive('photogramComment', photogramCommentDirective);\n\n  function photogramCommentDirective($ionicModal, Loading, $ionicPopup, User, Notify, $timeout,\n    AppConfig, Photogram, PhotogramForm) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '='\n      },\n      link: function (scope, elem) {\n\n\n        elem.bind('click', openModalComment);\n\n        function init() {\n          scope.currentUser = User.currentUser();\n          scope.nocomments = false;\n          scope.loading = false;\n          scope.form = {\n            galleryId: scope.ngModel.id,\n            text: ''\n          };\n        }\n\n        function openModalComment() {\n          void 0;\n\n          init();\n\n          scope.formFields = PhotogramForm.formComment;\n          scope.submitComment = submitComment;\n          scope.deleteComment = deleteComment;\n          scope.editComment = editComment;\n          scope.closeModal = function () {\n            scope.modal.hide();\n            scope.modal.remove();\n          };\n\n          scope.comments = scope.ngModel.comments;\n          $timeout(function () {\n            if (scope.comments.length === 0) {\n              scope.nocomments = true;\n            }\n          }, 500);\n\n\n          $ionicModal.fromTemplateUrl(path + '/directive/comment/photogram.comment.directive.html', {\n              scope: scope,\n              focusFirstInput: true\n            })\n            .then(function (modal) {\n              scope.modal = modal;\n              scope.modal.show();\n\n            });\n        }\n\n        function deleteComment(obj) {\n          void 0;\n          Notify\n            .confirm(('Delete comment'), ('You are sure?'))\n            .then(function (resp) {\n              void 0;\n              if (resp) {\n                Photogram\n                  .deleteComment(obj)\n                  .then(function (resp) {\n                    void 0;\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function editComment(obj) {\n          void 0;\n          scope.data = angular.copy(obj);\n          $ionicPopup\n            .show({\n              template: '<input type=\"text\" ng-model=\"data.text\">',\n              title: ('Edit comment'),\n              scope: scope,\n              buttons: [{\n                text: ('Cancel')\n              }, {\n                text: '<b>OK</b>',\n                type: 'button-positive',\n                onTap: function (e) {\n                  void 0;\n                  if (!scope.data.text) {\n                    e.preventDefault();\n                  } else {\n                    return scope.data;\n                  }\n                }\n              }]\n            })\n            .then(function (resp) {\n              void 0;\n              if (resp) {\n                Photogram\n                  .updateComment(resp)\n                  .then(function (resp) {\n                    void 0;\n                    getComments();\n                  });\n              }\n            });\n        }\n\n        function getComments() {\n          scope.loading = true;\n          Photogram\n            .getComments(scope.ngModel.id)\n            .then(function (resp) {\n              scope.comments = resp;\n              scope.ngModel.comments = resp;\n              scope.loading = false;\n            });\n        }\n\n        function submitComment(rForm, form) {\n          if (rForm.$valid) {\n            var dataForm = angular.copy(form);\n            Loading.start();\n            Photogram\n              .addComment(dataForm)\n              .then(function (resp) {\n                void 0;\n                getComments();\n                Loading.end();\n                scope.closeModal();\n              });\n          }\n        }\n\n\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.photogram')\n        .directive('buy', buyDirective);\n\n    function buyDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            link: buyLink\n        };\n\n        function buyLink(scope, elem) {\n            elem.bind('click', function () {\n                var url     = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S';\n\n                if(window.cordova ) {\n                    cordova\n                        .ThemeableBrowser\n                        .open(url, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#333333',\n                                showPageTitle: true\n                            },\n                            closeButton: {\n                                image: 'close',\n                                imagePressed: 'close_pressed',\n                                align: 'left',\n                                event: 'closePressed'\n                            },\n                            backButtonCanClose: true\n                        });\n                } else {\n                    window.open(url,'_blank');\n                }\n            });\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.user')\n    .factory('UserForm', UserFormFactory);\n\n  function UserFormFactory($translate) {\n\n    return {\n      login: login(),\n      register: register(),\n      profile: profile()\n    };\n\n    function login() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function register() {\n      return [{\n        type: 'input',\n        key: 'email',\n        templateOptions: {\n          type: 'email',\n          placeholder: $translate.instant('USER.FORM.EMAIL'),\n          icon: 'icon-envelope',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'input',\n        key: 'password',\n        templateOptions: {\n          type: 'password',\n          placeholder: $translate.instant('USER.FORM.PASSWORD'),\n          icon: 'icon-lock',\n          required: true,\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n    function profile() {\n      return [{\n        key: 'name',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.NAME'),\n          icon: 'icon-user',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        key: 'status',\n        type: 'input',\n        templateOptions: {\n          type: 'text',\n          placeholder: $translate.instant('USER.FORM.STATUS'),\n          icon: 'ion-quote',\n          required: true,\n          iconPlaceholder: true\n        }\n      }, {\n        type: 'select',\n        key: 'gender',\n        templateOptions: {\n          label: $translate.instant('USER.FORM.GENDER'),\n          options: [{\n            'label': $translate.instant('USER.FORM.MAN'),\n            'id': 'male',\n          }, {\n            'label': $translate.instant('USER.FORM.WOMAN'),\n            'id': 'female',\n          }],\n          valueProp: 'id',\n          labelProp: 'label',\n          icon: 'icon-list',\n          iconPlaceholder: true\n        }\n      }];\n    }\n\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('app.user')\n        .factory('User', UserFactory);\n\n    function UserFactory($q, $window, AppConfig, Parse, $rootScope, $ionicHistory, $cordovaDevice, $facebook, $cordovaFacebook, Loading, $location, $state) {\n\n        var cordova  = $window.cordova;\n        var device   = cordova ? true : false;\n        var facebook = device ? $cordovaFacebook : $facebook;\n        var user;\n\n        return {\n            init: init,\n            addFollows: addFollows,\n            currentUser: currentUser,\n            register: register,\n            login: login,\n            profile: profile,\n            logout: logout,\n            update: update,\n            updateAvatar: updateAvatar,\n            forgot: forgot,\n            list: list,\n            find: find,\n            follow: follow,\n            avatar: avatar,\n            getFollowers: getFollowers,\n            getFollowing: getFollowing,\n            isFollow: isFollow,\n            mail: getMail,\n            facebookLogin: facebookLogin,\n            facebookLink: facebookLink,\n            facebookProfile: facebookProfile,\n            facebookFriends: facebookFriends,\n            facebookInvite: facebookInvite,\n            facebookAPI: facebookAPI\n        };\n\n\n        function init() {\n            if (Parse.User.current()) {\n                user = Parse.User.current();\n                loadProfile();\n            } else {\n                void 0;\n            }\n        }\n\n\n        function currentUser() {\n            return user;\n        }\n\n\n        function loadProfile() {\n            user = Parse.User.current();\n            if (user) {\n                $rootScope.currentUser = user.attributes;\n                void 0;\n                return user;\n            } else {\n                logout();\n                return false;\n            }\n        }\n\n        function avatar(obj) {\n            if (obj.facebookimg) {\n                return obj.facebookimg;\n            } else {\n                return obj.img ? obj.img._url : 'img/user.png';\n            }\n        }\n\n        function login(form) {\n            var defer = $q.defer();\n            Parse\n                .User\n                .logIn(form.email, form.password, {\n                    success: function (resp) {\n                        void 0;\n                        loadProfile()\n                        defer.resolve($rootScope.currentUser);\n                    },\n                    error: function (user, err) {\n                        void 0;\n                        defer.reject(err);\n                    }\n                });\n            return defer.promise;\n        }\n\n        function loginFacebook2(response) {\n            var defer = $q.defer();\n            void 0;\n            facebook\n                .api('me/?fields=id,name,email,gender,bio', ['public_profile'])\n                .then(function (dados) {\n                    void 0;\n\n                    var query = new Parse.Query(Parse.User);\n                    query\n                        .equalTo('email', dados.email)\n                        .first({\n                            success: function (user) {\n                                void 0;\n\n                                if (user) {\n                                    void 0;\n                                    if (user.get('facebook_complete') === Boolean(true)) {\n\n                                        loginFacebook(response)\n                                            .then(function (resp) {\n                                                void 0;\n\n                                                if (user.attributes.name === '') {\n                                                    void 0;\n                                                    var updateUser  = user.attributes;\n                                                    updateUser.name = dados.name;\n\n                                                    update(updateUser)\n                                                        .then(function () {\n                                                            defer.resolve({\n                                                                status: 0\n                                                            });\n                                                        });\n                                                } else {\n\n                                                    loadProfile(user);\n\n                                                    defer.resolve({\n                                                        status: 0\n                                                    });\n                                                }\n\n                                            });\n                                    } else {\n                                        void 0;\n\n\n                                        $rootScope.tempUser     = dados;\n                                        $rootScope.tempUser.facebookimg = 'https://graph.facebook.com/' + dados.id +\n                                            '/picture?width=250&height=250';\n\n                                        void 0;\n                                        defer.resolve({\n                                            status: 2\n                                        });\n\n                                    }\n\n                                } else {\n                                    void 0;\n\n                                    loginFacebook(response)\n                                        .then(function (newuser) {\n\n                                            void 0;\n\n                                            var form = {\n                                                name: dados.name,\n                                                facebook: dados.id,\n                                                email: dados.email,\n                                                gender: dados.gender,\n                                                facebook_complete: Boolean(true),\n                                                facebookimg: 'https://graph.facebook.com/' + dados.id +\n                                                '/picture?width=250&height=250'\n                                            };\n\n                                            update(form)\n                                                .then(function (resp) {\n                                                    void 0;\n\n                                                    defer.resolve({\n                                                        status: 1\n                                                    });\n                                                });\n\n\n                                        });\n\n\n                                }\n\n                            },\n                            error: function (error) {\n                                void 0;\n                                defer.reject(error);\n\n                            }\n                        });\n\n                }, function (resp) {\n                    void 0;\n                    defer.reject(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookLogin() {\n            var defer = $q.defer();\n\n            void 0;\n\n            facebook\n                .getLoginStatus()\n                .then(function (respStatus) {\n\n                    if (respStatus.status === 'connected') {\n                        loginFacebook2(respStatus)\n                            .then(function (deferStatus) {\n                                defer.resolve(deferStatus);\n                            });\n                    } else {\n\n                        facebook\n                            .login([\n                                'public_profile',\n                                'email'\n                            ])\n                            .then(function (response) {\n\n                                    void 0;\n                                    if (response.status === undefined) {\n                                        defer.reject('reject');\n                                    }\n\n                                    void 0;\n                                    loginFacebook2(response)\n                                        .then(function (deferStatus) {\n                                            defer.resolve(deferStatus);\n                                        });\n                                    ;\n                                },\n                                function (response) {\n                                    void 0;\n                                    defer.reject(JSON.stringify(response));\n\n                                });\n                    };\n                });\n\n\n            return defer.promise;\n        }\n\n\n        function facebookProfile() {\n            var defer = $q.defer();\n            facebookLogin()\n                .then(function (resp) {\n\n                    facebook\n                        .api('me', '')\n                        .then(function (response) {\n                            defer.resolve([\n                                resp,\n                                response\n                            ]);\n                        }, function (error) {\n                            void 0;\n                            defer.reject(error);\n                        });\n                });\n            return defer.promise;\n        }\n\n\n        function register(form) {\n            var defer = $q.defer();\n\n            var formData      = form;\n            formData.username = form.email;\n\n            void 0;\n            new Parse\n                .User(formData)\n                .signUp(null, {\n                    success: function (resp) {\n                        var user = loadProfile(resp);\n                        void 0;\n                        Loading.end();\n                        defer.resolve(user);\n                    },\n                    error: function (user, resp) {\n                        void 0;\n                        if (resp.code === 125) {\n                            defer.reject('Please specify a valid email address');\n                        } else if (resp.code === 202) {\n                            defer.reject('The email address is already registered');\n                        } else {\n                            defer.reject(resp);\n                        }\n                    }\n                });\n            return defer.promise;\n        }\n\n        function forgot(email) {\n            var defer = $q.defer();\n            new Parse.User.requestPasswordReset(email, {\n                success: function (resp) {\n                    defer.resolve(resp);\n                },\n                error: function (err) {\n                    if (err.code === 125) {\n                        defer.reject('Email address does not exist');\n                    } else {\n                        defer.reject('An unknown error has occurred, please try again');\n                    }\n                }\n            });\n            return defer.promise;\n        }\n\n        function logout() {\n            new Parse.User.logOut();\n            delete $rootScope.currentUser;\n            $state.go(AppConfig.routes.login, {\n                clear: true\n            });\n            $ionicHistory.clearCache();\n        }\n\n        function update(form) {\n            var defer = $q.defer();\n            Loading.start();\n            var currentUser = Parse.User.current();\n\n            angular.forEach(form, function (value, key) {\n                void 0;\n                currentUser.set(key, value);\n            });\n\n            if (cordova) {\n                var cordovaDevice = {\n                    device: $cordovaDevice.getDevice(),\n                    cordova: $cordovaDevice.getCordova(),\n                    model: $cordovaDevice.getModel(),\n                    platform: $cordovaDevice.getPlatform(),\n                    uuid: $cordovaDevice.getUUID(),\n                    version: $cordovaDevice.getVersion()\n                };\n\n                currentUser.set('device', cordovaDevice.device);\n                currentUser.set('deviceCordova', cordovaDevice.cordova);\n                currentUser.set('deviceModel', cordovaDevice.model);\n                currentUser.set('devicePlatform', cordovaDevice.platform);\n                currentUser.set('deviceUuiid', cordovaDevice.uuid);\n                currentUser.set('deviceVersion', cordovaDevice.version);\n            }\n\n            currentUser\n                .save()\n                .then(function (resp) {\n                    void 0;\n                    loadProfile();\n                    Loading.end();\n                    defer.resolve(resp);\n                });\n\n\n            return defer.promise;\n        }\n\n        function updateAvatar(photo) {\n            var defer = $q.defer();\n\n            Loading.start();\n\n            if (photo !== '') {\n\n                var imageFile = new Parse.File('mypic.jpg', {\n                    base64: photo\n                });\n\n                return imageFile\n                    .save()\n                    .then(function () {\n\n                        photo = null;\n\n                        var currentUser = Parse.User.current();\n\n                        currentUser.set('img', imageFile);\n\n                        currentUser\n                            .save()\n                            .then(function (resp) {\n                                loadProfile();\n                                Loading.end();\n                                defer.resolve(resp);\n                            });\n\n\n                    }, function (error) {\n                        Loading.end();\n                        void 0;\n                        defer.reject(error);\n                    });\n            }\n            return defer.promise;\n        }\n\n\n        function facebookFriends() {\n            var defer = $q.defer();\n\n            facebook\n                .api('me/friends')\n                .then(function (success) {\n                    defer.resolve(success);\n                }, function (error) {\n                    defer.reject(error);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookAPI(api) {\n            var defer = $q.defer();\n\n            facebook\n                .api(api)\n                .then(function (success) {\n                    defer.resolve(success);\n                }, function (error) {\n                    defer.reject(error);\n                });\n\n            return defer.promise;\n        }\n\n        function facebookInvite() {\n            var defer = $q.defer();\n            if (device) {\n                facebook\n                    .showDialog({\n                        method: 'apprequests',\n                        message: 'Venha para o nosso clube!'\n                    })\n                    .then(function (resp) {\n                        defer.resolve(resp);\n                    });\n            } else {\n                facebook\n                    .ui({\n                        method: 'apprequests',\n                        message: 'Venha para o nosso clube!'\n                    })\n                    .then(function (resp) {\n                        defer.resolve(resp);\n                    });\n            }\n            return defer.promise;\n        }\n\n\n        function list() {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('User')\n                .notEqualTo('user', Parse.User.current())\n                .find()\n                .then(function (resp) {\n                    var users = [];\n                    angular.forEach(resp, function (item) {\n                        var user = item.attributes;\n                        user.id  = item.id;\n                        user     = avatar(user);\n\n                        new Parse\n                            .Query('UserFollow')\n                            .equalTo('user', Parse.User.current())\n                            .equalTo('follow', item)\n                            .count()\n                            .then(function (follow) {\n                                user.follow = follow;\n\n                                void 0;\n                                users.push(user);\n                            });\n                    });\n                    defer.resolve(users);\n                });\n\n            return defer.promise;\n        }\n\n        function find(userId) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('User')\n                .equalTo('objectId', userId)\n                .first()\n                .then(function (resp) {\n                    defer.resolve(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function profile(userId) {\n            var defer = $q.defer();\n\n            find(userId)\n                .then(function (resp) {\n                    void 0;\n                    var user = loadProfile(resp);\n\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', resp)\n                        .count()\n                        .then(function (gallery) {\n                            user.galleries = gallery;\n\n                            new Parse\n                                .Query('UserFollow')\n                                .equalTo('user', resp)\n                                .count()\n                                .then(function (foloow) {\n                                    user.follow = foloow;\n\n                                    new Parse\n                                        .Query('UserFollow')\n                                        .equalTo('follow', resp)\n                                        .count()\n                                        .then(function (follow2) {\n                                            user.follow2 = follow2;\n                                            defer.resolve(user);\n                                        });\n\n                                });\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function isFollow(userId) {\n            var defer = $q.defer();\n\n            void 0;\n\n            find(userId)\n                .then(function (followUser) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', Parse.User.current())\n                        .equalTo('follow', followUser)\n                        .count()\n                        .then(function (respFollow) {\n                            defer.resolve(respFollow);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n\n        function getFollowers(userId) {\n            var defer = $q.defer();\n\n            if (!userId) {\n                userId = Parse.User.current().id;\n            }\n\n            find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('follow', user)\n                        .count()\n                        .then(function (qtdFollowers) {\n                            defer.resolve(qtdFollowers);\n                        }, function (err) {\n                            defer.reject(err);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function getFollowing(userId) {\n            var defer = $q.defer();\n\n            if (!userId) {\n                userId = Parse.User.current().id;\n            }\n\n            find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', user)\n                        .count()\n                        .then(function (qtdFollowing) {\n                            defer.resolve(qtdFollowing);\n                        }, function (err) {\n                            defer.reject(err);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function follow(status, user) {\n            var defer     = $q.defer();\n            var qtdFollow = Parse.User.current().qtdFollow ? parseInt(Parse.User.current().qtdFollow) : 0;\n\n\n            find(user.id)\n                .then(function (follow) {\n\n                    if (status) {\n                        void 0;\n\n                        var Object = Parse.Object.extend('UserFollow');\n                        var item   = new Object();\n\n                        item.set('user', Parse.User.current());\n                        item.set('follow', follow);\n                        item.save()\n                            .then(function (resp) {\n                                void 0;\n\n                                update({\n                                    qtdFollow: qtdFollow + 1\n                                })\n                                    .then(function (userResp) {\n                                        void 0;\n                                        defer.resolve(userResp);\n                                    });\n\n                            }, function (err) {\n                                defer.resolve(err);\n                            });\n                    } else {\n                        void 0;\n\n                        new Parse\n                            .Query('UserFollow')\n                            .equalTo('user', Parse.User.current())\n                            .equalTo('follow', follow)\n                            .first()\n                            .then(function (item) {\n                                item\n                                    .destroy()\n                                    .then(function (resp) {\n\n                                        update({\n                                            qtdFollow: qtdFollow - 1\n                                        })\n                                            .then(function (userResp) {\n                                                void 0;\n                                                defer.resolve(userResp);\n                                            });\n                                    }, function (err) {\n                                        defer.resolve(err);\n                                    });\n                            });\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function addFollows(users) {\n            void 0;\n            var promises = [];\n            angular.forEach(users, function (user) {\n                promises.push(follow(true, user.id));\n            });\n            return $q.all(promises);\n        }\n\n        function getMail(email) {\n            var defer = $q.defer();\n            Loading.start();\n            new Parse\n                .Query('User')\n                .equalTo('email', email)\n                .first()\n                .then(function (resp) {\n                    Loading.end();\n                    defer.resolve(resp);\n                }, function (resp) {\n                    Loading.end();\n                    defer.reject(resp);\n                });\n            return defer.promise;\n        }\n\n        function loginFacebook(response) {\n            var defer = $q.defer();\n\n            var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n            Parse.FacebookUtils.logIn({\n                id: response['authResponse']['userID'],\n                access_token: response['authResponse']['accessToken'],\n                expiration_date: data\n            }, {\n                success: function (response) {\n                    var user = loadProfile(response);\n                    void 0;\n                    defer.resolve(user);\n                }\n            });\n\n            return defer.promise;\n        }\n\n        function facebookLink() {\n            var defer = $q.defer();\n\n            facebook\n                .login(['email'])\n                .then(function (response) {\n\n                        void 0;\n\n                        var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n                        var user = Parse.User.current();\n                        void 0;\n\n                        Parse.FacebookUtils.link(user, {\n                            id: response['authResponse']['userID'],\n                            access_token: response['authResponse']['accessToken'],\n                            expiration_date: data\n                        }, {\n                            success: function (user) {\n                                void 0;\n                                user.set('facebook', response['authResponse']['userID']);\n                                user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] +\n                                    '/picture?width=250&height=250');\n                                user.set('facebook_complete', Boolean(true));\n                                user.save()\n                                    .then(function (response) {\n                                        var user = loadProfile(response);\n                                        void 0;\n                                        defer.resolve(user);\n                                    });\n                            }\n                        });\n                    },\n                    function (response) {\n                        void 0;\n\n                    });\n\n\n            return defer.promise;\n        }\n\n\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramShare', PhotogramShareFactory);\n\n  function PhotogramShareFactory(AppConfig, $q, $ionicActionSheet, Notify, $cordovaSocialSharing) {\n\n    var message = {\n      title: ('Join me from ') + AppConfig.app.name + '!',\n      subject: (\"I'm at \") + AppConfig.app.name + '!. ' + (\n        'Install the application and follow me!') + ' ' + AppConfig.app.url,\n      image: AppConfig.app.image,\n      link: AppConfig.app.url\n    };\n\n    return {\n      share: share,\n      open: open\n    };\n\n    function share(social, option) {\n      var defer = $q.defer();\n\n      function success(resp) {\n        Notify.alert({\n          title: ('Thanks'),\n          text: ('Thank you for sharing!!')\n        });\n        defer.resolve(resp);\n      }\n\n      function error(err) {\n        void 0;\n        defer.reject();\n      }\n\n      var detail = option ? option : message;\n\n      switch (social) {\n      case 'instagram':\n        window\n          .plugins\n          .socialsharing\n          .shareViaInstagram(message.text, message.image, message.link)\n          .then(success, error);\n        break;\n\n      case 'facebook':\n        $cordovaSocialSharing\n          .shareViaFacebook(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'twitter':\n        $cordovaSocialSharing\n          .shareViaTwitter(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'whatsapp':\n        $cordovaSocialSharing\n          .shareViaWhatsApp(detail.text, detail.image, detail.link)\n          .then(success, error);\n        break;\n\n      case 'email':\n        $cordovaSocialSharing\n          .shareViaEmail(detail.title, detail.subject ? detail.subject : detail.title)\n          .then(success, error);\n        break;\n      }\n\n      return defer.promise;\n    }\n\n    function open() {\n      var modal = $ionicActionSheet\n        .show({\n          buttons: [{\n            text: '<i class=\"icon ion-social-instagram\"></i>' + ('Instagram')\n          }, {\n            text: '<i class=\"icon ion-social-facebook\"></i>' + ('Facebook')\n          }, {\n            text: '<i class=\"icon ion-social-twitter\"></i>' + ('Twitter')\n          }, {\n            text: '<i class=\"icon ion-social-whatsapp\"></i>' + ('Whatsapp')\n          }, {\n            text: '<i class=\"icon ion-email\"></i>' + ('Email')\n          }],\n          titleText: ('Share'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n            return false;\n          },\n          buttonClicked: function (index) {\n            void 0;\n            switch (index) {\n            case 0:\n              share('instagram');\n              break;\n            case 1:\n              share('facebook');\n              break;\n            case 2:\n              share('twitter');\n              break;\n            case 3:\n              share('whatsapp');\n              break;\n            case 4:\n              share('email');\n              break;\n            }\n            modal();\n          }\n        });\n\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramSetting', PhotogramSettingFactory);\n\n  function PhotogramSettingFactory($window, Cache, $q) {\n\n    var CacheSetting = Cache.model('Setting', {\n      mode: 'sessionStorage'\n    });\n    var SettingKeys = CacheSetting.keys();\n\n    return {\n      init: init,\n      get: get\n    };\n\n    function init() {\n      var defer = $q.defer();\n      var data = [];\n\n      if (SettingKeys.length) {\n        var settings = Cache.data('Setting');\n        void 0;\n        defer.resolve(settings);\n      } else {\n        new Parse\n          .Query('GallerySetting')\n          .find()\n          .then(function (resp) {\n            resp.map(function (item) {\n              var obj = {\n                key: item.attributes.key,\n                value: item.attributes.value\n              };\n              CacheSetting.put(obj.key, obj.value);\n              data.push(obj);\n\n            });\n            defer.resolve(data);\n          }, error);\n      }\n\n\n      return defer.promise;\n\n    }\n\n    function error(err) {\n      void 0;\n    }\n\n    function get(key) {\n      return CacheSetting.get(key);\n    }\n\n  }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('app.photogram')\n    .factory('PhotogramForm', PhotogramFormFactory);\n\n  function PhotogramFormFactory($translate) {\n\n    var form = [{\n      key: 'title',\n      type: 'input',\n      templateOptions: {\n        type: 'text',\n        placeholder: $translate.instant('PHOTOGRAM.FORM.TITLE'),\n        icon: 'icon-envelope',\n        required: true,\n        iconPlaceholder: true,\n        focus: true\n      }\n    }, {\n      key: 'geo',\n      type: 'toggle',\n      templateOptions: {\n        label: $translate.instant('PHOTOGRAM.FORM.GEOLOCATION'),\n        toggleClass: 'positive'\n      }\n    }];\n\n    var formComment = [{\n      key: 'text',\n      type: 'input',\n      templateOptions: {\n        placeholder: $translate.instant('PHOTOGRAM.FORM.ADDCOMMENT'),\n        type: 'text',\n        required: true,\n        focus: true\n      }\n    }];\n\n    var formShare = [{\n      key: 'facebook',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Facebook',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'twitter',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Twitter',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'whatsapp',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Whatsapp',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'SMS',\n      type: 'toggle',\n      templateOptions: {\n        label: 'SMS',\n        toggleClass: 'positive'\n      }\n    }, {\n      key: 'email',\n      type: 'toggle',\n      templateOptions: {\n        label: 'Email',\n        toggleClass: 'positive'\n      }\n    }, ];\n    return {\n      form: form,\n      formComment: formComment,\n      formShare: formShare\n    };\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('app.photogram')\n        .factory('Photogram', PhotogramFactory);\n\n    function PhotogramFactory($q, Parse, User, Loading) {\n\n        var limitComment = 3;\n\n        return {\n            feed: feed,\n            feedGrid: feedGrid,\n            post: post,\n            get: get,\n            deletePhoto: deletePhoto,\n            find: find,\n            nearby: nearby,\n            addActivity: addActivity,\n            listActivity: listActivity,\n            getUserGallery: getUserGallery,\n            getUserGalleryQtd: getUserGalleryQtd,\n            allComment: allComment,\n            addComment: addComment,\n            getComments: getComments,\n            updateComment: updateComment,\n            deleteComment: deleteComment,\n            getLikes: getLikes,\n            likeGallery: likeGallery,\n            getFollow: getFollow,\n            search: search\n        };\n\n\n        function deletePhoto(galleryId) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(galleryId, function (resp) {\n                    resp.destroy();\n                    defer.resolve(resp);\n                });\n\n            return defer.promise;\n        }\n\n        function post(_params) {\n            var defer       = $q.defer();\n            var ImageObject = Parse.Object.extend('Gallery');\n\n            if (_params.photo !== '') {\n\n                var imageFile = new Parse.File('mypic.jpg', {\n                    base64: _params.photo\n                });\n\n                imageFile\n                    .save()\n                    .then(function () {\n\n                        _params.photo = null;\n\n                        var imageObject = new ImageObject();\n\n                        imageObject.set('title', _params.title);\n                        imageObject.set('user', Parse.User.current());\n                        imageObject.set('img', imageFile);\n\n                        if (_params.location !== undefined) {\n                            imageObject.set('location', new Parse.GeoPoint(_params.location.latitude, _params.location.longitude));\n                        }\n\n                        imageObject\n                            .save()\n                            .then(function (resp) {\n                                void 0;\n                                defer.resolve(resp);\n                            });\n\n                    }, function (error) {\n                        void 0;\n                        defer.reject(error);\n                    });\n\n            } else {\n                var imageObject = new ImageObject();\n\n                imageObject.set('caption', _params.caption);\n\n                return imageObject.save();\n\n            }\n\n\n            return defer.promise;\n        }\n\n        function allComment(galleryId) {\n            var defer = $q.defer();\n\n            var gallery = new Parse\n                .Query('Gallery')\n                .get(galleryId, function (resp) {\n                    void 0;\n                    return resp;\n                });\n\n            new Parse\n                .Query('GalleryComment')\n                .equalTo('galery', gallery)\n                .descending('createdAt')\n                .find()\n                .then(function (resp) {\n                    var objs = [];\n                    angular.forEach(resp, function (item) {\n                        var obj  = item.attributes;\n                        obj.id   = item.id;\n                        obj.user = item.attributes.commentBy;\n                        objs.push(obj);\n                    });\n                    Loading.end();\n                    defer.resolve(objs);\n                });\n            return defer.promise;\n        }\n\n        function getComments(obj) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(obj)\n                .then(function (gallery) {\n                    new Parse\n                        .Query('GalleryComment')\n                        .equalTo('gallery', gallery)\n                        .include('commentBy')\n                        .ascending('createdAt')\n                        .find()\n                        .then(function (resp) {\n                            var comments = [];\n                            resp.map(function (item) {\n                                void 0;\n                                var obj        = {\n                                    id: item.id,\n                                    text: item.attributes.text,\n                                    created: item.createdAt,\n                                    user: item.attributes.commentBy\n                                };\n                                obj.userAvatar = User.avatar(obj.user.attributes)\n                                comments.push(obj);\n                            });\n                            defer.resolve(comments);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function updateComment(obj) {\n            var defer = $q.defer();\n            void 0;\n            new Parse\n                .Query('GalleryComment')\n                .get(obj.id, function (comment) {\n                    void 0;\n                    comment.set('text', obj.text);\n                    comment.save();\n                    defer.resolve();\n                });\n            return defer.promise;\n        }\n\n        function deleteComment(item) {\n            var defer = $q.defer();\n            new Parse\n                .Query('GalleryComment')\n                .get(item.id, deleteItem);\n\n            function deleteItem(comment) {\n                comment.destroy(function () {\n                    defer.resolve();\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function getFollow(userId) {\n            var defer = $q.defer();\n\n            User\n                .find(userId)\n                .then(function (user) {\n\n                    new Parse\n                        .Query('UserFollow')\n                        .equalTo('user', user)\n                        .include('follow')\n                        .find()\n                        .then(function (resp) {\n                            var data = [];\n                            angular.forEach(resp, function (item) {\n                                void 0;\n                                var obj        = {\n                                    id: item.id,\n                                    text: item.attributes.text,\n                                    user: item.attributes.follow.attributes,\n                                    created: item.createdAt\n                                };\n                                obj.userAvatar = User.avatar(obj.user);\n\n                                data.push(obj.user);\n                            });\n                            defer.resolve(data);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function getLikes(obj) {\n            var defer = $q.defer();\n\n            new Parse\n                .Query('Gallery')\n                .get(obj)\n                .then(function (gallery) {\n                    if (gallery.length) {\n                        new Parse\n                            .Query('GalleryLike')\n                            .equalTo('gallery', gallery)\n                            .include('user')\n                            .ascending('createdAt')\n                            .find()\n                            .then(function (resp) {\n                                var objs = [];\n                                angular.forEach(resp, function (item) {\n                                    void 0;\n                                    var obj        = {\n                                        id: item.id,\n                                        text: item.attributes.text,\n                                        user: item.attributes.user.attributes,\n                                        created: item.createdAt\n                                    };\n                                    obj.userAvatar = User.avatar(obj.user);\n                                    objs.push(obj);\n                                });\n                                void 0;\n                                defer.resolve(objs);\n                            });\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n\n        function nearby(position) {\n            var defer = $q.defer();\n            var data  = [];\n\n            var point       = new Parse.GeoPoint(position);\n            var maxDistance = 10;\n\n            new Parse\n                .Query('Gallery')\n                .near('location', point)\n                .withinRadians('location', point, maxDistance)\n                .include('user')\n                .find()\n                .then(function (resp) {\n                    if (resp.length) {\n                        resp.map(function (value) {\n                            var size     = 100;\n                            var obj      = angular.copy(value.attributes);\n                            obj.id       = value.id;\n                            obj.img      = User.avatar(value.attributes);\n                            obj.created  = value.createdAt;\n                            obj.icon     = {\n                                size: {\n                                    width: 100,\n                                    height: 100\n                                },\n\n                                scaledSize: {\n                                    width: size / 2,\n                                    height: size / 2\n                                },\n                                url: 'img/icon.png'\n                            };\n                            obj.icon.url = obj.img;\n                            obj.coords   = {\n                                latitude: obj.location._latitude,\n                                longitude: obj.location._longitude\n                            };\n                            data.push(obj);\n                        });\n\n\n                        defer.resolve(data);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function search(string, page) {\n            var defer = $q.defer();\n            var data  = [];\n            var limit = 15;\n\n            new Parse\n                .Query('Gallery')\n                .limit(limit)\n                .skip(page * limit)\n                .matches('title', '* ' + string + '.*')\n                .include('user')\n                .find()\n                .then(function (resp) {\n                    resp.map(function (value) {\n                        void 0;\n                        var obj = {\n                            id: value.id,\n                            item: value.attributes,\n                            src: value.attributes.img.url(),\n                            created: value.createdAt,\n                            user: value.attributes.user.id\n                        };\n                        data.push(obj);\n                    });\n                    defer.resolve(data);\n                });\n\n            return defer.promise;\n        }\n\n        function feed(page, user) {\n            var defer   = $q.defer();\n            var _limit  = 15;\n            var _result = {\n                total: 0,\n                galleries: []\n            };\n\n            function _query() {\n                if (user) {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt')\n                        .equalTo('user', user);\n                } else {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt');\n                }\n            };\n\n            _query()\n                .count()\n                .then(function (totalGallery) {\n                    void 0;\n                    _result.total = totalGallery;\n                    _query()\n                        .include('user')\n                        .limit(_limit)\n                        .skip(page * _limit)\n                        .find()\n                        .then(function (resp) {\n\n                            var qtd = resp.length;\n\n                            if (!qtd) {\n                                defer.reject(true);\n                            }\n\n                            var cb = _.after(resp.length, function () {\n                                defer.resolve(_result);\n                            });\n\n                            _.each(resp, function (item) {\n\n                                var _likes    = item.relation('likes');\n                                var _comments = item.relation('comments');\n\n                                _likes\n                                    .query()\n                                    .equalTo('gallery', item)\n                                    .equalTo('user', Parse.User.current())\n                                    .count()\n                                    .then(function (liked) {\n\n                                        _comments\n                                            .query()\n                                            .include('commentBy')\n                                            .ascending('createdAt')\n                                            .limit(limitComment)\n                                            .find()\n                                            .then(function (comments) {\n\n                                                var commentsData = [];\n                                                comments.map(function (item) {\n                                                    var user = item.attributes.commentBy;\n\n                                                    var comment        = {\n                                                        id: item.id,\n                                                        text: item.attributes.text,\n                                                        user: user,\n                                                        created: item.attributes.createdAt\n                                                    };\n                                                    comment.userAvatar = User.avatar(comment.user.attributes);\n                                                    commentsData.push(comment);\n                                                });\n\n                                                var obj        = {\n                                                    id: item.id,\n                                                    item: angular.copy(item.attributes),\n                                                    created: item.createdAt,\n                                                    likes: item.attributes.qtdLike || 0,\n                                                    liked: liked,\n                                                    src: item.attributes.img.url(),\n                                                    comments: commentsData,\n                                                    user: item.attributes.user\n                                                };\n                                                obj.userAvatar = User.avatar(obj.user.attributes);\n                                                void 0;\n                                                _result.galleries.push(obj);\n                                                cb();\n                                            });\n                                    });\n\n                            });\n                        });\n                });\n            return defer.promise;\n        }\n\n        function feedGrid(page, user, options) {\n            var defer   = $q.defer();\n            var _limit  = 30;\n            var _result = {\n                total: 0,\n                galleries: []\n            };\n\n            function _query() {\n                if (user) {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt')\n                        .equalTo('user', user);\n                } else {\n                    return new Parse\n                        .Query('Gallery')\n                        .descending('createdAt');\n                }\n            };\n\n            _query()\n                .count()\n                .then(function (totalGallery) {\n                    void 0;\n                    _result.total = totalGallery;\n                    _query()\n                        .include('user')\n                        .limit(_limit)\n                        .skip(page * _limit)\n                        .find()\n                        .then(function (resp) {\n\n                            var qtd = resp.length;\n\n                            if (!qtd) {\n                                defer.reject(true);\n                            }\n\n                            var cb = _.after(resp.length, function () {\n                                defer.resolve(_result);\n                            });\n\n                            _.each(resp, function (item) {\n                                var obj        = {\n                                    id: item.id,\n                                    item: angular.copy(item.attributes),\n                                    created: item.createdAt,\n                                    likes: item.attributes.qtdLike || 0,\n                                    src: item.attributes.img.url(),\n                                    user: item.attributes.user\n                                };\n                                obj.userAvatar = User.avatar(obj.user.attributes);\n                                _result.galleries.push(obj);\n                                cb();\n                            });\n                        });\n                });\n            return defer.promise;\n        }\n\n\n        function get(item) {\n            var defer = $q.defer();\n\n            void 0;\n            Loading.start();\n\n            find(item)\n                .then(function (resp) {\n                    void 0;\n\n                    var likes    = resp.relation('likes');\n                    var comments = resp.relation('comments');\n\n                    likes\n                        .query()\n                        .equalTo('gallery', item)\n                        .equalTo('user', Parse.User.current())\n                        .count()\n                        .then(function (liked) {\n\n                            likes\n                                .query()\n                                .count()\n                                .then(function (likes) {\n\n                                    comments\n                                        .query()\n                                        .include('commentBy')\n                                        .descending('createdAt')\n                                        .limit(limitComment)\n                                        .find()\n                                        .then(function (comments) {\n                                            void 0;\n\n                                            var commentsData = [];\n\n                                            angular.forEach(comments, function (item) {\n                                                var comment        = {\n                                                    id: item.id,\n                                                    text: item.attributes.text,\n                                                    user: item.attributes.commentBy.attributes\n                                                };\n                                                comment.userAvatar = User.avatar(comment.user);\n                                                commentsData.push(comment);\n                                            });\n\n                                            var obj        = {\n                                                id: item.id,\n                                                item: item.attributes,\n                                                created: item.createdAt,\n                                                likes: likes,\n                                                liked: liked,\n                                                user: item.attributes.user.attributes,\n                                                comments: commentsData\n                                            };\n                                            obj.userAvatar = User.avatar(obj.user);\n\n                                            defer.resolve(obj);\n                                            Loading.end();\n                                        });\n                                });\n                        });\n\n                });\n\n            return defer.promise;\n        }\n\n\n        function find(id) {\n            var defer = $q.defer();\n            new Parse\n                .Query('Gallery')\n                .include('user')\n                .get(id)\n                .then(function (resp) {\n                    defer.resolve(resp);\n                });\n            return defer.promise;\n        }\n\n\n        function addComment(form) {\n            var defer = $q.defer();\n            void 0;\n\n            find(form.galleryId)\n                .then(function (gallery) {\n                    var Object = Parse.Object.extend('GalleryComment');\n                    var item   = new Object({});\n\n                    angular.forEach(form, function (value, key) {\n                        item.set(key, value);\n                    });\n                    item.set('commentBy', Parse.User.current());\n                    item.set('gallery', gallery);\n\n                    item.save(null)\n                        .then(function (resp) {\n                            void 0;\n\n                            addActivity({\n                                galleryId: gallery.id,\n                                action: 'add comment'\n                            });\n\n                            gallery\n                                .relation('comments')\n                                .add(resp);\n\n                            gallery\n                                .save()\n                                .then(function (resp) {\n                                    void 0;\n                                    defer.resolve(resp);\n                                });\n                        });\n                });\n\n\n            return defer.promise;\n        }\n\n        function isLiked(galleryId) {\n            var defer = $q.defer();\n\n            find(galleryId)\n                .then(function (gallery) {\n                    new Parse\n                        .Query('GalleryLike')\n                        .equalTo('gallery', gallery)\n                        .equalTo('user', Parse.User.current())\n                        .first()\n                        .then(function (resp) {\n                            void 0;\n                            if (resp === undefined) {\n                                defer.reject(resp);\n                            } else {\n                                defer.resolve(resp);\n                            }\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function addLike(galleryId) {\n            var defer = $q.defer();\n\n            find(galleryId)\n                .then(function (gallery) {\n                    var Object = new Parse.Object.extend('GalleryLike');\n                    var item   = new Object({});\n\n                    item.set('user', Parse.User.current());\n                    item.set('gallery', gallery);\n\n                    void 0;\n\n                    item.save(null)\n                        .then(function (resp) {\n                            void 0;\n\n                            var likes = parseInt(gallery.attributes.qtdLike) ? parseInt(gallery.attributes.qtdLike + 1) : 1;\n                            void 0;\n\n                            gallery.set('qtdLike', likes);\n\n                            gallery.relation('likes').add(resp);\n\n                            void 0;\n\n                            gallery\n                                .save()\n                                .then(function (newGallery) {\n                                    void 0;\n                                    defer.resolve({\n                                        liked: true,\n                                        likes: likes\n                                    });\n                                }, function (err) {\n                                    void 0;\n                                    defer.reject(err);\n                                });\n                        });\n                });\n            return defer.promise;\n        }\n\n        function removeLike(galleryId) {\n\n            var defer = $q.defer();\n            find(galleryId)\n                .then(function (gallery) {\n\n                    new Parse\n                        .Query('GalleryLike')\n                        .equalTo('gallery', gallery)\n                        .equalTo('user', Parse.User.current())\n                        .first()\n                        .then(function (like) {\n\n                            var likes = parseInt(gallery.attributes.qtdLike - 1);\n                            if (likes < 0) {\n                                likes = 0;\n                            }\n\n                            void 0;\n\n\n                            gallery.set('qtdLike', likes);\n\n                            gallery.relation('likes').remove(like);\n\n                            like\n                                .destroy(function (resp) {\n                                    if (resp) {\n                                        void 0;\n                                        gallery\n                                            .save()\n                                            .then(function (newGallery) {\n                                                void 0;\n\n                                                defer.resolve({\n                                                    liked: false,\n                                                    likes: newGallery.attributes.qtdLike\n                                                });\n\n                                            }, function (err) {\n                                                void 0;\n                                                defer.reject(err);\n                                            });\n                                    }\n                                });\n\n\n                        });\n\n                });\n            return defer.promise;\n        }\n\n        function likeGallery(gallery) {\n            var defer = $q.defer();\n\n            isLiked(gallery)\n                .then(function (resp) {\n                    void 0;\n                    var promise = '';\n\n                    if (resp) {\n                        void 0;\n                        promise = removeLike(gallery);\n                        addActivity({\n                            galleryId: gallery,\n                            action: 'unlike like'\n                        });\n\n                    } else {\n                        void 0;\n                        promise = addLike(gallery);\n                        addActivity({\n                            galleryId: gallery,\n                            action: 'add like'\n                        });\n                    }\n\n                    promise\n                        .then(function (resp) {\n                            void 0;\n                            defer.resolve(resp);\n                        });\n\n                })\n                .catch(function (err) {\n                    void 0;\n\n                    addActivity({\n                        galleryId: gallery,\n                        action: 'add like'\n                    });\n\n                    addLike(gallery)\n                        .then(function (resp) {\n                            void 0;\n                            defer.resolve(resp);\n                        });\n                });\n            return defer.promise;\n        }\n\n        function getUserGalleryQtd(userId) {\n            var defer = $q.defer();\n            if (userId === undefined) {\n                userId = Parse.User.current().id;\n            }\n\n            User\n                .find(userId)\n                .then(function (user) {\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', user)\n                        .count()\n                        .then(function (qtdGalleries) {\n                            defer.resolve(qtdGalleries);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function getUserGallery(userId, page) {\n            var defer = $q.defer();\n            var data  = [];\n            var limit = 9;\n\n            if (userId === undefined) {\n                userId = Parse.User.current().id;\n            }\n\n            User\n                .find(userId)\n                .then(function (user) {\n\n                    new Parse\n                        .Query('Gallery')\n                        .equalTo('user', user)\n                        .descending('createdAt')\n                        .include('user')\n                        .limit(limit)\n                        .skip(page * limit)\n                        .find()\n                        .then(function (resp) {\n\n                            if (resp.length) {\n                                var cb = _.after(resp.length, function () {\n                                    defer.resolve(data);\n                                });\n\n                                _.each(resp, function (item) {\n\n                                    var likes    = item.relation('likes');\n                                    var comments = item.relation('comments');\n\n                                    likes\n                                        .query()\n                                        .equalTo('gallery', item)\n                                        .equalTo('user', Parse.User.current())\n                                        .count()\n                                        .then(function (liked) {\n\n                                            likes\n                                                .query()\n                                                .count()\n                                                .then(function (likes) {\n\n                                                    comments\n                                                        .query()\n                                                        .include('commentBy')\n                                                        .descending('createdAt')\n                                                        .limit(limitComment)\n                                                        .find()\n                                                        .then(function (comments) {\n                                                            var commentsData = [];\n\n                                                            angular.forEach(comments, function (item) {\n                                                                var comment        = {\n                                                                    id: item.id,\n                                                                    text: item.attributes.text,\n                                                                    user: item.attributes.commentBy.attributes\n                                                                };\n                                                                comment.userAvatar = User.avatar(comment.user);\n                                                                commentsData.push(comment);\n                                                            });\n\n                                                            var obj        = {\n                                                                id: item.id,\n                                                                item: item.attributes,\n                                                                src: item.attributes.img.url(),\n                                                                created: item.createdAt,\n                                                                likes: likes,\n                                                                liked: liked,\n                                                                comments: commentsData,\n                                                                user: item.attributes.user.attributes\n                                                            };\n                                                            obj.userAvatar = User.avatar(obj.user);\n\n                                                            data.push(obj);\n                                                            cb();\n                                                        });\n                                                });\n                                        });\n\n                                });\n                            } else {\n                                defer.reject(true);\n                            }\n                        }, function () {\n                            defer.reject(true);\n                        });\n                });\n\n            return defer.promise;\n        }\n\n        function listActivity(page) {\n            var defer = $q.defer();\n            var limit = 20;\n\n            void 0;\n\n\n            new Parse\n                .Query('GalleryActivity')\n                .include('user')\n                .include('gallery')\n                .descending('createdAt')\n                .limit(limit)\n                .skip(page * limit)\n                .find()\n                .then(function (resp) {\n                    if (resp.length) {\n                        var data = [];\n                        resp.map(function (item) {\n                            var obj        = {\n                                id: item.id,\n                                user: item.attributes.user ? item.attributes.user.attributes : {\n                                    name: 'Nulled',\n                                    img: {\n                                        _url: 'img/user.png'\n                                    }\n                                },\n                                img: item.attributes.gallery ? item.attributes.gallery.attributes.img : null,\n                                action: item.attributes.action,\n                                created: item.attributes.createdAt\n                            };\n                            obj.userAvatar = User.avatar(obj.user)\n                            data.push(obj);\n                        });\n                        defer.resolve(data);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n\n            return defer.promise;\n        }\n\n        function addActivity(data) {\n\n            void 0;\n\n            if (data.galleryId) {\n                find(data.galleryId)\n                    .then(function (gallery) {\n                        var Object = Parse.Object.extend('GalleryActivity');\n                        var item   = new Object({});\n\n                        item.set('user', Parse.User.current());\n                        item.set('gallery', gallery);\n                        item.set('action', data.action);\n\n                        item.save()\n                            .then(function (resp) {\n                                void 0;\n                            });\n                    });\n            } else {\n                var Object = Parse.Object.extend('GalleryActivity');\n                var item   = new Object({});\n\n                item.set('user', Parse.User.current());\n                item.set('action', data.action);\n\n                item.save()\n                    .then(function (resp) {\n                        void 0;\n                    });\n            }\n        }\n\n\n    }\n\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ion-photo', [\n      'ionic',\n      'ngCordova',\n      'jrCrop'\n    ])\n    .constant('config', {\n      path: 'app/component/ion-photo'\n    })\n    .config(configTranslate);\n\n  function configTranslate($translatePartialLoaderProvider, config) {\n    $translatePartialLoaderProvider.addPart(config.path);\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('Video', Video);\n\n  function Video($window, $q) {\n    var deferred = $q.defer();\n    function createFileEntry(fileURI) {\n      $window.resolveLocalFileSystemURL(fileURI, function (entry) {\n        return copyFile(entry);\n      }, fail);\n    }\n\n    function copyFile(fileEntry) {\n      var name = fileEntry.fullPath.substr(fileEntry.fullPath.lastIndexOf('/') + 1);\n      var newName = makeid() + name;\n\n      $window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (fileSystem2) {\n          fileEntry.copyTo(fileSystem2, newName, function (succ) {\n            return onCopySuccess(succ);\n          }, fail);\n        },\n        fail\n      );\n    }\n\n    function onCopySuccess(entry) {\n      var name = entry.nativeURL.slice(0, -4);\n      $window.PKVideoThumbnail.createThumbnail(entry.nativeURL, name + '.png', function (prevSucc) {\n        return prevImageSuccess(prevSucc);\n      }, fail);\n    }\n\n    function prevImageSuccess(succ) {\n      var correctUrl = succ.slice(0, -4);\n      correctUrl += '.MOV';\n      deferred.resolve(correctUrl);\n    }\n\n    function fail(error) {\n      void 0;\n      deferred.reject('ERROR');\n    }\n\n    function makeid() {\n      var text = '';\n      var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      for (var i = 0; i < 5; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      }\n      return text;\n    }\n\n    return {\n      saveVideo: function (data) {\n        createFileEntry(data[0].localURL);\n        return promise;\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('ion-photo')\n        .factory('PhotoService', PhotoService);\n\n    function PhotoService($ionicActionSheet, $translate, AppConfig, PhotogramShare, $jrCrop, $rootScope, $ionicModal,\n                          $cordovaCamera, $cordovaCapture, $q) {\n\n        var tempImage;\n        var cordova = window.cordova;\n        var setting = {\n            jrCrop: true,\n            quality: 90,\n            allowEdit: false,\n            filter: true,\n            correctOrientation: true,\n            targetWidth: 300,\n            targetHeight: 300,\n            saveToPhotoAlbum: false,\n            allowRotation: false,\n            aspectRatio: 0\n        };\n\n        return {\n            open: openModal,\n            crop: cropModal,\n            filter: filterModal,\n            share: shareModal,\n        };\n\n        function openModal(option) {\n            var defer       = $q.defer();\n            var options     = {\n                jrCrop: option.jrCrop ? option.jrCrop : setting.jrCrop,\n                filter: option.filter ? option.filter : setting.filter,\n                quality: option.quality ? option.quality : setting.quality,\n                aspectRatio: option.aspectRatio ? option.aspectRatio : setting.aspectRatio,\n                allowRotation: option.allowRotation ? option.allowRotation : setting.allowRotation,\n                allowEdit: option.allowEdit ? option.allowEdit : setting.allowEdit,\n                correctOrientation: option.correctOrientation ? option.correctOrientation : setting.correctOrientation,\n                targetWidth: option.width ? option.width : setting.targetWidth,\n                targetHeight: option.height ? option.height : setting.targetHeight,\n                saveToPhotoAlbum: option.saveToPhotoAlbum ? option.saveToPhotoAlbum : setting.saveToPhotoAlbum,\n                destinationType: window.cordova ? Camera.DestinationType.DATA_URL : null,\n                encodingType: window.cordova ? Camera.EncodingType.JPEG : null,\n                popoverOptions: window.cordova ? CameraPopoverOptions : null,\n            };\n            var buttons     = [{\n                text: '<i class=\"icon ion-ios-camera\"></i>' + $translate.instant('ION-PHOTO.CAMERA')\n            }, {\n                text: '<i class=\"icon ion-images\"></i>' + $translate.instant('ION-PHOTO.GALLERY')\n            },\n            ];\n            var actionSheet = $ionicActionSheet.show({\n                buttons: buttons,\n                titleText: $translate.instant('ION-PHOTO.SHARE'),\n                cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n                cancel: buttonCancel,\n                buttonClicked: buttonClicked\n            });\n\n            function buttonClicked(index) {\n                void 0;\n                actionSheet();\n                capture(index, options)\n                    .then(cropModal)\n                    .then(filterModal)\n                    .then(function (resp) {\n                        void 0;\n                        defer.resolve(resp);\n                    })\n                    .catch(buttonCancel);\n            }\n\n\n            function buttonCancel(resp) {\n                actionSheet(resp);\n            }\n\n            return defer.promise;\n        }\n\n        function cropModal(image) {\n            var defer = $q.defer();\n\n            if (setting.jrCrop) {\n                $jrCrop\n                    .crop({\n                        url: image,\n                        aspectRatio: setting.aspectRatio ? setting.aspectRatio : false,\n                        allowRotation: setting.allowRotation ? setting.allowRotation : false,\n                        width: setting.width ? setting.width : setting.targetWidth,\n                        height: setting.height ? setting.height : setting.targetHeight,\n                        cancelText: $translate.instant('ION-PHOTO.CANCEL'),\n                        chooseText: $translate.instant('ION-PHOTO.CROP')\n                    })\n                    .then(function (canvas) {\n                        defer.resolve(canvas.toDataURL());\n                    })\n                    .catch(defer.reject);\n            } else {\n                defer.resolve(image);\n            }\n            return defer.promise;\n        }\n\n        function shareModal(image) {\n            var template =\n                    '<ion-modal-view class=\"modal-share\"> <ion-header-bar class=\"bar-dark\"> <div class=\"title\">{{ \\'ION-PHOTO.SHARE\\' | translate }}</div> <button class=\"button button-positive\" ng-click=\"modal.hide()\"> <i class=\"icon ion-arrow-right-b\"></i> </button> </ion-header-bar> <ion-content ng-cloak> <div id=\"image\"> <img ng-src=\"{{form.photo}}\"> <div class=\"title\">{{ form.title }}</div></div> <ul class=\"list\"> <li class=\"padding\"> <button ng-repeat=\"social in sociais\" ng-click=\"share(form, social)\"class=\"button button-block button-{{ social }}\"><i class=\"icon ion-social-{{ social }}\"></i>{{ social | uppercase }} </button> </li> </ul> </ion-content> </ion-modal-view>';\n\n            if (image === undefined) return false;\n            var scope   = $rootScope.$new(true);\n            var socials = [\n                'facebook',\n                'instagram',\n                'whatsapp',\n                'twitter'\n            ];\n\n            scope.sociais = socials;\n            scope.share   = shareSocial;\n            scope.form    = {\n                title: '',\n                photo: image\n            };\n\n            scope.modal = $ionicModal.fromTemplate(template, {\n                scope: scope\n            });\n            scope.modal.show();\n\n\n            function shareSocial(social, form) {\n                void 0;\n                PhotogramShare\n                    .share(social, {\n                        text: form.title,\n                        image: form.photo,\n                        link: AppConfig.app.url\n                    });\n            }\n\n\n        }\n\n        function filterModal(image) {\n            var defer = $q.defer();\n\n            function openFilter(image) {\n                var templateFilter =\n                        '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-light\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\" ng-click=\"cropImage()\"></button><div class=\"title\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-icon \" ng-click=\"submitFilter()\"><i class=\"icon ion-ios-arrow-thin-right\"></i></button></ion-header-bar><ion-content><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n                var scope          = $rootScope.$new(true);\n                scope.closeFilter  = closeFilter;\n                scope.submitFilter = submitFilter;\n                tempImage          = image;\n                scope.form         = {\n                    photo: image\n                };\n\n                scope.modalFilter = $ionicModal.fromTemplate(templateFilter, {\n                    scope: scope\n                });\n\n                scope.cropImage = function () {\n                    scope.modalFilter.remove();\n                    cropModal(tempImage)\n                        .then(openFilter);\n                };\n\n                scope.modalFilter.show();\n\n                function closeFilter() {\n                    defer.reject();\n                    scope.modalFilter.hide();\n                }\n\n                function submitFilter() {\n                    var canvas  = window.document.getElementById('image');\n                    var dataUrl = canvas.toDataURL();\n                    scope.modalFilter.remove();\n                    defer.resolve(dataUrl);\n                }\n\n            }\n\n            openFilter(image);\n\n            return defer.promise;\n        }\n\n\n        function capture(type, options) {\n            var defer = $q.defer();\n\n            if (type === 0) {\n                getPicture(0);\n            }\n\n            if (type === 1) {\n                getPicture(1);\n            }\n\n            if (type === 2) {\n                getVideo();\n            }\n\n            function getPicture(method) {\n                if (method === 0 && cordova) options.sourceType = Camera.PictureSourceType.CAMERA;\n                if (method === 1 && cordova) options.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n\n                if (cordova) {\n                    $cordovaCamera\n                        .getPicture(options)\n                        .then(defer.resolve, defer.reject);\n                } else {\n                    var fileInput = angular.element('<input type=\"file\"/>');\n                    fileInput[0].click();\n                    fileInput.on('change', function (evt) {\n                        tempImage     = evt.currentTarget.files[0];\n                        var reader    = new FileReader();\n                        reader.onload = function (evt) {\n                            defer.resolve(evt.target.result);\n                        };\n                        reader.readAsDataURL(tempImage);\n                    });\n                }\n            }\n\n            function getVideo() {\n                $cordovaCapture\n                    .captureVideo({\n                        limit: 1,\n                        duration: 5\n                    })\n                    .then(function (mediaFiles) {\n                        tempImage = mediaFiles[0].fullPath;\n                        defer.resolve(tempImage);\n                    }, defer.reject);\n            }\n\n\n            return defer.promise;\n        }\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .factory('PhotoFilter', PhotoFilter);\n\n  function PhotoFilter($rootScope, $q, $ionicModal) {\n\n    return {\n      load: modalFilter\n    };\n\n    function modalFilter(image, done) {\n      var template =\n        '<ion-modal-view class=\"modal-capture\"><ion-header-bar class=\"bar-light\"><button class=\"button button-clear button-icon ion-ios-arrow-thin-left\"ng-click=\"closeCapture()\"></button><div class=\"title text-left\">{{ \\'ION-PHOTO.FILTERS\\' | translate }}</div><button class=\"button button-clear button-icon ion-ios-arrow-thin-right\"ng-click=\"submitCapture()\"></button></ion-header-bar><ion-content scroll=\"false\"><photo-filter image=\"form.photo\"></photo-filter></ion-content></ion-modal-view>';\n      var image = image.toDataURL();\n\n      var scope = $rootScope.$new(true);\n      scope.closeCapture = closeModalCapture;\n      scope.submitCapture = submitCapture;\n      scope.form = {\n        photo: image\n      };\n\n      scope.modal = $ionicModal.fromTemplate(template, {\n        scope: scope\n      });\n\n      scope.modal.show();\n\n\n      function submitCapture() {\n        var canvas = window.document.getElementById('image');\n        var dataUrl = canvas.toDataURL();\n        void 0;\n        done(dataUrl);\n        closeModalCapture();\n      }\n\n      function closeModalCapture() {\n        scope.modal.hide();\n      }\n\n    }\n\n  }\n})();\n(function () {\n  'use strict';\n\n\n  angular\n    .module('ion-photo')\n    .factory('CamanJs', CamanJsFactory);\n\n  function CamanJsFactory($q) {\n    var Caman = window.Caman;\n    var filters = [\n      'normal',\n      'vintage',\n      'lomo',\n      'clarity',\n      'sinCity',\n      'sunrise',\n      'crossProcess',\n      'orangePeel',\n      'love',\n      'grungy',\n      'jarques',\n      'pinhole',\n      'oldBoot',\n      'glowingSun',\n      'hazyDays',\n      'herMajesty',\n      'nostalgia',\n      'hemingway',\n      'concentrate'\n    ];\n\n    return {\n      filters: filters,\n      effect: filter,\n      reset: resetEffect\n    };\n\n    function filter(elem, effect, status) {\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      if (image) {\n        Caman(image, function () {\n          if (effect === 'normal') {\n            this.revert();\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n          if (effect in this) {\n            this[effect]();\n\n            if (status) {\n              this.revert();\n            }\n            this.render(function () {\n              defer.resolve(effect);\n            });\n          }\n\n        });\n      } else {\n        defer.reject();\n      }\n      return defer.promise;\n    }\n\n    function resetEffect(elem) {\n\n      var defer = $q.defer();\n      var image = window.document.getElementById(elem);\n\n      Caman(image, function () {\n        this.revert();\n        defer.resolve(true);\n      });\n\n      return defer.promise;\n    }\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilter', photoFilter);\n\n  function photoFilter(config, CamanJs) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.html',\n      link: function ($scope, elem) {\n        $scope.applyFilter = function (elem, effect) {\n          $scope.loading = true;\n          if (effect) {\n            CamanJs\n              .effect(elem, effect, true)\n              .then(function (resp) {\n                $scope.loading = false;\n              });\n          }\n        };\n      }\n    };\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('photoFilterCarousel', photoFilterCarousel);\n\n  function photoFilterCarousel(CamanJs, config) {\n    return {\n      restrict: 'E',\n      scope: {\n        image: '=',\n        apply: '='\n      },\n      templateUrl: config.path + '/view/photo.filter.carousel.html',\n      link: function ($scope) {\n        $scope.filters = CamanJs.filters;\n        $scope.applyFilter = $scope.apply;\n      }\n    };\n  }\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-photo')\n        .directive('photoShare', photoShareDirective);\n\n    function photoShareDirective($state, AppConfig, $rootScope, Photogram, $ionicModal, Loading,\n                                 PhotogramSetting, PhotoService) {\n        return {\n            restrict: 'A',\n            link: photoShareLink,\n            template: ''\n        };\n\n        function photoShareLink(scope, elem, attr) {\n            var path = AppConfig.path;\n\n            elem.bind('click', open)\n\n            function open() {\n                void 0;\n                var option = {\n                    crop: PhotogramSetting.get('imageCrop'),\n                    allowEdit: PhotogramSetting.get('imageEdit'),\n                    filter: true,\n                    allowRotation: PhotogramSetting.get('imageRotation'),\n                    quality: PhotogramSetting.get('imageQuality'),\n                    correctOrientation: PhotogramSetting.get('imageEdit'),\n                    targetWidth: PhotogramSetting.get('imageWidth'),\n                    targetHeight: PhotogramSetting.get('imageHeight'),\n                    saveToPhotoAlbum: PhotogramSetting.get('imageSaveAlbum')\n                };\n                void 0;\n\n                PhotoService\n                    .open(option)\n                    .then(modalPost)\n                    .catch(goHome);\n            }\n\n\n            function goHome() {\n                void 0;\n                $state.go('photogram.home');\n            }\n\n            function modalPost(image) {\n                $scope.closePost  = closeModalPost;\n                $scope.submitPost = submitPost;\n                $scope.form       = {\n                    title: '',\n                    location: '',\n                    photo: image,\n                    geo: false\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/module/share/photogram.post.modal.html', {\n                        scope: $scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        $scope.form.photo = image;\n                        $scope.modalPost  = modal;\n                        $scope.modalPost.show();\n                    });\n\n                function closeModalPost() {\n                    $scope.modalPost.hide();\n                    $scope.modalPost.remove();\n                    Loading.end();\n                }\n\n                function submitPost(resp) {\n                    var form = angular.copy(resp);\n                    void 0;\n                    Loading.start();\n                    Photogram\n                        .post(form)\n                        .then(function () {\n                            closeModalPost();\n                            $rootScope.$emit('filterModal:close');\n                            $rootScope.$emit('PhotogramHome:reload');\n                        });\n                }\n            }\n        }\n\n    }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('ionCrop', ionCrop);\n\n  function ionCrop($jrCrop, $translate, $ionicActionSheet) {\n\n    return {\n      restrict: 'A',\n      scope: {\n        ngModel: '=',\n        option: '=',\n        cropSave: '&'\n      },\n      template: '<div><input type=\"file\" id=\"browseBtn\" image=\"image\" accept=\"image/*\" style=\"display: none\"/></div>',\n      link: ionCropLink\n    };\n\n    function ionCropLink($scope, element) {\n\n      $scope.action = action;\n      element.bind('click', getElem);\n      $scope.crop = crop;\n      angular.element(document.getElementById('browseBtn'))\n        .on('change', fileUpload);\n\n\n      function getElem() {\n        document.getElementById('browseBtn')\n          .click();\n      }\n\n      function action() {\n\n        $ionicActionSheet.show({\n          buttons: [{\n            text: '<i class=\"icon ion-camera\"></i>' + ('Photo Camera')\n          }, {\n            text: '<i class=\"icon ion-images\"></i> ' + ('Photo Album')\n          }],\n          titleText: ('Change Image'),\n          cancelText: ('Cancel'),\n          cancel: function () {\n          },\n          buttonClicked: function (index) {\n\n            if (index === 0) {\n              void 0;\n            }\n            if (index === 1) {\n              document.getElementById('browseBtn')\n                .click();\n            }\n            return true;\n          }\n        });\n\n      }\n\n      function fileUpload(e) {\n\n        var file = e.target.files[0];\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function (event) {\n          var image = event.target.result;\n          $scope.crop(image);\n        };\n\n        angular.element(document.getElementById('browseBtn')).val('');\n\n      }\n\n      function crop(image) {\n\n        void 0;\n\n        $jrCrop\n          .crop({\n            url: image,\n            width: $scope.option ? $scope.option.width : 200,\n            height: $scope.option ? $scope.option.height : 200,\n            cancelText: ('Cancel'),\n            chooseText: ('Save')\n          })\n          .then(function (canvas) {\n            var image = canvas.toDataURL();\n\n\n\n            void 0;\n            $scope.ngModel = image;\n\n\n          });\n\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-photo')\n    .directive('caman', camanDirective);\n\n  function camanDirective(CamanJs, $timeout) {\n    return {\n      restrict: 'A',\n      scope: {\n        name: '=',\n        image: '=',\n        filter: '=',\n        loading: '='\n      },\n      template: '<img ng-src=\"{{ image }}\" id=\"{{ name }}\">',\n      link: camanDirectiveLink\n    };\n\n    function camanDirectiveLink($scope) {\n      $scope.loading = true;\n      $timeout(function () {\n        CamanJs\n          .effect($scope.name, $scope.filter)\n          .then(function () {\n            $scope.loading = false;\n          });\n      }, 500);\n    }\n  }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.loading', [])\n        .config(configRoutes);\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('router', {\n                url: '/',\n                templateUrl: 'app/module/loading/loading.html',\n                controller: 'LoadingCtrl',\n                controllerAs: 'vm'\n            });\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.loading')\n        .controller('LoadingCtrl', LoadingController);\n\n    function LoadingController($rootScope, AppConfig, $state) {\n        var user = $rootScope.currentUser;\n        var intro = window.localStorage['intro'];\n\n        if (intro != 'true') {\n            $state.go('intro', {clear: true});\n        } else {\n            if (user) {\n                void 0;\n                if (user.name) {\n                    $state.go(AppConfig.routes.home, {\n                        clear: true\n                    });\n                } else {\n                    $state.go('user.avatar', {\n                        clear: true\n                    });\n                }\n            } else {\n                $state.go(AppConfig.routes.login, {\n                    clear: true\n                });\n            }\n        }\n\n\n    }\n\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.intro')\n        .controller('IntroCtrl', IntroCtrl);\n\n    function IntroCtrl($ionicSlideBoxDelegate, $translate) {\n        var vm              = this;\n        var currentPlatform = window.ionic.Platform.platform();\n        vm.slideIndex       = 0;\n        vm.slideChanged     = slideChanged;\n        vm.next             = function () {\n            $ionicSlideBoxDelegate.next();\n        };\n        vm.previous         = function () {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n\n        if (currentPlatform) {\n            vm.device = (currentPlatform === 'android') ? 'android' : 'iphone';\n        } else {\n            vm.device = 'android';\n        }\n\n        void 0;\n        vm.slides = [{\n            top: $translate.instant('INTRO.STEP1'),\n            img: 'img/intro1.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP2'),\n            img: 'img/intro2.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP3'),\n            img: 'img/intro3.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP4'),\n            img: 'img/intro4.jpg'\n        }, {\n            top: $translate.instant('INTRO.STEP5'),\n            img: 'img/intro5.jpg'\n        }\n\n        ];\n\n        function slideChanged(index) {\n            vm.slideIndex = index;\n        }\n\n        window.localStorage['intro'] = true;\n\n    }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ngParse', []);\n})();\n(function () {\n    'use strict';\n\n    angular\n        .module('ngParse')\n        .factory('Parse', Parse);\n\n\n    function Parse($window) {\n        var parse       = $window.Parse;\n        parse.transform = transform;\n        parse.count = count;\n        parse.paginate = paginate;\n        return parse;\n    }\n\n    function count(model) {\n        var defer = $q.defer();\n        new Parse\n            .Query(model)\n            .count()\n            .then(function (resp) {\n                defer.resolve(resp);\n            });\n        return defer.promise;\n    }\n\n    function paginate(model, options) {\n        var defer = $q.defer();\n\n        var query = new Parse.Query(model);\n        query.skip(options.pageNumber);\n        query.limit(options.pageSize);\n\n        if (options.sort) {\n            var sort = options.sort;\n            if (sort.order === 'asc') {\n                query.ascending(options.sort.field);\n            } else {\n                query.descending(options.sort.field);\n            }\n        }\n        query.find()\n             .then(function (resp) {\n                 var data = {\n                     results: [],\n                     total: 0\n                 };\n                 resp.map(function (item) {\n                     var obj = item.attributes;\n                     obj.id  = item.id;\n                     data.results.push(obj);\n                 });\n\n                 count(model)\n                     .then(function (count) {\n                         data.total = count;\n                         defer.resolve(data);\n                     });\n             });\n\n\n        return defer.promise;\n    }\n\n    function transform(resp) {\n        var data = [];\n        resp.map(function (item) {\n            var obj = item.attributes;\n            obj.id  = item;\n            data.push(obj);\n        });\n        return data;\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseImageService', ParseImageServiceFactory);\n\n  function ParseImageServiceFactory($window) {\n    return {\n      all: _all,\n      save: _save,\n      get: _get,\n      delete: _delete,\n      imageSettings: imageSettings,\n      saveImageSettings: saveImageSettings\n    };\n\n    function _all() {\n      var query = new Parse.Query('ImageInfo');\n      query.descending('createdAt');\n      return query.find();\n    }\n\n    function _delete(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId)\n        .then(function (_data) {\n          return _data.destroy();\n        });\n    }\n\n    function _get(_objectId) {\n      var query = new Parse.Query('ImageInfo');\n      return query.get(_objectId);\n    }\n\n    function _save(_params) {\n      var ImageObject = Parse.Object.extend('Gallery');\n\n\n      if (_params.photo !== '') {\n\n        void 0;\n\n        var imageFile = new Parse.File('mypic.jpg', {\n          base64: _params.photo\n        });\n\n\n        return imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            var imageObject = new ImageObject();\n\n            imageObject.set('title', _params.title);\n            imageObject.set('img', imageFile);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('thumbBase64', _params.thumbBase64);\n            imageObject.set('location', new Parse.GeoPoint(_params.coords.latitude, _params.coords.longitude));\n\n            return imageObject.save();\n\n\n          }, function (error) {\n            void 0;\n            void 0;\n          });\n\n      } else {\n        var imageObject = new ImageObject();\n\n        imageObject.set('caption', _params.caption);\n\n        return imageObject.save();\n\n      }\n    }\n\n    function imageSettings() {\n      var savedData = $window.localStorage.getItem('application.image.props') || null;\n      return (savedData !== null ? JSON.parse(savedData) : {\n        quality: 50,\n        dimensions: 250,\n        saveToAlbum: false\n      });\n    }\n\n    function saveImageSettings(_settings) {\n      $window.localStorage.setItem('application.image.props', JSON.stringify(_settings));\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngParse')\n    .factory('ParseFile', ParseFileFactory);\n\n\n  function ParseFileFactory($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(_params) {\n      var defer = $q.defer();\n      var ImageObject = Parse.Object.extend(_params.object || 'Gallery');\n\n      if (_params.photo !== '') {\n\n        var imageFile = new Parse.File(_params.filename || 'mypic.jpg', {\n          base64: _params.photo\n        });\n\n        imageFile\n          .save()\n          .then(function () {\n\n            _params.photo = null;\n\n            var imageObject = new ImageObject();\n\n            imageObject.set('title', _params.title);\n            imageObject.set('user', Parse.User.current());\n            imageObject.set('img', imageFile);\n\n            if (_params.geo !== undefined) {\n              imageObject.set(_params.geo.class || 'location', new Parse.GeoPoint(_params.geo.lat, _params.geo.lng));\n            }\n\n            imageObject\n              .save()\n              .then(defer.resolve);\n\n          }, defer.reject);\n\n      } else {\n        var imageObject = new ImageObject();\n\n        imageObject.set('caption', _params.caption);\n\n        return imageObject.save();\n\n      }\n\n\n      return defer.promise;\n    }\n\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ngCache', ['angular-cache'])\n    .config(cacheConfig)\n    .factory('Cache', Cache);\n\n  function cacheConfig(CacheFactoryProvider) {\n    angular.extend(CacheFactoryProvider.defaults, {\n      maxAge: 15 * 60 * 1000\n    });\n  }\n\n  function Cache(CacheFactory) {\n\n    return {\n      model: model,\n      data: data\n    };\n\n    function model(model, options) {\n      if (!CacheFactory.get(model)) {\n        CacheFactory.createCache(model, {\n          deleteOnExpire: options.deleteOnExpire || 'aggressive',\n          recycleFreq: options.recycleFreq || 60000,\n          storageMode: options.mode || 'localStorage'\n        });\n      }\n\n      return CacheFactory.get(model);\n    }\n\n    function data(modelName, keys) {\n      var cache = model(modelName);\n      var keys = cache.keys();\n      var data = [];\n      keys.map(function (key) {\n        data.push(cache.get(key));\n      });\n\n      return data;\n    }\n\n\n  }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ion-location', [\n      'ionic'\n    ]);\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-location')\n    .directive('ionLocation', ionLocation);\n\n  function ionLocation($ionicModal, GeoService) {\n    return {\n      restrict: 'A',\n      scope: {\n        location: '='\n      },\n      link: ionLocationLink\n    };\n\n    function ionLocationLink($scope, element) {\n\n      function init() {\n        $scope.search = {};\n        $scope.search.suggestions = [];\n        $scope.search.query = '';\n      }\n\n\n      function selectPlace(place_id) {\n        GeoService\n          .getDetails(place_id)\n          .then(function (location) {\n\n            void 0;\n\n            var address = GeoService\n              .parseAddress(location);\n\n            $scope.location = {\n              number: address.number,\n              street: address.street,\n              district: address.district,\n              city: address.city,\n              state: address.state,\n              country: address.country,\n              zipcode: address.zipcode,\n              coords: address.geo,\n              image: address.image,\n              resume: address.resume\n            };\n\n            void 0;\n            $scope.closeModalLocation();\n          });\n      }\n\n      element.bind('focus', function () {\n        init();\n        void 0;\n\n        $scope.findMe = findMe;\n        $scope.choosePlace = choosePlace;\n\n\n        $scope.modalLocation = $ionicModal.fromTemplate('<ion-modal-view>' +\n          '<ion-header-bar class=\"bar bar-positive item-input-inset\">' +\n          '<button class=\"button button-clear button-icon ion-pinpoint\" ng-click=\"findMe()\"></button>' +\n          '<label class=\"item-input-wrapper\">' +\n          '<input type=\"search\" ng-model=\"search.query\" placeholder=\"{{ \\'Search\\' | translate }}\"></label>' +\n          '<button class=\"button button-clear button-icon ion-ios-close-empty\" ng-click=\"closeModalLocation()\"></button>' +\n          '</ion-header-bar>' +\n          '<ion-content padding=\"false\">' +\n          '<ion-list>' +\n          '<ion-item ng-repeat=\"suggestion in search.suggestions\" ng-click=\"choosePlace(suggestion)\" ng-bind=\"suggestion.description\"></ion-item>' +\n          '<ion-item class=\"item-divider\"><img src=\"https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png\"alt=\"\"/></ion-item>' +\n          '</ion-list>' +\n          '</ion-content>' +\n          '</ion-modal-view>', {\n            scope: $scope,\n            focusFirstInput: true\n          }\n        );\n\n        $scope.modalLocation.show();\n\n        $scope.closeModalLocation = function () {\n          $scope.modalLocation.hide();\n          $scope.modalLocation.remove();\n        };\n\n        GeoService\n          .searchAddress('São Paulo')\n          .then(function (result) {\n            void 0;\n            $scope.search.suggestions = result;\n          });\n\n\n        $scope.$watch('search.query', function (newValue) {\n          if (newValue) {\n            GeoService\n              .searchAddress(newValue)\n              .then(function (result) {\n                void 0;\n                $scope.search.suggestions = result;\n              });\n          }\n        });\n\n\n        function findMe() {\n          GeoService\n            .findMe()\n            .then(function (location) {\n              void 0;\n\n              selectPlace(location.results[0].place_id);\n\n            });\n        }\n\n        function choosePlace(place) {\n          selectPlace(place.place_id);\n\n        }\n\n      });\n\n    }\n  }\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-location')\n        .factory('GeoService', GeoService);\n\n    function GeoService($http, $window, $cordovaGeolocation, $ionicPopup,  $timeout, $q) {\n\n        var options             = {\n            types: ['geocode']\n        };\n        var autocompleteService = new $window.google.maps.places.AutocompleteService();\n        var detailsService      = new $window.google.maps.places.PlacesService($window.document.createElement('input'),\n            options);\n        var componentForm       = {\n            street_number: 'long_name',\n            route: 'long_name',\n            locality: 'long_name',\n            sublocality: 'long_name',\n            neighborhood: 'long_name',\n            political: 'long_name',\n            administrative_area_level_1: 'long_name',\n            country: 'long_name',\n            postal_code: 'long_name' \n        };\n        var componentFormName   = {\n            street_number: 'number',\n            route: 'street',\n            locality: 'city',\n            administrative_area_level_1: 'state',\n            country: 'country',\n            postal_code: 'zipcode',\n            neighborhood: 'district' \n        };\n\n        var data = {\n            coords: {},\n            src: ''\n        };\n\n\n        return {\n            src: src,\n            getDetails: getDetails,\n            searchAddress: searchAddress,\n            parseAddress: parseAddress,\n            findMe: findMe\n        };\n\n        function getLocation() {\n            var defer = $q.defer();\n\n            if (data.location) {\n                $timeout(function () {\n                    defer.resolve(data.location);\n                }, 1000);\n            } else {\n                var posOptions = {\n                    timeout: 10000,\n                    enableHighAccuracy: false\n                };\n                $cordovaGeolocation\n                    .getCurrentPosition(posOptions)\n                    .then(function (position) {\n                        data.location = {\n                            latitude: position.coords.latitude,\n                            longitude: position.coords.longitude\n                        };\n                        defer.resolve(data.location);\n                    }, function (err) {\n                        $ionicPopup.alert({\n                            title: 'Geo Error',\n                            template: err.message\n                        });\n                        defer.reject(err);\n                    });\n            }\n\n\n            return defer.promise;\n        }\n\n\n        function findMe() {\n            var defer = $q.defer();\n\n            getLocation()\n                .then(function (pos) {\n                    void 0;\n                    getGoogleAddress(pos.latitude, pos.longitude)\n                        .success(function (resp) {\n                            resp.geolocation = pos;\n                            void 0;\n                            defer.resolve(resp);\n                        })\n                        .error(logErr);\n                });\n            return defer.promise;\n        }\n\n\n        function logErr(error) {\n            void 0;\n        }\n\n        function getGoogleAddress(lat, lng) {\n            return $http.get('http://maps.google.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&sensor=true')\n                        .success(function (data) {\n                            data.address_normal = data.results[0].formatted_address;\n                            data.address        = address(data.results[0].address_components);\n                            data.src            = imagem(lat, lng, 18, 500, 300);\n                        });\n        }\n\n        function address(data) {\n            if (!data) {\n                return false;\n            } else {\n                return {\n                    numero: data[0].short_name,\n                    rua: data[1].long_name,\n                    bairro: data[2].short_name,\n                    cidade: data[3].short_name,\n                    estado: data[5].long_name,\n                    uf: data[5].short_name,\n                    pais: data[6].long_name,\n                    paisCode: data[6].short_name,\n                    cep: data[7].short_name\n                };\n            }\n\n        }\n\n        function imagem(lat, lng, zoom, w, h) {\n            return 'http://maps.google.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom + '&size=' +\n                w + 'x' + h + '&maptype=roadmap&sensor=true';\n        }\n\n        function parseAddress(place) {\n            void 0;\n            var address = {\n                resume: '',\n                geo: {\n                    latitude: place.geometry.location.H,\n                    longitude: place.geometry.location.L\n                }\n            };\n            var image   = src(address.geo.latitude, address.geo.longitude, 16, 900, 200);\n\n            for (var i = 0; i < place.address_components.length; i++) {\n                var addressType = place.address_components[i].types[0];\n                if (componentForm[addressType]) {\n                    var val                                 = place.address_components[i][componentForm[addressType]];\n                    address[componentFormName[addressType]] = val;\n                }\n            }\n            address.street = address.street + ', ' + address.number;\n            address.image  = image;\n            address.resume = address.street + ' - ' + address.city + ', ' + address.state + ', ' + address.country;\n            return address;\n        }\n\n        function searchAddress(input) {\n            var deferred = $q.defer();\n            autocompleteService.getQueryPredictions({\n                input: input\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function getDetails(placeId) {\n            var deferred = $q.defer();\n            detailsService.getDetails({\n                placeId: placeId\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function src(lat, lng, zoom, w, h) {\n            void 0;\n\n            var link = 'http://maps.googleapis.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom +\n                '&scale=1&size=' + w + 'x' + h +\n                '&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C' + lat +\n                ',' + lng + '&sensor=true';\n            void 0;\n            return link;\n        }\n\n    }\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ionic-loading', ['ionic'])\n    .run(runLoading);\n\n  function runLoading($rootScope, $ionicLoading) {\n    $rootScope.$on('ionicLoading:true', function (text) {\n      $rootScope.loading = true;\n      $ionicLoading.show(text);\n    });\n    $rootScope.$on('ionicLoading:false', function () {\n      $rootScope.loading = false;\n      $ionicLoading.hide();\n    });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .directive('ionLoading', ionLoading);\n\n  function ionLoading() {\n    return {\n      restrict: 'E',\n      scope: {\n        icon: '@',\n        loading: '='\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-loading')\n    .factory('Loading', Loading);\n\n  function Loading($rootScope, $timeout) {\n    var seconds = 0;\n\n    return {\n      start: showLoading,\n      end: hideLoading,\n    };\n\n\n    function showLoading(text) {\n      $rootScope.$broadcast('ionicLoading:true', text);\n    }\n\n    function hideLoading() {\n      $timeout(function () {\n        $rootScope.$broadcast('ionicLoading:false');\n      }, parseInt(seconds + '000'));\n    }\n  }\n})();\n(function () {\n    'use strict';\n\n    var path = 'app/component/ion-language';\n\n        angular\n        .module('ion-language', [\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale' \n        ])\n        .config(configLanguage);\n\n\n\n    function configLanguage($translatePartialLoaderProvider, $translateProvider, AppConfig, tmhDynamicLocaleProvider) {\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.useSanitizeValueStrategy(null);\n\n        $translateProvider.useMissingTranslationHandlerLog();\n        $translateProvider.useLocalStorage(); \n        tmhDynamicLocaleProvider.localeLocationPattern('../bower_components/angular-i18n/angular-locale_{{locale}}.js');\n\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n\n        if (searchLang) {\n            language = AppConfig.locales.filter(function  (item) {\n                return language == item.code\n            })[0].code;\n        }\n        $translateProvider.preferredLanguage(language);\n        moment.locale(language);\n\n        $translatePartialLoaderProvider.addPart(path);\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n\n    var path = 'app/component/ion-language';\n\n    angular\n        .module('ion-language')\n        .directive('ionLanguage', ionLanguageDirective);\n\n    function ionLanguageDirective(AppConfig, $translate, $timeout, Loading, $ionicModal) {\n        return {\n            restrict: 'E',\n            link: modalLanguageLink,\n            templateUrl: path + '/ion-language.html'\n        };\n\n        function modalLanguageLink(scope, elem, attr) {\n\n\n            scope.languages = AppConfig.locales;\n            scope.language  = scope.languages.filter(function (item) {\n                return item.code === $translate.use()\n            })[0];\n\n            void 0;\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n\n                scope.closeModal = function () {\n                    scope.modal.hide();\n                };\n\n\n                scope.searchValue = '';\n\n                scope.selectLanguage = function (language) {\n                    void 0;\n                    $translate.use(language.code);\n                    moment.locale(language.code);\n                    scope.language = language;\n                    Loading.start();\n                    scope.closeModal();\n                    $timeout(function () {\n                        Loading.end();\n                    }, 1000);\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/modal-language.html', {\n                        scope: scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n\n                    });\n            }\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n\n  var default_config = {\n    color: '#1D5ECE',\n    bgcolor: '#eaeaea',\n    semi: false,\n    rounded: false,\n    clockwise: true,\n    radius: '15',\n    stroke: '5',\n    max: 100,\n    iterations: 50,\n    animation: 'easeOutCubic',\n    interval: 200,\n    showProgressCircleInBrowser: true,\n    showProgressCircleInDevice: true\n  };\n\n\n  angular\n    .module('ionic-cache-src', [\n      'ionic',\n      'angular-svg-round-progressbar',\n      'ngCordova',\n      'ngStorage'\n    ])\n    .provider('$cacheSrc', $cacheSrc);\n\n  function $cacheSrc() {\n    this.config = default_config;\n    this.set = function (obj, val) {\n      var t = typeof obj;\n      if (t === 'object') {\n        angular.extend(this.config, obj);\n      } else if (t == 'string') {\n        this.config[obj] = val;\n      }\n      return this;\n    };\n\n    this.$get = function () {\n      return this.config;\n    };\n  }\n\n\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .factory('cacheSrcStorage', cacheSrcStorage);\n\n  function cacheSrcStorage($localStorage) {\n    var c = {};\n    c._cache = $localStorage.cache_src;\n    c.get = function (url) {\n      return c._cache[url] && (getCacheDir() + c._cache[url]);\n    };\n    c.set = function (url, localUrl) {\n      c._cache[url] = localUrl;\n      return c;\n    };\n    return c;\n  }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ionic-cache-src')\n    .directive('cacheSrc', cacheSrc);\n\n  function cacheSrc($ionicPlatform, $interval, $compile, $cacheSrc, $cordovaFileTransfer, $localStorage) {\n    return {\n      restrict: 'A',\n      scope: {\n        'onProgress': '=?',\n        'onFinish': '=?',\n        'onError': '=?'\n      },\n      link: function (scope, element, attrs) {\n\n        function id() {\n          var text = \"\";\n          var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n          for (var i = 0; i < 16; i++)\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n          return text;\n        };\n\n        function makeProgressCircle($scope, $compile) {\n          return angular.element($compile(\n            '<div style=\"text-align:{{textAlign}}\"><div round-progress  max=\"max\"  current=\"progress\"  color=\"{{color}}\" bgcolor=\"{{bgcolor}}\"  radius=\"{{radius}}\"  stroke=\"{{stroke}}\"  rounded=\"rounded\" clockwise=\"clockwise\" iterations=\"{{iterations}}\"  animation=\"{{animation}}\"></div></div>'\n          )($scope));\n        };\n\n        function startsWith(str, arr) {\n          for (var i = 0; i < arr.length; i++) {\n            var sub_str = arr[i];\n            if (str.indexOf(sub_str) === 0) {\n              return true;\n            }\n          }\n          return false;\n        };\n\n\n        function needDownload(path) {\n          if (startsWith(path, [\n              'http://',\n              'https://',\n              'ftp://'\n            ])) {\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        function attrToScope(scope, attrs) {\n          scope.progress = 0;\n          scope.max = 100;\n          scope.radius = attrs.radius;\n          scope.stroke = attrs.stroke;\n          scope.animation = attrs.animation;\n          scope.clockwise = attrs.clockwise;\n          scope.color = attrs.color;\n          scope.bgcolor = attrs.bgcolor;\n          scope.rounded = attrs.rounded;\n          scope.iterations = attrs.iterations;\n          scope.textAlign = 'center';\n        }\n\n        var isIOS = ionic.Platform.isIOS();\n        var isAndroid = ionic.Platform.isAndroid();\n\n        if (window.cordova & isIOS || isAndroid) {\n\n          var progress_circle;\n          var display;\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          scope.onError = scope.onError || function () {};\n          var cache = $localStorage.cache_src = $localStorage.cache_src || {};\n          var finish = function (result) {\n            if (config.showProgressCircleInDevice) {\n              element.css('display', display);\n              progress_circle.remove();\n            }\n            addSrc(result);\n          };\n\n          var addSrc = function (result) {\n            element[0][config.srcIs || 'src'] = result;\n            scope.onFinish(result);\n          };\n\n\n          attrs.$observe('cacheSrc',\n            function () {\n              if (attrs.cacheSrc) {\n                if (needDownload(attrs.cacheSrc)) {\n                  if (cache[attrs.cacheSrc]) {\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        addSrc(getCacheDir() + cache[attrs.cacheSrc]);\n                      });\n                  } else {\n                    if (config.showProgressCircleInDevice) {\n                      progress_circle = makeProgressCircle(scope, $compile);\n                      display = element.css('display');\n                      element.css('display', 'none');\n                      element.after(progress_circle);\n                    }\n                    $ionicPlatform\n                      .ready()\n                      .then(function () {\n                        var ext = '.' + attrs.cacheSrc.split('.').pop();\n                        var fileName = id() + ext;\n                        $cordovaFileTransfer\n                          .download(attrs.cacheSrc, getCacheDir() + fileName, {}, true)\n                          .then(function (result) {\n                            cache[attrs.cacheSrc] = fileName;\n                            finish(getCacheDir() + fileName);\n                          }, scope.onError, function (progress) {\n                            scope.progress = (progress.loaded / progress.total) * 100;\n                            scope.onProgress(scope.progress);\n                          });\n                      });\n                  }\n                } else {\n                  addSrc(attrs.cacheSrc);\n                }\n              }\n            });\n        } else {\n          var progress_circle = makeProgressCircle(scope, $compile);\n          var config = {};\n          angular.extend(config, $cacheSrc);\n          angular.extend(config, attrs);\n          attrToScope(scope, config);\n          scope.onProgress = scope.onProgress || function () {};\n          scope.onFinish = scope.onFinish || function () {};\n          attrs.$observe('cacheSrc', function () {\n            if (attrs.cacheSrc) {\n              if (needDownload(attrs.cacheSrc)) {\n                if (config.showProgressCircleInBrowser) {\n                  var display = element.css('display');\n                  element.css('display', 'none');\n                  element\n                    .after(progress_circle);\n                }\n                var promise = $interval(function () {\n                  scope.progress += 10;\n                  scope.onProgress(scope.progress);\n                  if (scope.progress == 100) {\n                    $interval.cancel(promise);\n                    if (config.showProgressCircleInBrowser) {\n                      element.css('display', display);\n                      progress_circle.remove();\n                    }\n                    element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                    scope.onFinish(attrs.cacheSrc);\n                  }\n                }, config.interval);\n              } else {\n                element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                scope.onFinish(attrs.cacheSrc);\n              }\n            }\n          });\n        }\n\n      }\n    };\n  }\n\n  function getCacheDir() {\n    switch (window.device.platform) {\n    case 'iOS':\n      return cordova.file.documentsDirectory;\n    case 'Android':\n      return cordova.file.dataDirectory;\n    }\n    return '';\n  }\n})();\n(function () {\n    'use strict';\n\n        var pt_br = window.moment.defineLocale('pt', {\n        months: 'Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split(\n            '_'),\n        monthsShort: 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays: 'Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado'.split('_'),\n        weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\n        weekdaysMin: 'Dom_2ª_3ª_4ª_5ª_6ª_Sáb'.split('_'),\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY [às] HH:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\n        },\n        calendar: {\n            sameDay: '[Hoje às] LT',\n            nextDay: '[Amanhã às] LT',\n            nextWeek: 'dddd [às] LT',\n            lastDay: '[Ontem às] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[Último] dddd [às] LT' : \n                    '[Última] dddd [às] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: 'em %s',\n            past: '%s atrás',\n            s: 'segs',\n            m: 'um minuto',\n            mm: '%d minutos',\n            h: 'uma hora',\n            hh: '%d horas',\n            d: 'um dia',\n            dd: '%d dias',\n            M: 'um mês',\n            MM: '%d meses',\n            y: 'um ano',\n            yy: '%d anos'\n        },\n        ordinalParse: /\\d{1,2}º/,\n        ordinal: '%dº'\n    });\n\n    return pt_br;\n})();\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function ($provide) {\n  var PLURAL_CATEGORY = {\n    ZERO: \"zero\",\n    ONE: \"one\",\n    TWO: \"two\",\n    FEW: \"few\",\n    MANY: \"many\",\n    OTHER: \"other\"\n  };\n  $provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n      \"AMPMS\": [\n        \"AM\",\n        \"PM\"\n      ],\n      \"DAY\": [\n        \"domingo\",\n        \"segunda-feira\",\n        \"ter\\u00e7a-feira\",\n        \"quarta-feira\",\n        \"quinta-feira\",\n        \"sexta-feira\",\n        \"s\\u00e1bado\"\n      ],\n      \"ERANAMES\": [\n        \"Antes de Cristo\",\n        \"Ano do Senhor\"\n      ],\n      \"ERAS\": [\n        \"a.C.\",\n        \"d.C.\"\n      ],\n      \"FIRSTDAYOFWEEK\": 6,\n      \"MONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"SHORTDAY\": [\n        \"dom\",\n        \"seg\",\n        \"ter\",\n        \"qua\",\n        \"qui\",\n        \"sex\",\n        \"s\\u00e1b\"\n      ],\n      \"SHORTMONTH\": [\n        \"jan\",\n        \"fev\",\n        \"mar\",\n        \"abr\",\n        \"mai\",\n        \"jun\",\n        \"jul\",\n        \"ago\",\n        \"set\",\n        \"out\",\n        \"nov\",\n        \"dez\"\n      ],\n      \"STANDALONEMONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"WEEKENDRANGE\": [\n        5,\n        6\n      ],\n      \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n      \"longDate\": \"d 'de' MMMM 'de' y\",\n      \"medium\": \"d 'de' MMM 'de' y HH:mm:ss\",\n      \"mediumDate\": \"d 'de' MMM 'de' y\",\n      \"mediumTime\": \"HH:mm:ss\",\n      \"short\": \"dd/MM/yy HH:mm\",\n      \"shortDate\": \"dd/MM/yy\",\n      \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n      \"CURRENCY_SYM\": \"R$\",\n      \"DECIMAL_SEP\": \",\",\n      \"GROUP_SEP\": \".\",\n      \"PATTERNS\": [{\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 3,\n        \"minFrac\": 0,\n        \"minInt\": 1,\n        \"negPre\": \"-\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\",\n        \"posSuf\": \"\"\n      }, {\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 2,\n        \"minFrac\": 2,\n        \"minInt\": 1,\n        \"negPre\": \"-\\u00a4\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\\u00a4\",\n        \"posSuf\": \"\"\n      }]\n    },\n    \"id\": \"pt-br\",\n    \"pluralCat\": function (n, opt_precision) {\n      if (n >= 0 && n <= 2 && n != 2) {\n        return PLURAL_CATEGORY.ONE;\n      }\n      return PLURAL_CATEGORY.OTHER;\n    }\n  });\n}]);\n\n(function (i, s, o, g, r, a, m) {\n  i['GoogleAnalyticsObject'] = r;\n  i[r] = i[r] || function () {\n    (i[r].q = i[r].q || [])\n    .push(arguments)\n  }, i[r].l = 1 * new Date();\n  a = s.createElement(o),\n    m = s.getElementsByTagName(o)[0];\n  a.async = 1;\n  a.src = g;\n  m.parentNode.insertBefore(a, m)\n})(window, document, 'script', 'http://www.google-analytics.com/analytics.js', 'ga');\nga('create', 'UA-53950213-5', {\n  'cookieDomain': 'none'\n});\n(function () {\n    'use strict';\n    angular\n        .module('ionic')\n        .constant('AppConfig', AppConfig());\n\n    function AppConfig() {\n        return {\n            path: 'app/module/photogram',\n            app: {\n                name: 'Photogram',\n                url: 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes: {\n                home: 'photogram.home',\n                login: 'user.intro'\n            },\n            color: '#00796B',\n            facebook: '1024016557617380',\n            parse: {\n                appId: 'myAppId',\n                server: 'https://photogramserver.herokuapp.com/parse/'\n            },\n            locales: [\n                {\n                    translation: 'LANG.PORTUGUES',\n                    code: 'pt'\n                },\n                {\n                    translation: 'LANG.ENGLISH',\n                    code: 'en'\n                },\n                {\n                    translation: 'LANG.TURKISH',\n                    code: 'tr'\n                },\n                {\n                    translation: 'LANG.PERSIAN',\n                    code: 'fa'\n                },\n                {\n                    translation: 'LANG.GERMAN',\n                    code: 'de'\n                }\n            ],\n            preferredLocale: 'en'\n        };\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('starter', [\n            'ionic',\n            'ionic-cache-src',\n            'formlyIonic',\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale', \n            'angularMoment',\n            'ngFacebook',\n            'uiGmapgoogle-maps',\n            'angular-cache',\n            'ngParse',\n            'ngCordova',\n            'ionic.components',\n            'app.loading',\n            'app.intro',\n            'app.user',\n            'app.photogram',\n        ]);\n\n})();\n\n(function () {\n    'use strict';\n\n    var cordova = window.cordova;\n    angular\n        .module('starter')\n        .run(startParse)\n        .run(runIonic)\n        .run(runFacebook)\n        .config(configCompile)\n        .config(configFacebook)\n        .config(configIonic);\n\n\n    function configCompile($compileProvider) {\n        $compileProvider.debugInfoEnabled(false);\n    }\n\n    function startParse(AppConfig) {\n        window.Parse.initialize(AppConfig.parse.appId);\n        window.Parse.serverURL = AppConfig.parse.server;\n    }\n\n    function runIonic($ionicPlatform, $cacheSrc, AppConfig, $cordovaStatusbar, $timeout,\n                      $cordovaSplashscreen, PhotogramSetting, User) {\n\n        $cacheSrc.color   = AppConfig.color;\n        $cacheSrc.bgcolor = '#ddd';\n        $cacheSrc.rounded = true;\n        $cacheSrc.radius  = 50;\n\n        User.init();\n        PhotogramSetting.init();\n\n        $ionicPlatform.ready(function () {\n\n            if (cordova) {\n                $timeout(function () {\n                    $cordovaSplashscreen.hide();\n                    $cordovaStatusbar.overlaysWebView(true);\n                    $cordovaStatusbar.style(0);\n                    $cordovaStatusbar.styleHex(AppConfig.color);\n                    $cordovaStatusbar.show();\n                }, 500);\n            }\n\n        });\n\n\n    }\n\n    function configIonic($ionicConfigProvider) {\n        $ionicConfigProvider.backButton.text(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.platform.android.tabs.position('bottom');\n        $ionicConfigProvider.platform.android.tabs.style('standard');\n        $ionicConfigProvider.views.maxCache(1);\n    }\n\n    function configFacebook($facebookProvider, AppConfig) {\n        $facebookProvider.setAppId(AppConfig.facebook);\n        $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n    }\n\n    function runFacebook() {\n\n        if (!window.cordova) {\n            var LangVar     = window.navigator.language || window.navigator.userLanguage;\n            var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n            (function (d, s, id) {\n                var js, fjs = d.getElementsByTagName(s)[0];\n                if (d.getElementById(id)) return;\n                js     = d.createElement(s);\n                js.id  = id;\n                js.src = \"//connect.facebook.net/\" + userLangVar + \"/sdk.js\";\n                fjs.parentNode.insertBefore(js, fjs);\n            }(document, 'script', 'facebook-jssdk'));\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n  var path = 'app/module/photogram/module/share';\n  angular\n    .module('app.share', []);\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.home', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/home';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n            .state('photogram.home', {\n                url: '/home',\n                views: {\n                    tabHome: {\n                        controller: 'PhotogramHomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/home.html'\n                    }\n                }\n            });\n\n    }\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.direct', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/direct';\n\n    function configRoutes($stateProvider) {\n\n\n        $stateProvider\n            .state('photogram.direct', {\n                url: '/direct',\n                views: {\n                    tabHome: {\n                        controller: 'DirectHomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: path + '/direct.home.html'\n                    }\n                }\n            });\n    }\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('account-friend-list', []);\n\n    })();\n(function () {\n    'use strict';\n    angular\n        .module('app.account', [])\n        .config(configRoutes);\n\n    var path = 'app/module/photogram/module/account';\n\n    function configRoutes($stateProvider) {\n        $stateProvider\n\n\n            .state('photogram.account', {\n                url: '/account',\n                views: {\n                    tabProfile: {\n                        controller: 'PhotogramAccountCtrl',\n                        controllerAs: 'vm',\n                        templateUrl: 'app/module/photogram/module/account/account.html'\n                    }\n                }\n            });\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('ion-notify', ['ionic'])\n    .factory('Notify', Notify);\n\n  function Notify($ionicPopup) {\n\n    return {\n      alert: alert,\n      confirm: confirm\n    };\n\n    function alert(params) {\n      return $ionicPopup.alert({\n        title: params.title,\n        template: params.text\n      });\n    }\n\n    function confirm(title, msg) {\n      return $ionicPopup.confirm({\n        title: title,\n        template: msg\n      });\n    }\n  }\n\n\n})();\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-href', [])\n        .directive('href', openTermsDirective);\n\n    function openTermsDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            template: '',\n            link: function (scope, elem, attr) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var href = attr.href;\n\n                    if (window.cordova) {\n                        window.cordova.ThemeableBrowser.open(href, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#000',\n                                showPageTitle: true\n                            },\n                            backButtonCanClose: true\n                        })\n                        ;\n                    } else {\n                        window.open(href);\n                    }\n\n                    return false;\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('ionic.components', [\n      'ionic',\n      'ionic-loading',\n      'ion-language',\n      'ion-href',\n      'ion-photo',\n      'ion-location',\n      'ion-notify',\n      'ngCache',\n      'ngParse',\n    ]);\n})();\n\nangular.module(\"starter\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/component/ion-language/ion-language.html\",\"<button class=\\\"button button-block button-clear button-light button-language\\\">{{language.translation | translate}} <i \\nclass=\\\"icon ion-chevron-down\\\"></i></button>\");\n$templateCache.put(\"app/component/ion-language/modal-language.html\",\"<ion-modal-view><ion-header-bar><h1 class=\\\"title\\\" translate=\\\"LANG.TITLE\\\"></h1><a ng-click=\\\"closeModal()\\\" \\nclass=\\\"button button-icon icon ion-close\\\"></a></ion-header-bar><div \\nclass=\\\"bar bar-subheader item-input-inset bar-stable\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"search\\\" placeholder=\\\"{{\\'LANG.SEARCH\\' | translate}}\\\" \\nng-model=\\\"searchValue\\\"></label><button type=\\\"button\\\" class=\\\"button button-clear\\\" ng-show=\\\"searchValue.length\\\" \\nng-click=\\\"searchValue=\\'\\'\\\">Clear</button></div><ion-content class=\\\"has-subheader has-header\\\"><ion-list><ion-item \\nclass=\\\"item\\\" ng-click=\\\"selectLanguage(item)\\\" ng-repeat=\\\"item in languages | filter:searchValue\\\" \\nng-bind-html=\\\"item.translation | translate\\\"></ion-item></ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/intro/intro.html\",\"<ion-view class=\\\"view-intro bg-animate\\\" can-swipe-back=\\\"false\\\"><ion-content scroll=\\\"false\\\"><div class=\\\"intro-slider\\\">\\n<ion-slide-box active-slide=\\\"slideIndex\\\" show-pager=\\\"true\\\" on-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide \\nng-repeat=\\\"item in vm.slides track by $index\\\"><div class=\\\"content\\\" ng-if=\\\"$index == vm.slideIndex\\\"><span class=\\\"top\\\">\\n<h2>{{ item.top }}</h2></span><div class=\\\"phone {{ vm.device }}\\\"><img ng-src=\\\"{{ item.img }}\\\"></div></div></ion-slide>\\n<ion-slide><div class=\\\"content\\\" ng-if=\\\"vm.slides.length == vm.slideIndex\\\"><div class=\\\"last\\\"><div class=\\\"logo2 step1\\\">\\n<img src=\\\"img/icon.png\\\"> <span class=\\\"icon2-logo\\\"></span></div><button class=\\\"button button-block button-clear step2\\\" \\nui-sref=\\\"user.intro\\\" translate=\\\"INTRO.BUTTON.ENTER\\\"></button></div></div></ion-slide></ion-slide-box></div><button \\nclass=\\\"button button-positive button-fab left\\\" ng-if=\\\"vm.slideIndex\\\" ng-click=\\\"vm.previous()\\\"><i \\nclass=\\\"icon ion-ios-arrow-left\\\"></i></button> <button class=\\\"button button-positive button-fab right\\\" \\nng-hide=\\\"vm.slideIndex === vm.slides.length\\\" ng-click=\\\"vm.next()\\\"><i class=\\\"icon ion-ios-arrow-right\\\"></i></button>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/loading/loading.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/component/ion-photo/view/modal.share.photo.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><div class=\\\"title\\\">{{ ::\\'Share\\' | translate }}\\n</div><button class=\\\"button button-positive\\\" ng-click=\\\"modal.hide()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button>\\n</ion-header-bar><ion-content ng-cloak><div id=\\\"image\\\"><img ng-src=\\\"{{ ::form.photo}}\\\"><div class=\\\"title\\\">\\n{{ ::form.title }}</div></div><ul class=\\\"list\\\"><li class=\\\"padding\\\"><button ng-repeat=\\\"social in sociais\\\" \\nng-click=\\\"share(form, social)\\\" class=\\\"button button-block button-{{ social }}\\\"><i class=\\\"icon ion-social-{{ social }}\\\">\\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.carousel.html\",\"<div class=\\\"wide-as-needed\\\"><a ng-repeat=\\\"filter in filters\\\" ng-click=\\\"applyFilter(\\'image\\', filter)\\\"><div caman \\nimage=\\\"image\\\" name=\\\"filter\\\" filter=\\\"filter\\\" class=\\\"image\\\" loading=\\\"loading\\\" ng-class=\\\"{disabled: loading}\\\"></div>\\n<ion-spinner ng-if=\\\"loading\\\"></ion-spinner><p>{{ ::filter }}</p></a></div>\");\n$templateCache.put(\"app/component/ion-photo/view/photo.filter.html\",\"<div class=\\\"capture-photo\\\"><div caman filter=\\\"\\'normal\\'\\\" loading=\\\"loadingMaster\\\" class=\\\"image\\\" \\nng-class=\\\"{disabled: loadingMaster}\\\" name=\\\"\\'image\\'\\\" image=\\\"image\\\"></div><ion-spinner ng-show=\\\"loadingMaster\\\">\\n</ion-spinner></div><photo-filter-carousel apply=\\\"applyFilter\\\" image=\\\"image\\\"></photo-filter-carousel>\");\n$templateCache.put(\"app/module/photogram/directive/comment/photogram.comment.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n<span translate=\\\"PHOTOGRAM.COMMENT.TITLE\\\"></span>({{ ::comments.length }})</div></ion-header-bar><ion-content>\\n<photogram-loading loading=\\\"loading\\\" icon=\\\"android\\\"></photogram-loading><ion-list class=\\\"list\\\" \\nng-show=\\\"comments.length\\\" can-swipe=\\\"true\\\"><ion-item ng-repeat=\\\"item in comments\\\" class=\\\"item item-avatar\\\"><img \\nng-src=\\\"{{ ::item.userAvatar }}\\\"><div class=\\\"row\\\"><h2>{{ ::item.user.attributes.name }}</h2><div>{{ ::item.text }}\\n</div></div><div class=\\\"row\\\"><p>{{ ::item.created | amTimeAgo }}</p></div><div ng-if=\\\"item.user.id === currentUser.id\\\">\\n<ion-option-button class=\\\"button-info\\\" ng-click=\\\"editComment(item)\\\" translate=\\\"PHOTOGRAM.BUTTON.EDIT\\\">Edit\\n</ion-option-button><ion-option-button class=\\\"button-assertive\\\" ng-click=\\\"deleteComment(item)\\\" \\ntranslate=\\\"PHOTOGRAM.BUTTON.REMOVE\\\">Remove</ion-option-button></div></ion-item></ion-list><div class=\\\"center-ico\\\" \\nng-if=\\\"nocomments\\\"><i class=\\\"icon ion-ios-chatbubble-outline\\\"></i><h1 translate=\\\"PHOTOGRAM.COMMENT.NO_COMMENTS\\\">\\nNo Comments</h1></div></ion-content><ion-footer class=\\\"step2\\\"><div class=\\\"form\\\"><formly-form model=\\\"form\\\" \\nfields=\\\"formFields\\\" form=\\\"rForm\\\"><button class=\\\"button button-positive\\\" type=\\\"button\\\" \\nng-click=\\\"submitComment(rForm, form)\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button></formly-form></div></ion-footer>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/feedback/feedback-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"FEEDBACK.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitFeedback()\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><formly-form model=\\\"form\\\" form=\\\"rForm\\\" \\nfields=\\\"formFields\\\"></formly-form></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/follow/photogram.follow.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\nFollow Users</div></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-avatar item-button-right\\\" \\nng-repeat=\\\"item in data\\\"><img ng-src=\\\"{{ ::item.src }}\\\"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \\nclass=\\\"button\\\" ng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i \\nclass=\\\"icon\\\" ng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/like/photogram.like.directive.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Likes\\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class=\\\"list step1\\\"><div \\nng-repeat=\\\"item in likes\\\" class=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ ::item.user.img }}\\\"><h2>\\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \\nclass=\\\"button button-positive button-outline\\\"><i class=\\\"icon ion-ios-plus-empty\\\"></i> {{ ::\\'Follow\\' }}</button></div>\\n</div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/photogrid/photo-grid.html\",\"<div class=\\\"center-ico\\\" ng-if=\\\"data.total==0\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 translate=\\\"HOME.TITLE.NO_PHOTO\\\">\\n</h1></div><ion-refresher ng-if=\\\"!loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"loading\\\"></photogram-loading><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data.galleries\\\">\\n<div class=\\\"col col-33 item-animate1\\\" ng-if=\\\"$index < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data.galleries[$index].user\\\" ng-src=\\\"{{ ::data.galleries[$index].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 1 < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data.galleries[$index + 1].user\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 1].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 1].src}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33 item-animate1\\\" \\nng-if=\\\"$index + 2 < data.galleries.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data.galleries[$index + 2].user\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 2].src}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nng-src=\\\"{{ ::data.galleries[$index + 2].src}}\\\" width=\\\"100%\\\"></div></div><ion-infinite-scroll \\nng-if=\\\"data.galleries.length<data.total\\\" on-infinite=\\\"loadMore()\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/module/photogram/directive/photolist/photo.list.html\",\"<div class=\\\"center-ico\\\" ng-if=\\\"data.total==0\\\"><i class=\\\"icon ion-ios-camera\\\"></i><h1 translate=\\\"HOME.TITLE.NO_PHOTO\\\">\\n</h1></div><ion-refresher ng-if=\\\"!loading\\\" on-refresh=\\\"loadMore(true)\\\"></ion-refresher><photogram-loading \\nloading=\\\"loading\\\"></photogram-loading><div class=\\\"list card animated fadeIn\\\" \\nng-repeat=\\\"gallery in data.galleries track by gallery.id\\\"><div class=\\\"item item-avatar\\\" ion-affix \\ndata-affix-within-parent-with-class=\\\"card\\\" profile-modal user=\\\"gallery.user\\\"><img ng-if=\\\"profile\\\" \\nprofile=\\\"{{ ::gallery.user.id }}\\\" ng-src=\\\"{{ ::gallery.user.attributes.img._url}}\\\"> <img \\nng-src=\\\"{{ ::gallery.userAvatar}}\\\"><h2>{{ ::gallery.user.attributes.name}}</h2><p>\\n{{ :: gallery.user.attributes.status }}</p><span>{{ ::gallery.created | amTimeAgo}}</span></div><div \\nclass=\\\"item item-body\\\" on-double-tap=\\\"like(gallery)\\\" ng-model=\\\"gallery\\\"><div class=\\\"icon ion-ios-heart heart\\\" \\nng-class=\\\"gallery.liked ? \\'happy\\' : \\'broken\\' \\\"></div><i class=\\\"icon\\\" ng-if=\\\"like\\\"></i> <img \\ncache-src=\\\"{{ ::gallery.src}}\\\" id=\\\"{{ ::gallery.id}}\\\"></div><div class=\\\"item item-buttons\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col col-75\\\"><ion-spinner ng-show=\\\"gallery.progress\\\"></ion-spinner><button photogram-like ng-model=\\\"gallery\\\" \\nng-if=\\\"!gallery.progress\\\" ng-class=\\\"gallery.liked ? \\'ion-ios-heart\\' : \\'ion-ios-heart-outline\\' \\\" \\nclass=\\\"button-clear button-icon button-heart\\\"></button> <button photogram-comment ng-model=\\\"gallery\\\" \\nclass=\\\"button-clear button-icon ion-ios-chatbubble-outline\\\"></button> <button ng-click=\\\"action(gallery)\\\" \\nphotogram=\\\"{{ :: gallery.id }}\\\" class=\\\"button-clear button-icon ion-android-share\\\"></button></div><div \\nclass=\\\"col text-right\\\"><button ng-click=\\\"action(gallery)\\\" photogram=\\\"{{ :: gallery.id }}\\\" \\nclass=\\\"button-clear button-icon ion-android-more-vertical\\\"></button></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"likes\\\" photogram-like photogram=\\\"{{ :: gallery }}\\\"><i class=\\\"icon ion-ios-heart\\\"></i> <span \\nng-if=\\\"!gallery.progress\\\">{{ :: gallery.likes }}</span> <span translate=\\\"PHOTOGRAM.LIKES\\\"></span></span><div \\nclass=\\\"list-comments\\\"><div class=\\\"comment-item\\\" profile-modal user=\\\"gallery.user\\\"><span class=\\\"username\\\">\\n{{ :: gallery.user.attributes.name }}</span> <span class=\\\"comment\\\">{{ :: gallery.item.title }}</span></div><div \\nclass=\\\"comment-item\\\" profile-modal user=\\\"item.user\\\" ng-repeat=\\\"item in gallery.comments| limitTo:3 track by item.id\\\">\\n<span class=\\\"username\\\">{{ :: item.user.attributes.name }}</span> <span class=\\\"comment\\\">{{ :: item.text }}</span></div>\\n<a class=\\\"comment-item\\\" photogram-comment ng-model=\\\"gallery\\\" ng-if=\\\"gallery.comments.length>3\\\">Ver todos os comentários\\n</a></div><button class=\\\"button button-block button-clear button-comment\\\" photogram-comment ng-model=\\\"gallery\\\"><span \\ntranslate=\\\"PHOTOGRAM.BUTTON.COMMENT_ADD\\\"></span></button></div></div><ion-infinite-scroll \\nng-if=\\\"data.galleries.length<data.total\\\" on-infinite=\\\"loadMore()\\\"></ion-infinite-scroll>\");\n$templateCache.put(\"app/module/photogram/directive/profile-edit-modal/profile-edit-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Edit Profile\\' | translate }}</div></ion-header-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div \\nclass=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-src=\\\"{{ form.facebookimg || form.img._url || \\'img/user.png\\' }}\\\"></div>\\n</div><div class=\\\"step2\\\"><label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input \\ntype=\\\"text\\\" ng-model=\\\"form.email\\\" disabled=\\\"disabled\\\"></label><formly-form model=\\\"form\\\" fields=\\\"formFields\\\" \\nform=\\\"rForm\\\"></formly-form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"linkFacebook()\\\" \\nng-disabled=\\\"form.facebook\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span \\ntranslate=\\\"PHOTOGRAM.BUTTON.FACEBOOK_LINK\\\"></span></button> <button class=\\\"button button-block button-positive\\\" \\nng-click=\\\"submitUpdateProfile()\\\" translate=\\\"PHOTOGRAM.BUTTON.SAVE_PROFILE\\\"></button></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/profile-modal/profile-modal.html\",\"<ion-modal-view id=\\\"account-view\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.attributes.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ avatar}}\\\"></div><div class=\\\"col col-statics\\\"><div \\nclass=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ user.qtdPhotos }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">\\nPosts</h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowers\\\"></photogram-loading><span \\nng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">{{ user.qtdFollowers }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollowing\\\">\\n</photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">{{ user.qtdFollowing }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\">\\n<photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading><button ng-if=\\\"!loadingFollow\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.follow, \\'button-follow\\': !user.follow}\\\" ng-click=\\\"follow()\\\" class=\\\"button\\\"><span \\nng-show=\\\"!user.follow\\\" translate>Follow</span> <span ng-show=\\\"user.follow\\\" translate>Following</span></button></div>\\n</div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ user.attributes.name }}</span><p \\nclass=\\\"user-status\\\">{{ user.attributes.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button \\nclass=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: tab.grid}\\\" ng-click=\\\"changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: tab.list}\\\" ng-click=\\\"changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><photogram-loading loading=\\\"loading\\\"></photogram-loading><div class=\\\"tab\\\" \\nng-if=\\\"tab.list\\\"><photogram-photo-list user=\\\"user.id\\\"></photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"tab.grid\\\">\\n<photogram-photo-grid user=\\\"user.id\\\"></photogram-photo-grid></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/directive/search/search-directive.html\",\"<label class=\\\"item item-input\\\"><i class=\\\"icon ion-search placeholder-icon\\\"></i> <input type=\\\"search\\\" ng-model=\\\"input\\\" \\nplaceholder=\\\"{{\\'SEARCH.FORM.INPUT\\' | translate }}\\\"> <button class=\\\"button button-icon\\\" ng-if=\\\"input.length\\\" \\nng-click=\\\"clearSearch()\\\"><i class=\\\"icon ion-close\\\"></i></button></label>\");\n$templateCache.put(\"app/module/photogram/directive/settings-modal/settings-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"PHOTOGRAM.SETTING.TITLE\\\"></div></ion-header-bar><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"list\\\">\\n<ion-language></ion-language><ion-toggle class=\\\"toggle-positive\\\" ng-model=\\\"form.push\\\"><h3><small \\ntranslate=\\\"PHOTOGRAM.SETTING.NOTIFICATION\\\"></small></h3><p ng-if=\\\"!setting_preview\\\" translate=\\\"PHOTOGRAM.BUTTON.OFF\\\">\\n</p><p ng-if=\\\"setting_preview\\\" translate=\\\"PHOTOGRAM.BUTTON.ON\\\"></p></ion-toggle><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S\\')\\\"><h3><small \\ntranslate=\\\"PHOTOGRAM.BUTTON.BUY\\\"></small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item \\nclass=\\\"item-icon-right\\\" ng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.HELP\\\">\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_PRIVACY\\\"></small></h3><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" \\nng-click=\\\"openLink(\\'http://photogramapp.com\\')\\\"><h3><small translate=\\\"PHOTOGRAM.BUTTON.TERM_SERVICE\\\">Terms of Service\\n</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i></ion-item><ion-item class=\\\"item-icon-right\\\" ng-click=\\\"show();\\\">\\n<h3><small translate=\\\"PHOTOGRAM.BUTTON.REPORT\\\">Report a Problem</small></h3><i class=\\\"icon ion-ios-arrow-right\\\"></i>\\n</ion-item></div><div class=\\\"padding\\\"><button ng-click=\\\"link(\\'logout\\')\\\" class=\\\"button button-block button-positive\\\" \\ntranslat=\\\"USER.BUTTON.LOGOUT\\\">Logout</button></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/account/account.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-title><h1 class=\\\"title\\\">{{ ::currentUser.name }}</h1>\\n</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button settings-modal class=\\\"button button-icon icon ion-gear-a\\\">\\n</button></ion-nav-buttons><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col-25\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ currentUser.facebookimg || currentUser.img._url || \\'img/user.png\\' }}\\\"></div><div class=\\\"col col-statics\\\">\\n<div class=\\\"row\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingPhotos\\\"></photogram-loading><span \\nng-if=\\\"!loadingPhotos\\\" class=\\\"text-center\\\">{{ ::vm.user.qtdPhotos }}</span><h3 \\ntranslate=\\\"PHOTOGRAM.PROFILE.TITLE.POST\\\">Posts</h3></div><div class=\\\"col\\\"><photogram-loading \\nloading=\\\"loadingFollowers\\\"></photogram-loading><span ng-if=\\\"!loadingFollowers\\\" class=\\\"text-center\\\">\\n{{ ::vm.user.qtdFollowers }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWER\\\"></h3></div><div class=\\\"col\\\">\\n<photogram-loading loading=\\\"loadingFollowing\\\"></photogram-loading><span ng-if=\\\"!loadingFollowing\\\" class=\\\"text-center\\\">\\n{{ ::vm.user.qtdFollowing }}</span><h3 translate=\\\"PHOTOGRAM.PROFILE.TITLE.FOLLOWING\\\">Followings</h3></div></div><div \\nclass=\\\"row col-edit\\\"><div class=\\\"col\\\"><button profile-modal-edit class=\\\"button\\\"><div \\ntranslate=\\\"PHOTOGRAM.BUTTON.PROFILE_EDIT\\\"></div></button></div></div></div></div><div class=\\\"padding\\\"><span \\nclass=\\\"user-username\\\">{{ ::currentUser.name }}</span><p class=\\\"user-status\\\">{{ ::currentUser.status }}</p></div></div>\\n<div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-grid\\\" \\nng-class=\\\"{active: vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> \\n<button class=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"PHOTOGRAM.MSG.RECENT\\\">Recent</div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.list\\\"><photogram-photo-list user=\\\"vm.user\\\">\\n</photogram-photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.grid\\\"><photogram-photo-grid user=\\\"vm.user\\\">\\n</photogram-photo-grid></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/account-friend-list/account-friend-list.html\",\"<ion-view><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/activity/activity.html\",\"<ion-view cache-view=\\\"false\\\" class=\\\"photogram-activity\\\"><ion-nav-title><h1 class=\\\"title\\\" translate=\\\"ACTIVITY.TITLE\\\">\\n</h1></ion-nav-title><ion-content><photogram-loading loading=\\\"vm.loading\\\"></photogram-loading><div class=\\\"list\\\"><div \\nclass=\\\"item item-avatar item-animate1\\\" ng-repeat=\\\"item in vm.data track by item.id\\\"><img \\nng-src=\\\"{{ item.userAvatar }}\\\"><h2>{{ ::item.user.name }}</h2><div class=\\\"text\\\">{{ ::item.action | translate }}</div>\\n<p>{{ ::item.created | amTimeAgo }}</p><div class=\\\"img-right\\\" ng-if=\\\"item.img\\\"><img ng-src=\\\"{{ ::item.img._url }}\\\">\\n</div></div></div><ion-infinite-scroll ng-if=\\\"!vm.loading && !vm.empty\\\" on-infinite=\\\"vm.load()\\\"></ion-infinite-scroll>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct/direct.home.html\",\"<ion-view><ion-nav-title translate=\\\"DIRECT.TITLE\\\"></ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button \\nclass=\\\"button button-icon ion-ios-plus-empty\\\" ui-sref=\\\"photogram.direct\\\"></button></ion-nav-buttons><ion-content>\\n<ion-list><ion-item class=\\\"item-avatar\\\" ng-repeat=\\\"item in vm.data\\\" ui-sref=\\\"photogram.message({channelId: item.id})\\\">\\n<img ng-src=\\\"{{item.user.src}}\\\" alt=\\\"\\\"><h2>{{ item.user.name}}</h2><p>{{ item.msg }}</p></ion-item></ion-list>\\n</ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/direct-message/direct-message.html\",\"<ion-view id=\\\"userMessagesView\\\" cache-view=\\\"false\\\" view-title=\\\"Messages\\\"><div class=\\\"loader-center\\\" \\nng-if=\\\"!vm.doneLoading\\\"><div class=\\\"loader\\\"><i class=\\\"icon ion-loading-c\\\"></i></div></div><ion-content \\nhas-bouncing=\\\"true\\\" class=\\\"has-header has-footer\\\" delegate-handle=\\\"userMessageScroll\\\"><ion-refresher \\npulling-text=\\\"{{\\'DIRECT.BUTTON.PULL\\' | TRANSLATE}}\\\" on-refresh=\\\"vm.doRefresh()\\\"></ion-refresher><div \\nng-repeat=\\\"message in vm.data.messages\\\" class=\\\"message-wrapper\\\" on-hold=\\\"onMessageHold($event, $index, message)\\\"><div \\nng-if=\\\"vm.user.id === message.user.id\\\"><img class=\\\"profile-pic right\\\" ng-src=\\\"{{message.user.src}}\\\"><div \\nclass=\\\"chat-bubble right\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div ng-if=\\\"vm.user.id !== message.user.id\\\"><img class=\\\"profile-pic left\\\" ng-src=\\\"{{message.user.src}}\\\">\\n<div class=\\\"chat-bubble left\\\"><div class=\\\"message\\\" ng-bind-html=\\\"message.body | nl2br\\\" autolinker></div><div \\nclass=\\\"message-detail\\\"><span class=\\\"bold\\\">{{message.user.name}}</span>, <span am-time-ago=\\\"message.date\\\"></span></div>\\n</div></div><div class=\\\"cf\\\"></div></div></ion-content><form name=\\\"sendMessageForm\\\" \\nng-submit=\\\"vm.sendMessage(sendMessageForm, vm.model)\\\" novalidate><ion-footer-bar \\nclass=\\\"bar-stable item-input-inset message-footer\\\" keyboard-attach><label class=\\\"item-input-wrapper\\\"><textarea \\nng-model=\\\"vm.model.text\\\" placeholder=\\\"{{ \\'DIRECT.FORM.PLACEHOLDER\\' | TRANSLATE}}\\\" required minlength=\\\"1\\\" \\nmaxlength=\\\"1500\\\" msd-elastic></textarea></label><div class=\\\"footer-btn-wrap\\\"><button \\nclass=\\\"button button-icon icon ion-android-send footer-btn\\\" type=\\\"submit\\\"></button></div></ion-footer-bar></form>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/home/home.html\",\"<ion-view class=\\\"view-home\\\"><ion-nav-title><span class=\\\"icon2-logo\\\"></span></ion-nav-title><ion-nav-buttons \\nside=\\\"right\\\"><button class=\\\"button button-icon icon-paypal\\\" buy></button></ion-nav-buttons><ion-content>\\n<photogram-photo-list profile=\\\"true\\\" user=\\\"\\\"></photogram-photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/photogram.photo.html\",\"<ion-view view-title=\\\"Photo\\\"><ion-content><div class=\\\"list card step1\\\"><div class=\\\"item item-avatar\\\" \\ndata-affix-within-parent-with-class=\\\"card\\\" ion-affix><img ng-src=\\\"{{vm.data.user.img}}\\\"><h2>{{vm.data.user.name}}</h2>\\n<span>{{vm.data.created | amTimeAgo}}</span></div><div class=\\\"item item-body\\\"><img ng-src=\\\"{{vm.data.img._url}}\\\" \\nstyle=\\\"width: 100%\\\"></div><div class=\\\"padding\\\"><p>{{ vm.data.title }}</p><p><a class=\\\"subdued\\\" href=\\\"#\\\">\\n1 {{ \\'Like\\' | translate}}</a></p></div></div><div class=\\\"list\\\"><div ng-repeat=\\\"item in vm.comments\\\" \\nclass=\\\"item item-avatar\\\"><img ng-src=\\\"{{ item.user.img }}\\\"><h2>{{ item.user.name }}</h2><p>{{ item.text }}</p></div>\\n</div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"rForm\\\"><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-click=\\\"vm.submitComment(rForm, vm.form)\\\" translate>Comment\\n</button></div></formly-form></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/photo/photogram.popover.home.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>Settings</div>\\n<div class=\\\"item\\\" ui-sref=\\\"gallery.settings\\\" translate>About</div></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/module/photogram/module/search/search.html\",\"<ion-view class=\\\"view-search\\\"><ion-nav-title>Search</ion-nav-title><div class=\\\"bar bar-header bar-light\\\"><div \\nclass=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: vm.tab.list}\\\" \\nng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> <button class=\\\"button button-icon icon ion-map\\\" \\nng-class=\\\"{active: vm.tab.map}\\\" ng-click=\\\"vm.changeTab(\\'map\\')\\\"></button></div></div><ion-content scroll=\\\"false\\\">\\n<ion-nav-view></ion-nav-view></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/search-list/search-list.html\",\"<ion-view class=\\\"view-search\\\"><ion-nav-title><ion-search></ion-search></ion-nav-title><ion-nav-buttons side=\\\"right\\\">\\n<button class=\\\"button button-icon ion-person-add\\\" buy></button></ion-nav-buttons><ion-content class=\\\"layout\\\">\\n<photogram-photo-grid profile=\\\"true\\\"></photogram-photo-grid></ion-content></ion-view>\");\n$templateCache.put(\"app/module/photogram/module/search-map/search-map.html\",\"<ion-view class=\\\"view-search\\\"><ion-nav-title>Map</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button \\nclass=\\\"button button-icon ion-pinpoint\\\" ng-click=\\\"vm.findMe()\\\"></button></ion-nav-buttons><ion-content class=\\\"layout\\\" \\nscroll=\\\"false\\\" style=\\\"overflow: hidden !important\\\"><ui-gmap-google-map center=\\\"map.center\\\" zoom=\\\"map.zoom\\\">\\n<ui-gmap-marker idkey=\\\"0\\\" coords=\\\"vm.user\\\"></ui-gmap-marker><ui-gmap-marker click=\\\"vm.openModal(item)\\\" idkey=\\\"item.id\\\" \\ncoords=\\\"item.coords\\\" icon=\\\"item.icon\\\" ng-repeat=\\\"item in vm.data\\\"></ui-gmap-marker></ui-gmap-google-map></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/photogram/module/share/photogram.post.modal.html\",\"<ion-modal-view class=\\\"modal-post\\\"><ion-header-bar class=\\\"bar-light\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closePost()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitPost(form)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div id=\\\"image\\\"><img ng-src=\\\"{{form.photo}}\\\">\\n</div><ul class=\\\"list\\\"><li class=\\\"item\\\"><textarea type=\\\"text\\\" ng-model=\\\"form.title\\\" autofocus \\nplaceholder=\\\"{{ \\'SHARE.FORM.LEGEND\\' | translate }}\\\"></textarea></li><li class=\\\"item item-input\\\" \\nng-show=\\\"form.geo.image\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><li class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></li></ul></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/share/photogram.share.modal.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeShare()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"SHARE.TITLE\\\"></div><button class=\\\"button button-positive\\\" ng-click=\\\"submitShare(form, social)\\\"><i \\nclass=\\\"icon ion-arrow-right-b\\\"></i></button></ion-header-bar><ion-content><div class=\\\"list\\\"><div \\nclass=\\\"item item-thumbnail-left\\\" href=\\\"#\\\"><img ng-src=\\\"{{form.photo}}\\\" id=\\\"image\\\"><textarea type=\\\"text\\\" \\nng-model=\\\"form.title\\\" placeholder=\\\"{{ \\'SHARE.FORM.LEGEND\\'|translate }}\\\"></textarea></div></div><ul class=\\\"list\\\"><li \\nclass=\\\"item item-input\\\"><input type=\\\"text\\\" placeholder=\\\"{{ \\'SHARE.FORM.LOCATION\\' | translate }}\\\" ion-location \\nlocation=\\\"form.geo\\\" ng-model=\\\"form.geo.resume\\\"></li><div class=\\\"item nopadding\\\" ng-show=\\\"form.geo.image\\\"><img \\nng-src=\\\"{{ form.geo.image }}\\\"></div></ul><ul class=\\\"list\\\"><li class=\\\"item item-divider\\\" \\ntranslate=\\\"SHARE.FORM.SHARE_IN\\\"></li><li class=\\\"item item-icon-left item-toggle\\\" ng-repeat=\\\"social in socials\\\"><i \\nclass=\\\"icon ion-social-{{ social.title | lowercase }}\\\"></i> {{ social.title }}<label class=\\\"toggle toggle-positive\\\">\\n<input type=\\\"checkbox\\\" ng-model=\\\"social.checked\\\"><div class=\\\"track\\\"><div class=\\\"handle\\\"></div></div></label></li></ul>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/module/photogram/module/tabs/photogram-tabs.html\",\"<ion-view><ion-nav-bar class=\\\"bar bar-light bar-mop\\\" align-title=\\\"left\\\"><ion-nav-back-button></ion-nav-back-button>\\n</ion-nav-bar><ion-tabs class=\\\"tabs-light tabs-photogram\\\"><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.HOME\\' | translate }}\\\" \\nicon=\\\"ion-android-home\\\" ui-sref=\\\"photogram.home\\\"><ion-nav-view name=\\\"tabHome\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{ ::\\'PHOTOGRAM.TITLE.SEARCH\\' | translate }}\\\" icon=\\\"ion-search\\\" ui-sref=\\\"photogram.search.list\\\"><ion-nav-view \\nname=\\\"tabSearch\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.SHARE\\' | translate }}\\\" \\nicon=\\\"ion-camera\\\" ng-click=\\\"vm.postPhoto()\\\"><ion-nav-view name=\\\"tabCapture\\\"></ion-nav-view></ion-tab><ion-tab \\ntitle=\\\"{{ ::\\'PHOTOGRAM.TITLE.ACTIVITY\\' | translate }}\\\" icon=\\\"ion-heart\\\" ui-sref=\\\"photogram.activity\\\"><ion-nav-view \\nname=\\\"tabActivity\\\"></ion-nav-view></ion-tab><ion-tab title=\\\"{{ ::\\'PHOTOGRAM.TITLE.PROFILE\\' | translate }}\\\" \\nicon=\\\"ion-person\\\" ui-sref=\\\"photogram.account\\\"><ion-nav-view name=\\\"tabProfile\\\"></ion-nav-view></ion-tab></ion-tabs>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/avatar/user.avatar.html\",\"<ion-view title=\\\"{{ \\'USER.AVATAR.TITLE\\' | translate }}\\\"><ion-nav-bar class=\\\"bar bar-positive bar-mop\\\" \\nalign-title=\\\"left\\\"></ion-nav-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img \\nclass=\\\"avatar\\\" user-avatar ng-src=\\\"{{ ::currentUser.img._url || \\'img/user.png\\' }}\\\"></div></div><div class=\\\"step2\\\">\\n<label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"text\\\" \\nng-model=\\\"vm.form.email\\\" disabled=\\\"disabled\\\"></label><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" \\nform=\\\"vm.rForm\\\"></formly-form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"vm.submitAvatar()\\\" \\nclass=\\\"button button-block button-positive\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/intro/user-intro.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"area1 step1\\\"><div class=\\\"logo\\\"><span \\nclass=\\\"icon2-logo\\\"></span></div><span class=\\\"desc\\\">{{\\'USER.DESC1\\' | translate}}<br>{{\\'USER.DESC2\\' | translate}}</span>\\n</div><div class=\\\"step2\\\"><facebook-login></facebook-login><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span translate=\\\"or\\\">\\n</span><div class=\\\"line\\\"></div></div><button class=\\\"button button-block button-light button-outline\\\" \\nui-sref=\\\"user.register\\\" translate=\\\"USER.BUTTON.SIGNUP\\\"></button> <span class=\\\"term\\\">{{\\'USER.TERM\\' | translate}} <a \\nhref=\\\"\\\">{{\\'USER.TERM1\\' | translate}}</a> e <a href=\\\"\\\">{{\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.login\\\" \\ntranslate=\\\"USER.BUTTON.SIGNIN\\\"></button></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/layout/user-layout.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content padding=\\\"false\\\"><ion-nav-view></ion-nav-view></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/module/user/module/login/user-login.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"step1\\\"><div class=\\\"logo\\\"><span \\nclass=\\\"icon2-logo\\\"></span></div><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"><button \\nclass=\\\"button button-block button-outline button-light\\\" type=\\\"button\\\" ng-disabled=\\\"vm.rForm.$invalid\\\" \\nng-click=\\\"vm.submitLogin(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></formly-form></div><div \\nclass=\\\"step2\\\"><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><facebook-login>\\n</facebook-login><button class=\\\"button button-block button-light button-outline\\\" ui-sref=\\\"user.register\\\" translate>\\nUSER.BUTTON.SIGNUP</button> <span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}\\n</a> e <a href=\\\"\\\">{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.intro\\\" \\ntranslate=\\\"USER.BUTTON.SIGNUP2\\\"></button></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/merge/merge.html\",\"<ion-view id=\\\"user-login\\\"><ion-content class=\\\"view-avatar padding\\\"><h1>Merge Account</h1><div class=\\\"step1 padding\\\"><h5\\n translate>USER.MERGE</h5></div><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ vm.form.facebookimg }}\\\"></div></div><div class=\\\"step2\\\"><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" \\nform=\\\"rForm\\\"><input type=\\\"hidden\\\" ng-model=\\\"vm.form.facebookimg\\\"></formly-form></div><div class=\\\"padding step3\\\"><button\\n ng-click=\\\"vm.submit(rForm, vm.form)\\\" class=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\">\\n</i> <span translate>USER.BUTTON.MERGE</span></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/module/user/module/register/user-register.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content class=\\\"padding\\\" scroll=\\\"false\\\"><div class=\\\"step1\\\"><div class=\\\"logo\\\"><span \\nclass=\\\"icon2-logo\\\"></span></div><formly-form model=\\\"vm.form\\\" fields=\\\"vm.formFields\\\" form=\\\"vm.rForm\\\"><div \\nclass=\\\"padding\\\"><button class=\\\"button button-block button-positive\\\" type=\\\"button\\\" ng-disabled=\\\"rForm.$invalid\\\" \\nng-click=\\\"vm.submitRegister(vm.rForm, vm.form)\\\" translate=\\\"USER.BUTTON.NEXT\\\"></button></div></formly-form></div><div \\nclass=\\\"step2\\\"><div class=\\\"or\\\"><div class=\\\"line\\\"></div><span>Ou</span><div class=\\\"line\\\"></div></div><facebook-login>\\n</facebook-login><span class=\\\"term\\\">{{::\\'USER.TERM\\' | translate}} <a href=\\\"\\\">{{::\\'USER.TERM1\\' | translate}}</a> e <a \\nhref=\\\"\\\">{{::\\'USER.TERM2\\' | translate}}</a></span></div><button \\nclass=\\\"button button-block button-light button-clear button-footer\\\" ui-sref=\\\"user.intro\\\" \\ntranslate=\\\"USER.BUTTON.SIGNIN\\\"></button></ion-content></ion-view>\");}]);"],"sourceRoot":"/source/"}